{"version":3,"file":"static/js/69557.171d9f95.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/interfaces.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DView.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DTool.js","../node_modules/@arcgis/core/widgets/DirectLineMeasurement3D/DirectLineMeasurement3DViewModel.js","../node_modules/@arcgis/core/analysis/DirectLineMeasurementAnalysis.js","../node_modules/@arcgis/core/views/3d/analysis/interfaces.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar e,o;!function(e){e[e.None=0]=\"None\",e[e.Direct=1]=\"Direct\",e[e.Triangle=2]=\"Triangle\",e[e.ProjectedGeodesic=3]=\"ProjectedGeodesic\"}(e||(e={})),function(e){e[e.Auto=0]=\"Auto\",e[e.AboveSegment=1]=\"AboveSegment\",e[e.BelowSegment=2]=\"BelowSegment\"}(o||(o={}));export{e as ViewMode,o as VisualElementOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import i from\"../../../../../Color.js\";import t from\"../../../../../core/Accessor.js\";import{getContrast as s,multiplyOpacityToUnitRGBA as o,colorVectorEquals as n,colorVectorToColorAndOpacity as a}from\"../../../../../core/colorUtils.js\";import\"../../../../../core/has.js\";import{destroyMaybe as r}from\"../../../../../core/maybe.js\";import{watch as l,initial as d}from\"../../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as p}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromPoints as u}from\"../../../../../geometry/support/lineSegment.js\";import{MeasurementMode as m}from\"../../../analysis/interfaces.js\";import{ViewMode as g}from\"../../../analysis/DirectLineMeasurement/interfaces.js\";import{Manipulator3D as _}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as y}from\"../../manipulatorUtils.js\";import{RenderObject as v}from\"../../RenderObject.js\";import{LaserlineVisualElement as w}from\"../../visualElements/LaserlineVisualElement.js\";import{createSphereGeometry as b}from\"../../../webgl-engine/lib/GeometryUtil.js\";var L;!function(e){e.Manipulators=\"manipulators\",e.AnalysisViewDestroyed=\"analysis-view-destroyed\",e.AnalysisView=\"analysis-view\"}(L||(L={}));let P=class extends t{constructor(e){super(e),this.cursorPoint=null,this._visible=!1,this._laserLine=null,this.laserLineEnabled=!0,this._lastDraggedHandle=null}initialize(){this._laserLine=new w({view:this.view,attached:!0,isDecoration:!0}),this._updateVisibility(this._visible),this._connectToAnalysisView(),this.addHandles(l((()=>this._params),(({laserLineGlowColor:e,laserLineInnerColor:i,laserLineGlobalAlpha:t})=>{const s=this._laserLine,o=s.style;s.style={...o,innerColor:i,glowColor:e,globalAlpha:t}})))}destroy(){this._laserLine=r(this._laserLine)}get _params(){const{accentColor:e}=this.view.effectiveTheme;return{laserLineGlowColor:i.toUnitRGB(e),laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:i.toUnitRGB(s(e)),laserLineInnerWidth:.75,laserLineGlobalAlpha:.75*e.a,handleColor:o(e,.5),handleRadius:5}}get visible(){return this._visible}set visible(e){e?this.show():this.hide()}get testData(){}get _cursorPosition(){const e=p(),i=this.cursorPoint;return i&&this.view.renderCoordsHelper.toRenderCoords(i,e),e}get _startPosition(){const e=p(),i=this.analysis.startPoint;return i&&this.view.renderCoordsHelper.toRenderCoords(i,e),e}get _endPosition(){const e=p(),i=this.analysis.endPoint;return i&&this.view.renderCoordsHelper.toRenderCoords(i,e),e}get _laserLineParams(){const e=this._focusPosition,{active:i,lineState:t}=this.toolState,s=this.analysisViewData,o=this.laserLineEnabled&&!!e&&\"measured\"!==t&&i;if(!o||!this.visible||null==s||s.destroyed)return{heightManifoldTarget:null,pointDistanceLine:null,lineVerticalPlaneSegment:null};const n=s.actualVisualizedMeasurement,a=\"local\"!==this.view.viewingMode&&o&&!!this.analysis.startPoint&&\"geodesic\"===n,r=o&&s.viewMode===g.Triangle;return{heightManifoldTarget:\"euclidean\"===n?e:null,pointDistanceLine:a?this._pointDistanceLine:null,lineVerticalPlaneSegment:r?u(this._startPosition,this._endPosition):null}}get _focusPosition(){const{lineState:e}=this.toolState,i=this.analysisViewData,t=null!=i&&!i.destroyed&&i.measurementMode===m.Euclidean&&i.viewMode===g.Direct;switch(e){case\"drawing\":return t?this._startPosition:this.analysis.endPoint?this._endPosition:this._startPosition;case\"editing\":return t?\"start\"===this._lastDraggedHandle?this._endPosition:this._startPosition:\"start\"===this._lastDraggedHandle?this._startPosition:this._endPosition;default:return null!=this.cursorPoint?this._cursorPosition:null}}get _pointDistanceLine(){return{origin:\"drawing\"===this.toolState.lineState||\"end\"===this._lastDraggedHandle?this._startPosition:this._endPosition,target:this._focusPosition}}createManipulators(){const e=this._params,{view:i}=this,t=()=>{const t=y(e.handleColor),s=[new v(b(t,1,32,32))],o=new _({view:i,renderObjects:s});return o.available=!1,o.radius=e.handleRadius,[o,t]},[s,o]=t(),[r,d]=t(),h=new _({view:this.view,available:!1,interactive:!1});null!=this.analysis.startPoint&&(s.location=this.analysis.startPoint,s.available=!0),null!=this.analysis.endPoint&&(r.location=this.analysis.endPoint,r.available=!0);const c=()=>{let e=this._lastDraggedHandle;s.grabbing&&!r.grabbing&&(e=\"start\"),r.grabbing&&!s.grabbing&&(e=\"end\"),s.grabbing||r.grabbing||(e=null),this._lastDraggedHandle=e},p=s.events.on(\"grab-changed\",c),u=r.events.on(\"grab-changed\",c);return this.addHandles([p,u,l((()=>a(this._params.handleColor)),(e=>{o.setParameters({color:e}),d.setParameters({color:e})}),{equals:n})],L.Manipulators),{start:s,end:r,cursor:h}}show(){this.destroyed||this._visible||this._updateVisibility(!0)}hide(){!this.destroyed&&this._visible&&this._updateVisibility(!1)}_connectToAnalysisView(){this.removeHandles(L.AnalysisView),this.addHandles([l((()=>this.analysisViewData?.destroyed),(e=>{e&&this.removeHandles(L.AnalysisView)}),d),l((()=>[\"measured\"===this.toolState.lineState,this.analysisViewData]),(([e,i])=>{null==i||i.destroyed||(i.allowVisualElementsOrientationChange=!e)}),d),l((()=>this._laserLineParams),(e=>{const i=this._laserLine;i.heightManifoldTarget=e.heightManifoldTarget,i.pointDistanceLine=e.pointDistanceLine,i.lineVerticalPlaneSegment=e.lineVerticalPlaneSegment}),d)],L.AnalysisView)}_updateVisibility(e){this.initialized&&(this._visible=e,e?this._laserLine.style={innerColor:this._params.laserLineInnerColor,innerWidth:this._params.laserLineInnerWidth,glowColor:this._params.laserLineGlowColor,glowWidth:this._params.laserLineGlowWidth,glowFalloff:this._params.laserLineGlowFalloff,globalAlpha:this._params.laserLineGlobalAlpha}:this.view.cursor=null,this._laserLine.visible=e)}};e([h({constructOnly:!0})],P.prototype,\"view\",void 0),e([h()],P.prototype,\"_params\",null),e([h({constructOnly:!0})],P.prototype,\"analysis\",void 0),e([h({constructOnly:!0})],P.prototype,\"analysisViewData\",void 0),e([h()],P.prototype,\"cursorPoint\",void 0),e([h()],P.prototype,\"toolState\",void 0),e([h()],P.prototype,\"visible\",null),e([h()],P.prototype,\"testData\",null),e([h()],P.prototype,\"_visible\",void 0),e([h()],P.prototype,\"_laserLine\",void 0),e([h({constructOnly:!0})],P.prototype,\"laserLineEnabled\",void 0),e([h()],P.prototype,\"_cursorPosition\",null),e([h()],P.prototype,\"_startPosition\",null),e([h()],P.prototype,\"_endPosition\",null),e([h()],P.prototype,\"_lastDraggedHandle\",void 0),e([h()],P.prototype,\"_laserLineParams\",null),e([h()],P.prototype,\"_focusPosition\",null),e([h()],P.prototype,\"_pointDistanceLine\",null),P=e([c(\"esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DView\")],P);export{P as DirectLineMeasurement3DView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{destroyMaybe as e}from\"../../../../../core/maybe.js\";import{memoize as i}from\"../../../../../core/memoize.js\";import{watch as n,syncAndInitial as a}from\"../../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as o}from\"../../../../../core/support/UpdatingHandles.js\";import l from\"../../../../../geometry/Point.js\";import{clonePoint as u}from\"../../../../../layers/graphics/hydratedFeatures.js\";import{isPrimaryPointerAction as p}from\"../../../analysis/support/measurementUtils.js\";import{SnappingVisualizer3D as c}from\"../../SnappingVisualizer3D.js\";import{SurfaceType as d,screenToMap3D as h,hideManipulatorWhileDragging as m}from\"../../editingTools/dragEventPipeline3D.js\";import{DirectLineMeasurement3DView as g}from\"./DirectLineMeasurement3DView.js\";import{getElevationAtPoint as v}from\"../../../support/ElevationProvider.js\";import{AnalysisToolBase as y}from\"../../../../interactive/AnalysisToolBase.js\";import{createCoordinateHelper as P}from\"../../../../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as f,resetProperties as w}from\"../../../../interactive/dragEventPipeline.js\";import{EditGeometry as _}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as S}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as M}from\"../../../../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as D}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";import{acquire as j}from\"../../../../interactive/snapping/SnappingManagerPool.js\";import{setupSnappingToggleHandles as b}from\"../../../../interactive/snapping/snappingUtils.js\";import{createScreenPointFromEvent as L}from\"../../../../support/screenUtils.js\";let x=class extends y{constructor(t){super(t),this._updatingHandles=new o,this._emulatedDrag=null,this.lineState=\"initial\",this.startPointSurfaceLocation=null,this.endPointSurfaceLocation=null,this.cursorPointSurfaceLocation=null,this.startManipulator=null,this.endManipulator=null,this.cursorManipulator=null,this._getSnappingContext=i((t=>new M({elevationInfo:{mode:\"absolute-height\",offset:0},pointer:t,editGeometryOperations:new S(new _(\"point\",P(!0,!1,this.view.spatialReference)),this.view.state.viewingMode),visualizer:new c})))}initialize(){const{view:t,analysis:e,analysisViewData:i,visible:s}=this;this.measurementView=new g({toolState:this,view:t,analysis:e,analysisViewData:i,visible:s});const r=j(t);this._snappingManagerResult=r,this.addHandles(r);const{start:o,end:p,cursor:c}=this.measurementView.createManipulators(),d=(t,e,i)=>f(t,((t,n,a,s)=>{const r=m(t),o=this._snappingManager,p=this._getSnappingContext(s),c=this._updatingHandles,{lineState:d}=this;a=a.next(r).next(w(this,[i,e])).next((i=>{if(\"cursorPoint\"!==e){const i=this.analysis[e];null!=i&&(t.location=i)}return i}));const g=h(this.view),v=t=>{const n=g(t);return n||\"drawing\"!==this.lineState&&\"initial\"!==this.lineState||(this[e]=null,this[i]=null),n};let y=n.next(r).next(v);if(\"touch\"!==s||\"editing\"===d){const{snappingStep:t,cancelSnapping:e}=D({snappingManager:o,snappingContext:p,updatingHandles:c});a=a.next(e),y=y.next(...t)}y.next((t=>\"start\"!==t.action?t:null)).next((n=>{const a=u(n.mapEnd,new l);this[e]=a,t.location=a,this[i]=this._surfaceLocation(a,n.surfaceType)}))})),v=t=>t.events.on(\"grab-changed\",(()=>{const t=o.grabbing||p.grabbing;this.lineState=t?\"editing\":\"measured\"}));this.addHandles([d(o,\"startPoint\",\"startPointSurfaceLocation\"),d(p,\"endPoint\",\"endPointSurfaceLocation\"),d(c,\"cursorPoint\",\"cursorPointSurfaceLocation\"),v(o),v(p)]),this.manipulators.add(o),this.manipulators.add(p),this.manipulators.add(c),this.startManipulator=o,this.endManipulator=p,this.cursorManipulator=c,this.addHandles(n((()=>this.state),(t=>{\"measured\"===t&&this.finishToolCreation()}),a)),b(this)}destroy(){this._updatingHandles=e(this._updatingHandles),this.measurementView=e(this.measurementView)}get _snappingManager(){return this._snappingManagerResult.snappingManager}get state(){const{analysis:t}=this;if(null==t.startPoint&&null==t.endPoint)return\"ready\";const{lineState:e}=this;return this.validMeasurement&&\"editing\"!==e&&\"drawing\"!==e?\"measured\":\"measuring\"}get cursor(){return\"ready\"===this.state||\"drawing\"===this.lineState?\"crosshair\":null}get startPoint(){return this.analysis.startPoint}set startPoint(t){this.analysis.startPoint=t}get endPoint(){return this.analysis.endPoint}set endPoint(t){this.analysis.endPoint=t}get cursorPoint(){return this.measurementView.cursorPoint}set cursorPoint(t){this.measurementView.cursorPoint=t}get snappingOptions(){return this._snappingManager.options}get validMeasurement(){return null!=this.analysis.startPoint&&null!=this.analysis.endPoint}get updating(){return this._updatingHandles.updating||this._snappingManager.updating}onShow(){this.measurementView.show(),this._updateManipulatorAvailability()}onHide(){this.measurementView.hide()}onDeactivate(){this._emulatedDrag?.cancel(),this._emulatedDrag=null}onInputEvent(t){switch(t.type){case\"immediate-click\":this._handleImmediateClick(t);break;case\"pointer-move\":this._handlePointerMove(t)}this._updateManipulatorAvailability()}_handlePointerMove(t){if(!this.active||this.view.navigating)return;const{pointerType:e}=t;if(\"mouse\"!==e)return;const i=L(t),{lineState:n,cursorManipulator:a,endManipulator:s}=this;let r=!1;null==this.cursorPoint&&(this._emulatedDrag?.cancel(),this._emulatedDrag=V(a,e,i),r=!0),\"initial\"===n&&(this._emulatedDrag?.update(i),r=!0),\"drawing\"===n&&(s.events.emit(\"drag\",{action:\"update\",start:i,screenPoint:i}),r=!0),r&&t.stopPropagation()}_handleImmediateClick(t){if(!this.active)return;if(!p(t))return;const e=L(t),{pointerType:i}=t,{cursorManipulator:n,startManipulator:a,endManipulator:s,lineState:r}=this;let o=!1;switch(null==this.cursorPoint&&(this._emulatedDrag?.cancel(),this._emulatedDrag=V(n,i,e)),r){case\"initial\":if(this._emulatedDrag?.update(e),null!=this.cursorPoint){this._emulatedDrag?.end(e),this._emulatedDrag=null;const{cursorPoint:t}=this;this.startPoint=t,this.startPointSurfaceLocation=this.cursorPointSurfaceLocation,a.location=t,a.interactive=!1,s.interactive=!1,this.lineState=\"drawing\",this._emulatedDrag=V(s,i,e),o=!0}break;case\"drawing\":this._emulatedDrag?.update(e),null!=this.endPoint&&(this._emulatedDrag?.end(e),this._emulatedDrag=null,a.interactive=!0,s.interactive=!0,this.lineState=\"measured\",o=!0)}o&&t.stopPropagation()}_surfaceLocation(t,e){return e===d.GROUND?\"on-the-surface\":(t.z??0)>=this._getElevation(t)?\"above-the-surface\":\"below-the-surface\"}_updateManipulatorAvailability(){this.startManipulator.available=null!=this.analysis.startPoint,this.endManipulator.available=null!=this.analysis.endPoint}_getElevation(t){return this.view.basemapTerrain.ready?v(this.view.elevationProvider,t)??0:0}get test(){}};function V(t,e,i){return t.events.emit(\"drag\",{action:\"start\",pointerType:e,start:i,screenPoint:i}),{update:e=>t.events.emit(\"drag\",{action:\"update\",start:e,screenPoint:e}),end:e=>t.events.emit(\"drag\",{action:\"end\",start:e,screenPoint:e}),cancel:()=>t.events.emit(\"drag\",{action:\"cancel\"})}}t([s({readOnly:!0})],x.prototype,\"state\",null),t([s()],x.prototype,\"lineState\",void 0),t([s({readOnly:!0})],x.prototype,\"cursor\",null),t([s()],x.prototype,\"startPoint\",null),t([s()],x.prototype,\"endPoint\",null),t([s()],x.prototype,\"cursorPoint\",null),t([s({constructOnly:!0})],x.prototype,\"analysis\",void 0),t([s({constructOnly:!0})],x.prototype,\"analysisViewData\",void 0),t([s()],x.prototype,\"measurementView\",void 0),t([s({constructOnly:!0})],x.prototype,\"view\",void 0),t([s({readOnly:!0})],x.prototype,\"validMeasurement\",null),t([s({value:null})],x.prototype,\"startPointSurfaceLocation\",void 0),t([s({value:null})],x.prototype,\"endPointSurfaceLocation\",void 0),t([s({value:null})],x.prototype,\"cursorPointSurfaceLocation\",void 0),t([s()],x.prototype,\"updating\",null),x=t([r(\"esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DTool\")],x);const H=x;export{H as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../analysis/DirectLineMeasurementAnalysis.js\";import{watch as i,syncAndInitial as s}from\"../../core/reactiveUtils.js\";import{measurementLengthUnits as n}from\"../../core/unitUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as o}from\"../../properties/defaultUnit.js\";import a from\"../../views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DTool.js\";import{InteractiveAnalysisViewModel as u}from\"../support/InteractiveAnalysisViewModel.js\";let p=class extends u{constructor(t){super(t),this.analysis=null,this.supportedViewType=\"3d\",this.unsupportedErrorMessage=\"DirectLineMeasurement3DViewModel is only supported in 3D views.\",this._userUnit=null,this._userUnitOptions=null}initialize(){this.addHandles(i((()=>({analysis:this.analysis,unit:this.unit})),(({analysis:t,unit:e})=>{null!=t&&(t.unit=e)}),s))}get state(){return this.disabled||!this.ready?\"disabled\":null==this.tool?\"ready\":this.tool.state}get measurement(){const{tool:t}=this;if(null==t)return null;const e=()=>({text:null,state:\"unavailable\"}),i=t=>({text:t,state:\"available\"}),{analysisViewData:s}=t,n=null!=s.result;return{mode:s.result?.mode??\"euclidean\",directDistance:n&&\"euclidean\"===s.actualVisualizedMeasurement?i(s.directLabelText):e(),horizontalDistance:n?i(s.horizontalLabelText):e(),verticalDistance:n?i(s.verticalLabelText):e()}}set unitOptions(t){this._userUnitOptions=t,this._set(\"unitOptions\",this._filteredOrAllUnits(this._userUnitOptions))}get unitOptions(){return this._filteredOrAllUnits(this._userUnitOptions)}set unit(t){this._userUnit=t?this._findSelectableUnit(t,this._userUnit):null}get unit(){return this._userUnit?(this._userUnit=this._findSelectableUnit(this._userUnit,this.defaultUnit),this._userUnit):this._findSelectableUnit(this.defaultUnit)}constructAnalysis(){return new e}constructTool(){return new a({view:this.view,analysis:this.analysis,analysisViewData:this.analysisView,visible:this.visible})}_findSelectableUnit(t,e){const i=this.unitOptions;return i.includes(t)?t:e?this._findSelectableUnit(e):i[0]}_filteredOrAllUnits(t){if(!t)return n.slice();const e=t.filter((t=>n.includes(t)));return 0===e.length?n.slice():e}};t([r({type:e})],p.prototype,\"analysis\",void 0),t([r({readOnly:!0})],p.prototype,\"state\",null),t([r({readOnly:!0})],p.prototype,\"measurement\",null),t([r()],p.prototype,\"unitOptions\",null),t([r()],p.prototype,\"unit\",null),t([r(o)],p.prototype,\"defaultUnit\",void 0),t([r()],p.prototype,\"_userUnit\",void 0),t([r()],p.prototype,\"_userUnitOptions\",void 0),p=t([l(\"esri.widgets.DirectLineMeasurement3D.DirectLineMeasurement3DViewModel\")],p);const c=p;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import r from\"./Analysis.js\";import{measurementLengthUnits as e}from\"../core/unitUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"../geometry/Point.js\";let n=class extends r{constructor(t){super(t),this.type=\"direct-line-measurement\",this.startPoint=null,this.endPoint=null,this.unit=null}get requiredPropertiesForEditing(){return[this.startPoint,this.endPoint]}clear(){this.startPoint=null,this.endPoint=null}};t([o({type:[\"direct-line-measurement\"]})],n.prototype,\"type\",void 0),t([o({type:i})],n.prototype,\"startPoint\",void 0),t([o({type:i})],n.prototype,\"endPoint\",void 0),t([o({type:e,value:null})],n.prototype,\"unit\",void 0),t([o({readOnly:!0})],n.prototype,\"requiredPropertiesForEditing\",null),n=t([s(\"esri.analysis.DirectLineMeasurementAnalysis\")],n);const p=n;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.Auto=0]=\"Auto\",e[e.Euclidean=1]=\"Euclidean\",e[e.Geodesic=2]=\"Geodesic\"}(e||(e={}));export{e as MeasurementMode};\n"],"names":["e","o","None","Direct","Triangle","ProjectedGeodesic","Auto","AboveSegment","BelowSegment","L","Manipulators","AnalysisViewDestroyed","AnalysisView","P","t","constructor","super","this","cursorPoint","_visible","_laserLine","laserLineEnabled","_lastDraggedHandle","initialize","w","view","attached","isDecoration","_updateVisibility","_connectToAnalysisView","addHandles","l","_params","_ref","laserLineGlowColor","laserLineInnerColor","i","laserLineGlobalAlpha","s","style","innerColor","glowColor","globalAlpha","destroy","r","accentColor","effectiveTheme","toUnitRGB","laserLineGlowWidth","laserLineGlowFalloff","laserLineInnerWidth","a","handleColor","handleRadius","visible","show","hide","testData","_cursorPosition","p","renderCoordsHelper","toRenderCoords","_startPosition","analysis","startPoint","_endPosition","endPoint","_laserLineParams","_focusPosition","active","lineState","toolState","analysisViewData","destroyed","heightManifoldTarget","pointDistanceLine","lineVerticalPlaneSegment","n","actualVisualizedMeasurement","viewingMode","viewMode","g","_pointDistanceLine","u","measurementMode","m","Euclidean","origin","target","createManipulators","y","v","b","_","renderObjects","available","radius","d","h","interactive","location","c","grabbing","events","on","setParameters","color","equals","start","end","cursor","removeHandles","_ref2","allowVisualElementsOrientationChange","initialized","innerWidth","glowWidth","glowFalloff","constructOnly","prototype","x","_updatingHandles","_emulatedDrag","startPointSurfaceLocation","endPointSurfaceLocation","cursorPointSurfaceLocation","startManipulator","endManipulator","cursorManipulator","_getSnappingContext","M","elevationInfo","mode","offset","pointer","editGeometryOperations","S","spatialReference","state","visualizer","measurementView","j","_snappingManagerResult","f","_snappingManager","next","snappingStep","cancelSnapping","D","snappingManager","snappingContext","updatingHandles","action","mapEnd","_surfaceLocation","surfaceType","manipulators","add","finishToolCreation","validMeasurement","snappingOptions","options","updating","onShow","_updateManipulatorAvailability","onHide","onDeactivate","cancel","onInputEvent","type","_handleImmediateClick","_handlePointerMove","navigating","pointerType","V","update","emit","screenPoint","stopPropagation","GROUND","z","_getElevation","basemapTerrain","ready","elevationProvider","test","readOnly","value","H","supportedViewType","unsupportedErrorMessage","_userUnit","_userUnitOptions","unit","disabled","tool","measurement","text","result","directDistance","directLabelText","horizontalDistance","horizontalLabelText","verticalDistance","verticalLabelText","unitOptions","_set","_filteredOrAllUnits","_findSelectableUnit","defaultUnit","constructAnalysis","constructTool","analysisView","includes","slice","filter","length","requiredPropertiesForEditing","clear","Geodesic"],"sourceRoot":""}