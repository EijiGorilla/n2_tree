"use strict";(self.webpackChunkn2_tree=self.webpackChunkn2_tree||[]).push([[65135],{13023:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var r,a=n(35143),i=n(42553),l=n(46053),s=(n(81806),n(76460),n(47249),n(85842)),o=n(76797),u=n(89189),c=n(65215),d=n(19902),f=n(15359);const m={base:u.default,key:"type",typeMap:{extent:o.default,polygon:c.default}};let h=r=class extends i.A{constructor(e){super(e),this.areaOfInterest=null,this.subsetDefinitions=null}get dimensions(){const{subsetDefinitions:e}=this;if(null==e||0===e.length)return[];const t=new Map;e.forEach((e=>{if(!e.dimensionName)return;let n,r;if(Array.isArray(e.values[0])){const t=e.values;n=t[0][0],r=t[e.values.length-1][1]}else{const t=e.values;n=t[0],r=t[e.values.length-1]}if(t.has(e.dimensionName)){const a=t.get(e.dimensionName);a[0]=Math.min(n,a[0]),a[1]=Math.max(r,a[1])}else t.set(e.dimensionName,[n,r])}));const n=[];for(const r of t)n.push({name:r[0],extent:r[1]});return n}get variables(){const{subsetDefinitions:e}=this;if(null==e||0===e.length)return[];const t=new Set;return e.forEach((e=>{e.variableName&&t.add(e.variableName)})),[...t]}clone(){const e=this.subsetDefinitions?.map((e=>e.clone())),t=this.areaOfInterest?this.areaOfInterest.clone():this.areaOfInterest;return new r({areaOfInterest:t,subsetDefinitions:e})}};(0,a._)([(0,l.MZ)({types:m,json:{read:d.fromJSON,write:!0}})],h.prototype,"areaOfInterest",void 0),(0,a._)([(0,l.MZ)({readOnly:!0})],h.prototype,"dimensions",null),(0,a._)([(0,l.MZ)({readOnly:!0})],h.prototype,"variables",null),(0,a._)([(0,l.MZ)({type:[f.default],json:{write:!0}})],h.prototype,"subsetDefinitions",void 0),h=r=(0,a._)([(0,s.$)("esri.layers.support.MultidimensionalSubset")],h);const w=h},42915:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(50076),a=n(16783),i=n(66486);class l{constructor(){this._workerThread=null,this._destroyed=!1}async initialize(){const e=await(0,a.ho)("RasterWorker");this._destroyed?e.close():this._workerThread=e}destroy(){this._destroyed=!0,this._workerThread&&(this._workerThread.close(),this._workerThread=null)}async convertVectorFieldData(e,t){if(!this._workerThread)throw new r.default("raster-jobhandler:no-connection","no available worker connection");const n=await this._workerThread.invoke("convertVectorFieldData",{pixelBlock:e.pixelBlock.toJSON(),type:e.dataType},t);return n?new i.default(n):null}computeStatisticsHistograms(e,t){if(!this._workerThread)throw new r.default("raster-jobhandler:no-connection","no available worker connection");return this._workerThread.invoke("computeStatisticsHistograms",{pixelBlock:e.pixelBlock.toJSON()},t)}async decode(e,t){if(!this._workerThread)throw new r.default("raster-jobhandler:no-connection","no available worker connection");const n=await this._workerThread.invoke("decode",e,t);return n?new i.default(n):null}async symbolize(e,t){if(!this._workerThread)throw new r.default("raster-jobhandler:no-connection","no available worker connection");const n={extent:e.extent?.toJSON(),pixelBlock:e.pixelBlock?.toJSON(),simpleStretchParams:e.simpleStretchParams,bandIds:e.bandIds},a=await this._workerThread.invoke("symbolize",n,t);return a?new i.default(a):null}async updateSymbolizer(e,t){if(!this._workerThread)throw new r.default("raster-jobhandler:no-connection","no available worker connection");const n=e?.rendererJSON?.histograms;await Promise.all(this._workerThread.broadcast("updateSymbolizer",{symbolizerJSON:e.toJSON(),histograms:n},t))}async updateRasterFunction(e,t){if(!this._workerThread)throw new r.default("raster-jobhandler:no-connection","no available worker connection");await Promise.all(this._workerThread.broadcast("updateRasterFunction",{rasterFunctionJSON:e.toJSON()},t))}async process(e,t){if(!this._workerThread)throw new r.default("raster-jobhandler:no-connection","no available worker connection");const n=await this._workerThread.invoke("process",{extent:e.extent?.toJSON(),primaryPixelSizes:e.primaryPixelSizes?.map((e=>null!=e?e.toJSON():null)),primaryPixelBlocks:e.primaryPixelBlocks.map((e=>null!=e?e.toJSON():null)),primaryRasterIds:e.primaryRasterIds},t);return n?new i.default(n):null}async stretch(e,t){if(!this._workerThread)throw new r.default("raster-jobhandler:no-connection","no available worker connection");if(!e?.pixelBlock)return null;const n={srcPixelBlock:e.pixelBlock.toJSON(),stretchParams:e.stretchParams},a=await this._workerThread.invoke("stretch",n,t);return a?new i.default(a):null}async split(e,t){if(!this._workerThread)throw new r.default("raster-jobhandler:no-connection","no available worker connection");if(!e?.pixelBlock)return null;const n={srcPixelBlock:e.pixelBlock.toJSON(),tileSize:e.tileSize,maximumPyramidLevel:e.maximumPyramidLevel,useBilinear:e.useBilinear},a=await this._workerThread.invoke("split",n,t);return a&&a.forEach(((e,t)=>{a.set(t,e?i.default.fromJSON(e):null)})),a}async clipTile(e,t){if(!this._workerThread)throw new r.default("raster-jobhandler:no-connection","no available worker connection");if(!e?.pixelBlock)return null;const n={...e,pixelBlock:e.pixelBlock.toJSON()},a=await this._workerThread.invoke("clipTile",n,t);return a?i.default.fromJSON(a):null}async estimateStatisticsHistograms(e,t){if(!this._workerThread)throw new r.default("raster-jobhandler:no-connection","no available worker connection");if(!e?.pixelBlock)return null;const n={srcPixelBlock:e.pixelBlock.toJSON()};return await this._workerThread.invoke("estimateStatisticsHistograms",n,t)}async mosaicAndTransform(e,t){if(!this._workerThread)throw new r.default("raster-jobhandler:no-connection","no available worker connection");if(!e?.srcPixelBlocks?.length)return{pixelBlock:null};const n={...e,srcPixelBlocks:e.srcPixelBlocks.map((e=>null!=e?e.toJSON():null))},a=await this._workerThread.invoke("mosaicAndTransform",n,t);return{pixelBlock:a.pixelBlock?new i.default(a.pixelBlock):null,localNorthDirections:a.localNorthDirections}}async createFlowMesh(e,t){if(!this._workerThread)throw new r.default("raster-jobhandler:no-connection","no available worker connection");const n={buffer:e.flowData.data.buffer,maskBuffer:e.flowData.mask.buffer,width:e.flowData.width,height:e.flowData.height},{meshType:a,simulationSettings:i}=e,l=await this._workerThread.invoke("createFlowMesh",{meshType:a,flowData:n,simulationSettings:i},{...t,transferList:[n.buffer,n.maskBuffer]});return{vertexData:new Float32Array(l.vertexBuffer),indexData:new Uint32Array(l.indexBuffer)}}getProjectionOffsetGrid(e,t){if(!this._workerThread)throw new r.default("raster-jobhandler:no-connection","no available worker connection");const n=null!=e.datumTransformation?e.datumTransformation.steps.map((e=>({wkid:e.wkid,wkt:e.wkt,isInverse:e.isInverse}))):null,a=null!=e.rasterTransform?e.rasterTransform.toJSON():null,i={projectedExtent:e.projectedExtent.toJSON(),srcBufferExtent:e.srcBufferExtent.toJSON(),pixelSize:e.pixelSize,hasWrapAround:e.hasWrapAround,spacing:e.spacing,datumTransformationSteps:n,rasterTransform:a,isAdaptive:e.isAdaptive,includeGCSGrid:e.includeGCSGrid};return this._workerThread.invoke("getProjectionOffsetGrid",i,t)}}},51939:(e,t,n)=>{n.d(t,{AL:()=>b,DV:()=>w,ER:()=>a,F_:()=>s,Nd:()=>m,Oo:()=>i,dy:()=>f,eS:()=>x,h4:()=>S,jC:()=>p,nq:()=>h,rZ:()=>d,y6:()=>v});var r=n(44135);const a="Raster.",i="Raster.Dim.",l=".Max",s={servicePixelValue:"Raster.ServicePixelValue",rawServicePixelValue:"Raster.ServicePixelValue.Raw",itemPixelValue:"Raster.ItemPixelValue",magnitude:"Raster.Magnitude",direction:"Raster.Direction",variable:"Raster.Variable"},o=new Map([["quarters","Quarter"],["months","Month"],["weeks","Week of the year"],["days","Day of the year"]]);function u(e,t){return new r.default({name:e,alias:t,domain:null,editable:!1,length:50,type:"string"})}function c(e,t){return new r.default({name:e,alias:t,domain:null,editable:!1,type:"double"})}function d(e){return u(s.servicePixelValue,e??"Service Pixel Value")}function f(e){return u(s.rawServicePixelValue,e??"Raw Service Pixel Value")}function m(){return u(s.itemPixelValue,"Item Pixel Value")}function h(e){return u(`${s.servicePixelValue}.${e}`,e)}function w(e){return c(`${s.magnitude}`,"Magnitude"+(e?` (${e})`:""))}function v(){return c(`${s.direction}`,"Direction (\xb0)")}function p(e){return e.fields.filter((e=>"oid"!==e.type&&"value"!==e.name.toLowerCase())).map((e=>{const t=e.clone();return t.name=`${a}${e.name}`,t}))}function b(e){const t=new Set,n=new Set,a=new Map;return e.variables.forEach((e=>{let{dimensions:r}=e;r.forEach((e=>{if(e.recurring)a.set(e.name,e.unit);else{const r="ISO8601"===e.unit?.trim()?t:n;r.add(e.name),e.hasRanges&&r.add(`${e.name}${l}`)}}))})),[u(s.variable,"Variable"),...[...t].map((e=>function(e,t){return new r.default({name:e,alias:t,domain:null,editable:!1,type:"date"})}(`${i}${e}`,k(e)))),...[...n].map((e=>c(`${i}${e}`,k(e)))),...[...a].map((e=>{let[t,n]=e;return c(`${i}${t}`,y(t,n))}))]}function y(e,t){return t=t?.toLowerCase(),t&&o.has(t)?o.get(t):k(e)}function k(e){const t=e.endsWith(l),n=t?e.slice(0,-4):e,r="StdTime"===n?"Standard Time":"StdZ"===n?"Standard Z":n;return t?`${r} Max`:r}function g(e,t){return t?new Date(e):e}function x(e,t,n){n?.length&&(t[s.variable]=n[0].variableName,n.forEach((n=>{let{dimensionName:r,values:a}=n;if(r&&a?.length){const n=`${i}${r}`,s=e.find((e=>{let{name:t}=e;return t===n}));if(!s)return;const o="date"===s.type,u=a[0];if(Array.isArray(u)){if(t[`${i}${r}`]=g(u[0],o),null!=u[1]){const n=`${i}${r}${l}`;if(e.some((e=>{let{name:t}=e;return t===n}))){const e=g(u[1],o);t[n]=e}}}else t[`${i}${r}`]=g(u,o)}})))}function S(e,t){if(t.pixelType.startsWith("f")&&e.forEach((e=>{let{format:t,fieldName:n}=e;t&&n&&/^raster\.(item|service)pixelvalue/i.test(n)&&(t.places=2)})),t.multidimensionalInfo){const n=t.multidimensionalInfo.variables.flatMap((e=>{let{dimensions:t}=e;return t}));e.forEach((e=>{let{format:t,fieldName:r}=e;if(t&&r?.startsWith(i)){const e=r.slice(i.length),a=`${e}${l}`,s=n.find((t=>{let{name:n}=t;return n===e||n===a}));s?.values?.every((e=>Number.isInteger(e)))&&(t.places=0)}}))}}},68347:(e,t,n)=>{n.d(t,{$E:()=>S,DY:()=>p,NG:()=>x,QW:()=>l,Rp:()=>m,XU:()=>h,Xg:()=>g,ct:()=>w,fy:()=>v,sx:()=>f,xx:()=>s,z2:()=>b});var r=n(18690),a=n(15359);function i(e,t,n){const r=t.shift();if(0===n.length){const e=[];n.push({sliceId:-1,multidimensionalDefinition:e})}const a=n.length;for(let i=0;i<a;i++){const t=n.shift().multidimensionalDefinition;r.values?.forEach((a=>{n.push({sliceId:-1,multidimensionalDefinition:[...t,{variableName:e,dimensionName:r.name,values:[a]}]})}))}t.length&&i(e,t,n)}function l(e,t){const n=[];let r=0;return(t?e.variables.filter((e=>e.name.toLowerCase()===t.toLowerCase())):[...e.variables].sort(((e,t)=>e.name>t.name?1:-1))).forEach((e=>{const t=[],a=[...e.dimensions].sort(((e,t)=>e.name>t.name?-1:1));i(e.name,a,t),t.forEach((e=>{n.push({...e,sliceId:r++})}))})),n}function s(e,t,n){let r=e;if(t&&(t=[...t].sort(((e,t)=>e.dimensionName<t.dimensionName?-1:1))).forEach((e=>{let{dimensionName:t,values:n,isSlice:a}=e;n.length&&(r=r.filter((e=>{const r=e.multidimensionalDefinition.find((e=>e.dimensionName===t));if(null==r)return!1;const i=r.values[0];return"number"==typeof i?"number"==typeof n[0]?n.includes(i):n.some((e=>e[0]<=i&&e[1]>=i)):"number"==typeof n[0]?n.some((e=>i[0]<=e&&i[1]>=e)):a?n.some((e=>e[0]===i[0]&&e[0]===i[1])):n.some((e=>e[0]>=i[0]&&e[0]<=i[1]||e[1]>=i[0]&&e[1]<=i[1]||e[0]<i[0]&&e[1]>i[1]))})))})),r.length&&null!=n?.start&&null!=n.end){const e=n.start.getTime(),t=n.end.getTime(),a=r[0].multidimensionalDefinition.findIndex((e=>"StdTime"===e.dimensionName));a>-1&&(r=r.filter((n=>{const r=n.multidimensionalDefinition[a].values[0];return e<=r&&t>=r})))}return r.map((e=>e.sliceId))}function o(e,t){return Array.isArray(e)?t[0]===t[1]?e[0]===t[0]||e[1]===t[0]:e[0]>=t[0]&&e[0]<=t[1]&&e[1]>=t[0]&&e[1]<=t[1]:e>=t[0]&&e<=t[1]}function u(e,t){return e[0]<=t[0]&&e[1]>=t[0]||e[0]<=t[1]&&e[1]>=t[1]||e[0]>=t[0]&&e[1]<=t[1]}function c(e){return 1===e.length?[e[0],e[0]]:[e[0],e[e.length-1]]}function d(e,t,n){if(!t?.subsetDefinitions?.length)return e;let r;if(n){const{variables:a}=t;if(a.length&&!a.includes(n))return null;const i=t.subsetDefinitions.find((t=>t.dimensionName===e.name&&t.variableName===n));if(!i?.values?.length)return e;r=c(i.values)}else{const n=t.dimensions.find((t=>{let{name:n}=t;return n===e.name}));r=n?.extent}const a=r;if(!a?.length)return e;const i=e.values.filter((e=>o(e,a)));return{...e,extent:[...a],values:i}}function f(e,t,n){if(!t?.subsetDefinitions?.length)return!1;const{variables:r}=t;if(r.length&&e.some((e=>{let{variableName:t}=e;return t&&!r.includes(t)})))return!0;for(let a=0;a<e.length;a++){const r=e[a],i=t.subsetDefinitions.find((e=>(""===r.variableName||e.variableName===r.variableName)&&e.dimensionName===r.dimensionName));if(i?.values.length){const e=c(i.values);if(r.isSlice||2!==r.values.length||Array.isArray(r.values[0])||r.values[0]===r.values[1]||!n){if(r.values.some((t=>!o(t,e))))return!0}else if(!u(r.values,e))return!0}}return!1}function m(e,t){if(null==e)return{isOutside:!1};const{geometry:n,timeExtent:r,multidimensionalDefinition:i}=t;let l=null;if(null!=r&&(l=function(e,t){const n=e.dimensions.find((e=>{let{name:t}=e;return"StdTime"===t}));if(null==n||null==t.start&&null==t.end)return t;t=t.clone();const{start:r,end:i}=t.toJSON(),l=r===i?[r]:null!=r&&null!=i?[r,i]:[r??i];return 2===l.length&&n?.extent.length&&(l[0]=Math.max(l[0],n.extent[0]),l[1]=Math.min(l[1],n.extent[1]??n.extent[0]),l[1]<l[0])||f([new a.default({variableName:"",dimensionName:"StdTime",isSlice:1===l.length,values:l})],e,!0)?null:(t.start=new Date(l[0]),t.end=new Date(l[1]??l[0]),t)}(e,r),null==l))return{isOutside:!0};const{areaOfInterest:s}=e;if(s&&n){const e="point"===n.type?n:"extent"===n.type?n.center:"polygon"===n.type?n.centroid:null;if(e&&!s.contains(e))return{isOutside:!0}}return null!=i&&i.length&&f(i,e,!0)?{isOutside:!0}:{isOutside:!1,intersection:{geometry:n,timeExtent:l,multidimensionalDefinition:i}}}function h(e){const{rasterInfo:t,multidimensionalSubset:n}=e,{multidimensionalInfo:r}=t;if(null==r)return null;let a=e.multidimensionalDefinition?.length?e.multidimensionalDefinition:v(t,{multidimensionalSubset:n});if(!a?.length)return null;if(a.some((e=>!e.dimensionName))){const{variableName:e}=a[0],r=v(t,{multidimensionalSubset:n,variableName:e});r?.forEach((e=>{const t=a?.find((t=>{let{dimensionName:n}=t;return n===e.dimensionName}));t?.values?.length&&(e.values=t.values,e.isSlice=t.isSlice)})),a=r}const{timeExtent:i}=e;if(null!=a&&null!=i&&(null!=i.start||null!=i.end)){a=a.map((e=>e.clone()));const e=r.variables.find((e=>{let{name:t}=e;return t===a[0].variableName}))?.dimensions?.find((e=>{let{name:t}=e;return"StdTime"===t})),t=a.find((e=>{let{dimensionName:t}=e;return"StdTime"===t}));if(!e||!t)return null;const{start:n,end:l}=i,s=null==n?null:n.getTime(),o=null==l?null:l.getTime(),u=s??o,c=o??s;if(null!=e.values){const n=e.values.filter((e=>{if(Array.isArray(e)){if(u===c)return e[0]<=u&&e[1]>=u;const t=e[0]<=u&&e[1]>u||e[0]<c&&e[1]>=c,n=e[0]>=u&&e[1]<=c||e[0]<u&&e[1]>c;return t||n}return u===c?e===u:e>=u&&e<=c}));if(n.length){const e=n.sort(((e,t)=>{const n=Array.isArray(e)?e[0]:e,r=Array.isArray(e)?e[1]:e,a=Array.isArray(t)?t[0]:t,i=Array.isArray(t)?t[1]:t;return u===c?n-a:Math.abs(r-c)-Math.abs(i-c)}))[0];t.values=[e]}else a=null}else if(e.hasRegularIntervals&&e.extent){const[n,r]=e.extent;u>r||c<n?a=null:t.values=u===c?[u]:[Math.max(n,u),Math.min(r,c)]}}return null!=a&&f(a,n)?null:a}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{multidimensionalInfo:n,keyProperties:r}=e;if(null==n)return null;const{variableName:a,multidimensionalSubset:i,multidimensionalDefinition:l}=t,s=null!=l?l[0]?.variableName:null,o=a||s||r?.DefaultVariable;let{variables:u}=n;return i?.variables?.length&&(u=u.filter((e=>{let{name:t}=e;return i.variables.includes(t)}))),o?u.find((e=>{let{name:t}=e;return t===o}))??u[0]:u[0]}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=w(e,t);if(!n)return null;const r=[],{dimensions:i,name:l}=n;if(0===i.length)return[new a.default({variableName:l,dimensionName:"",values:[],isSlice:!0})];for(let s=0;s<i.length;s++){const e=d(i[s],t.multidimensionalSubset,l);if(!e)return null;const{values:n,extent:o}=e;let u=n?.[0]??o?.[0];"stdz"===e.name.toLowerCase()&&!e.hasRanges&&o&&Math.abs(o[1])<=Math.abs(o[0])&&(u=n?.length?n[n.length-1]:o[1]),r.push(new a.default({variableName:l,dimensionName:e.name,values:[u],isSlice:!t.useRangeForRangedDimensionInfo||!!e.hasRanges}))}return r}function p(e){return!!e?.length&&e.some((e=>{if(null==e.values)return!0;const t=e.values.length;return 0===t||t>1||!e.isSlice&&Array.isArray(e.values[0])}))}function b(e,t){if(null==t||null==e)return null;let n=t.variables.map((e=>({...e})));return e?.variables?.length&&(n=n.filter((t=>{let{name:n}=t;return e.variables.includes(n)})),n.forEach((t=>{t.dimensions=t.dimensions.map((n=>d(n,e,t.name))).filter(r.Ru)}))),n}function y(e,t){const{values:n}=t;if(n?.length){const t=Array.isArray(n[0]),r=Array.isArray(e);return t!==r?-1:t&&r?n.findIndex((t=>t[0]===e[0]&&t[1]===e[1])):n.indexOf(e)}const{extent:r}=t;if(Array.isArray(e)||!r||e<r[0]||e>r[1])return-1;const a=t.interval||1;if("ISO8601"!==t.unit)return Math.round((e-r[0])/a);const i=r[0];let l=-1;switch(t.intervalUnit?.toLowerCase()||"days"){case"seconds":l=Math.round((e-i)/1e3/a);break;case"minutes":l=Math.round((e-i)/6e4/a);break;case"hours":l=Math.round((e-i)/36e5/a);break;case"days":l=Math.round((e-i)/864e5/a);break;case"months":{const t=new Date(e).getUTCFullYear()-new Date(i).getUTCFullYear(),n=new Date(i).getUTCMonth(),r=new Date(e).getUTCMonth();l=0===t?r-n:r+11-n+12*(t-1)}break;case"years":l=Math.round((new Date(e).getUTCFullYear()-new Date(i).getUTCFullYear())/a);break;case"decades":l=Math.round((new Date(e).getUTCFullYear()-new Date(i).getUTCFullYear())/10/a)}return l}function k(e){let t=e.values?.length;if(t)return t;const{extent:n,unit:r}=e,a=e.interval||1,i=n?n[1]-n[0]:0;if("ISO8601"!==r)return Math.round(i/a);switch(e.intervalUnit?.toLowerCase()??"seconds"){case"seconds":t=Math.round(i/1e3/a);break;case"minutes":t=Math.round(i/6e4/a);break;case"hours":t=Math.round(i/36e5/a);break;case"days":t=Math.round(i/864e5/a);break;case"months":if(n){const e=new Date(n[1]).getUTCFullYear()-new Date(n[0]).getUTCFullYear(),r=new Date(n[0]).getUTCMonth(),a=new Date(n[1]).getUTCMonth();t=0===e?a-r+1:a+11-r+12*(e-1)+1}else t=0;break;case"years":t=n?Math.round((new Date(n[1]).getUTCFullYear()-new Date(n[0]).getUTCFullYear())/a):0;break;case"decades":t=n?Math.round((new Date(n[1]).getUTCFullYear()-new Date(n[0]).getUTCFullYear())/10/a):0;break;default:t=0}return t}function g(e){if(2!==e.extent?.length||!e.interval)return[];const{extent:[t,n],interval:r}=e;if("ISO8601"===e.unit){const a=e.intervalUnit?.toLowerCase()??"days";return["decades","years","months","days","hours","minutes","seconds"].includes(a)?function(e,t,n,r){const a=[];let i=e;const l=new Date(e);for(;i<=t;)switch(a.push(i),r){case"decades":l.setUTCFullYear(l.getUTCFullYear()+10*n),i=l.getTime();break;case"years":l.setUTCFullYear(l.getUTCFullYear()+n),i=l.getTime();break;case"months":l.setUTCMonth(l.getUTCMonth()+n),i=l.getTime();break;case"days":i+=864e5*n;break;case"hours":i+=36e5*n;break;case"minutes":i+=6e4*n;break;case"seconds":i+=1e3*n}return 1===a.length?a[1]=t:a[a.length-1]=t,a}(t,n,r,a):[]}const a=Math.round((n-t)/r);return Array.from({length:a},((e,i)=>i===a-1?n:t+i*r))}function x(e,t){let n=0;const r=e[0].variableName,a=[...t.variables].sort(((e,t)=>e.name>t.name?1:-1));for(let i=0;i<a.length;i++){const t=a[i],l=[...t.dimensions].sort(((e,t)=>e.name>t.name?-1:1));if(t.name!==r){n+=l.map((e=>k(e))).reduce(((e,t)=>e*t));continue}const s=l.map((e=>k(e))),o=l.length;for(let r=0;r<o;r++){const t=e.find((e=>e.dimensionName===l[r].name));if(null==t)return null;const a=y(t.values[0],l[r]);if(-1===a)return null;s.shift(),n+=r===o-1?a:a*s.reduce(((e,t)=>e*t))}break}return n}function S(e){return Math.round(24*(e-25569)*3600*1e3)}},88205:(e,t,n)=>{n.d(t,{Gj:()=>f,LF:()=>h,uy:()=>d});var r=n(62754),a=n(63844),i=n(97200),l=n(50410),s=n(82615),o=n(48630),u=n(84596),c=n(6745);const d={key:"type",base:null,typeMap:{"unique-value":u.default,"class-breaks":a.default,"raster-colormap":l.default,"raster-stretch":o.default,"vector-field":c.default,"raster-shaded-relief":s.default,flow:i.default}},f={...d,typeMap:{...d.typeMap}};delete f.typeMap["vector-field"],delete f.typeMap.flow;const m={uniqueValue:u.default,classBreaks:a.default,rasterStretch:o.default,rasterColormap:l.default,vectorField:c.default,rasterShadedRelief:s.default,flowRenderer:i.default};function h(e,t){if(!e)return null;if("classBreaks"===e.type&&e.classificationMethod){const t=e.authoringInfo||{classificationMethod:""};t.classificationMethod=e.classificationMethod,e.authoringInfo=t}"vectorField"===e.type&&e.visualVariables&&!Array.isArray(e.visualVariables)&&(e.visualVariables=[e.visualVariables]);const n=(a=e)&&m[a.type]||null;var a;if(n){const r=new n;return r.read(e,t),r}return t?.messages&&e&&t.messages.push(new r.A("renderer:unsupported","Renderers of type '"+(e.type||"unknown")+"' are not supported",{definition:e,context:t})),null}},97255:(e,t,n)=>{n.d(t,{$B:()=>a,Qf:()=>u,Qh:()=>s,RS:()=>i,ez:()=>f,i5:()=>m,lM:()=>l,qK:()=>d,rq:()=>c});var r=n(78393);function a(e){return 32+e.length}const i=16;function l(e){if(!e)return 0;let t=d;for(const n in e)e.hasOwnProperty(n)&&(t+=o(e[n],!1));return t}function s(e){if(!e)return 0;if("number"==typeof e[0])return u(e);if(Array.isArray(e))return function(e){const t=e.length;if(0===t||"number"==typeof e[0])return c(e,8);let n=f;for(let r=0;r<t;r++)n+=o(e[r]);return n}(e);let t=d;for(const n in e)e.hasOwnProperty(n)&&(t+=o(e[n]));return t}function o(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(typeof e){case"object":return t?s(e):d;case"string":return a(e);case"number":return i;case"boolean":return 4;default:return 8}}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>e+(t?(0,r.iu)(t)?t.byteLength+m:Array.isArray(t)?c(t,i):0:0)),0)}function c(e,t){return f+e.length*t}const d=32,f=16,m=145}}]);
//# sourceMappingURL=65135.8914a139.chunk.js.map