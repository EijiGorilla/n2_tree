"use strict";(self.webpackChunkn2_tree=self.webpackChunkn2_tree||[]).push([[11668],{11668:(e,a,t)=>{t.d(a,{K:()=>f,Q:()=>s});var r=t(67061);const n=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function s(e,a){const{loadContext:t,...n}=a||{},s=t?await t.fetchServiceMetadata(e,n):await(0,r.V)(e,n);l(s),y(s);const c={serviceJSON:s};if((s.currentVersion??0)<10.5)return c;const u=`${e}/layers`,o=t?await t.fetchServiceMetadata(u,n):await(0,r.V)(u,n);return l(o),y(o),c.layersJSON={layers:o.layers,tables:o.tables},c}function c(e){const{type:a}=e;return!!a&&n.has(a)}function u(e){return"Table"===e.type}function y(e){e.layers=e.layers?.filter(c),e.tables=e.tables?.filter(u)}function o(e){e.type||="Feature Layer"}function i(e){e.type||="Table"}function l(e){e.layers?.forEach(o),e.tables?.forEach(i)}function f(e){switch(e){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}},67061:(e,a,t)=>{t.d(a,{V:()=>n});var r=t(3825);async function n(e,a){const{data:t}=await(0,r.default)(e,{responseType:"json",query:{f:"json",...a?.customParameters,token:a?.apiKey}});return t}}}]);
//# sourceMappingURL=11668.4396453a.chunk.js.map