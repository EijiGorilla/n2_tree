"use strict";(self.webpackChunkn2_tree=self.webpackChunkn2_tree||[]).push([[73757,79593],{3112:(t,e,n)=>{var i,r;n.d(e,{H6:()=>s,dz:()=>i,oH:()=>r}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(i||(i={}));class s{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.filteredLayerUids=[],this.store=r.ALL,this.normalRequired=!0,this.excludeLabels=!1}}!function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(r||(r={}))},4763:(t,e,n)=>{n.d(e,{C:()=>v,DV:()=>m,FB:()=>i,J7:()=>r,Qy:()=>_,ST:()=>b,YH:()=>x,bU:()=>A,c8:()=>M,ig:()=>R,m7:()=>O,pw:()=>y,ui:()=>T,vt:()=>g});var i,r,s,o=n(97467),a=n(34761),l=n(20664),c=n(9392),u=n(43047),h=n(55855),f=n(49595),d=n(13927),p=n(75762);function g(t){return t?[(0,d.vt)(t[0]),(0,d.vt)(t[1]),(0,d.vt)(t[2]),(0,d.vt)(t[3]),(0,d.vt)(t[4]),(0,d.vt)(t[5])]:[(0,d.vt)(),(0,d.vt)(),(0,d.vt)(),(0,d.vt)(),(0,d.vt)(),(0,d.vt)()]}function _(){return[(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)()]}function v(t,e){for(let n=0;n<x;n++)(0,d.C)(t[n],e[n]);return t}function T(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:F;const r=(0,a.lw)(p.Rc.get(),e,t);(0,a.B8)(r,r);for(let s=0;s<w;++s){const t=(0,u.t)(p.Km.get(),I[s],r);(0,l.i)(i[s],t[0]/t[3],t[1]/t[3],t[2]/t[3])}m(n,i)}function m(t,e){(0,d.Cr)(e[r.FAR_BOTTOM_LEFT],e[r.NEAR_BOTTOM_LEFT],e[r.NEAR_TOP_LEFT],t[i.LEFT]),(0,d.Cr)(e[r.NEAR_BOTTOM_RIGHT],e[r.FAR_BOTTOM_RIGHT],e[r.FAR_TOP_RIGHT],t[i.RIGHT]),(0,d.Cr)(e[r.FAR_BOTTOM_LEFT],e[r.FAR_BOTTOM_RIGHT],e[r.NEAR_BOTTOM_RIGHT],t[i.BOTTOM]),(0,d.Cr)(e[r.NEAR_TOP_LEFT],e[r.NEAR_TOP_RIGHT],e[r.FAR_TOP_RIGHT],t[i.TOP]),(0,d.Cr)(e[r.NEAR_BOTTOM_LEFT],e[r.NEAR_BOTTOM_RIGHT],e[r.NEAR_TOP_RIGHT],t[i.NEAR]),(0,d.Cr)(e[r.FAR_BOTTOM_RIGHT],e[r.FAR_BOTTOM_LEFT],e[r.FAR_TOP_LEFT],t[i.FAR])}function O(t,e){for(let n=0;n<x;n++){const i=t[n];if(i[0]*e[0]+i[1]*e[1]+i[2]*e[2]+i[3]>=e[3])return!1}return!0}function y(t,e){return E(t,(0,f.$e)(e,L.get()))}function R(t,e){for(let n=0;n<x;n++){const i=t[n];if(!(0,d.b6)(i,e))return!1}return!0}function b(t,e,n){return E(t,(0,f.Eo)(e,n,L.get()))}function A(t,e){for(let n=0;n<x;n++)if((0,d.mN)(t[n],e)>0)return!1;return!0}function E(t,e){for(let n=0;n<x;n++)if(!(0,d.$Q)(t[n],e))return!1;return!0}(s=i||(i={}))[s.LEFT=0]="LEFT",s[s.RIGHT=1]="RIGHT",s[s.BOTTOM=2]="BOTTOM",s[s.TOP=3]="TOP",s[s.NEAR=4]="NEAR",s[s.FAR=5]="FAR",function(t){t[t.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",t[t.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",t[t.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",t[t.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",t[t.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",t[t.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",t[t.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",t[t.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(r||(r={}));const M={bottom:[r.FAR_BOTTOM_RIGHT,r.NEAR_BOTTOM_RIGHT,r.NEAR_BOTTOM_LEFT,r.FAR_BOTTOM_LEFT],near:[r.NEAR_BOTTOM_LEFT,r.NEAR_BOTTOM_RIGHT,r.NEAR_TOP_RIGHT,r.NEAR_TOP_LEFT],far:[r.FAR_BOTTOM_RIGHT,r.FAR_BOTTOM_LEFT,r.FAR_TOP_LEFT,r.FAR_TOP_RIGHT],right:[r.NEAR_BOTTOM_RIGHT,r.FAR_BOTTOM_RIGHT,r.FAR_TOP_RIGHT,r.NEAR_TOP_RIGHT],left:[r.FAR_BOTTOM_LEFT,r.NEAR_BOTTOM_LEFT,r.NEAR_TOP_LEFT,r.FAR_TOP_LEFT],top:[r.FAR_TOP_LEFT,r.NEAR_TOP_LEFT,r.NEAR_TOP_RIGHT,r.FAR_TOP_RIGHT]},x=6,w=8,I=[(0,h.fA)(-1,-1,-1,1),(0,h.fA)(1,-1,-1,1),(0,h.fA)(1,1,-1,1),(0,h.fA)(-1,1,-1,1),(0,h.fA)(-1,-1,1,1),(0,h.fA)(1,-1,1,1),(0,h.fA)(1,1,1,1),(0,h.fA)(-1,1,1,1)],L=new o.I(f.vt),F=_()},14487:(t,e,n)=>{n.d(e,{F:()=>s});n(9624);var i=n(13312),r=n(64232);function s(t,e,n,i,s){return!(null==e||null==i||t.length<2)&&(o.x=t[0],o.y=t[1],o.z=t[2],o.spatialReference=e,(0,r.g)(o,n,i,s))}const o=(0,n(18117).T)(0,0,0,i.default.WGS84)},18117:(t,e,n)=>{function i(t,e,n,i){return{x:t,y:e,z:n,hasZ:null!=n,hasM:!1,spatialReference:i,type:"point"}}function r(t,e,n,i,r){t.x=e,t.y=n,t.z=i,t.hasZ=null!=i,t.spatialReference=r}n.d(e,{J:()=>r,T:()=>i})},29808:(t,e,n)=>{n.d(e,{G7:()=>R,TH:()=>g,hz:()=>T});var i=n(34761),r=n(13191),s=n(20664),o=n(9392),a=n(43047),l=n(55855),c=n(95925),u=n(64465),h=n(3112),f=n(35737),d=n(46571),p=n(97974);const g=1e-5;class _{constructor(t){this.options=new h.H6,this._results=new m,this.transform=new p.dg,this.tolerance=g,this.verticalOffset=null,this._ray=(0,c.vt)(),this._rayEnd=(0,o.vt)(),this._rayBeginTransformed=(0,o.vt)(),this._rayEndTransformed=(0,o.vt)(),this.viewingMode=t??u.RT.Global}get results(){return this._results}get ray(){return this._ray}get rayBegin(){return this._ray.origin}get rayEnd(){return this._rayEnd}reset(t,e,n){this.resetWithRay((0,c.Cr)(t,e,this._ray),n)}resetWithRay(t,e){this.camera=e,t!==this._ray&&(0,c.C)(t,this._ray),0!==this.options.verticalOffset?this.viewingMode===u.RT.Local?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,(0,s.g)(this._rayEnd,this._ray.origin,this._ray.direction),this._results.init(this._ray)}intersect(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;this.point=e,this.filterPredicate=i,this.tolerance=n??g;const s=(0,p.ou)(this.verticalOffset);if(t&&t.length>0){const e=r?t=>{r(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};for(const n of t){const t=n.getSpatialQueryAccelerator?.();null!=t?(null!=s?t.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,e,s):t.forEachAlongRay(this._ray.origin,this._ray.direction,e),this.options.selectionMode&&this.options.hud&&t.forEachDegenerateObject(e)):n.objects.forAll((t=>e(t)))}}this.sortResults()}intersectObject(t){const e=t.geometries;if(!e)return;const n=t.effectiveTransformation,i=(0,p.ou)(this.verticalOffset);for(const o of e){if(!o.visible)continue;const{material:e,id:a}=o;if(!e.visible)continue;this.transform.setAndInvalidateLazyTransforms(n,o.transformation),(0,s.t)(this._rayBeginTransformed,this.rayBegin,this.transform.inverse),(0,s.t)(this._rayEndTransformed,this.rayEnd,this.transform.inverse);const l=this.transform.transform;null!=i&&(i.objectTransform=this.transform),e.intersect(o,this.transform.transform,this,this._rayBeginTransformed,this._rayEndTransformed,((e,n,i,s,o,c)=>{if(e>=0){if(null!=this.filterPredicate&&!this.filterPredicate(this._ray.origin,this._rayEnd,e))return;const u=s?this._results.hud:this._results,d=s?s=>{const l=new f.B$(t,a,i,c);s.set(h.dz.HUD,l,e,n,r.zK,o)}:r=>r.set(h.dz.OBJECT,{object:t,geometryId:a,triangleNr:i},e,n,l,o);if((null==u.min.drapedLayerOrder||o>=u.min.drapedLayerOrder)&&(null==u.min.dist||e<u.min.dist)&&d(u.min),this.options.store!==h.oH.MIN&&(null==u.max.drapedLayerOrder||o<u.max.drapedLayerOrder)&&(null==u.max.dist||e>u.max.dist)&&d(u.max),this.options.store===h.oH.ALL)if(s){const t=new y(this._ray);d(t),this._results.hud.all.push(t)}else{const t=new O(this._ray);d(t),this._results.all.push(t)}}}))}}sortResults(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._results.all).sort(((t,e)=>t.dist!==e.dist?(t.dist??0)-(e.dist??0):t.drapedLayerOrder!==e.drapedLayerOrder?v(t.drapedLayerOrder,e.drapedLayerOrder):v(t.drapedLayerGraphicOrder,e.drapedLayerGraphicOrder)))}}function v(t,e){return(e??-Number.MAX_VALUE)-(t??-Number.MAX_VALUE)}function T(t){return new _(t)}class m{constructor(){this.min=new O((0,c.vt)()),this.max=new O((0,c.vt)()),this.hud={min:new y((0,c.vt)()),max:new y((0,c.vt)()),all:new Array},this.ground=new O((0,c.vt)()),this.all=[]}init(t){this.min.init(t),this.max.init(t),this.ground.init(t),this.all.length=0,this.hud.min.init(t),this.hud.max.init(t),this.hud.all.length=0}}class O{get ray(){return this._ray}get distanceInRenderSpace(){return null!=this.dist?((0,s.h)(b,this.ray.direction,this.dist),(0,s.l)(b)):null}withinDistance(t){return!!(0,d.i3)(this)&&this.distanceInRenderSpace<=t}getIntersectionPoint(t){return!!(0,d.i3)(this)&&((0,s.h)(b,this.ray.direction,this.dist),(0,s.g)(t,this.ray.origin,b),!0)}getTransformedNormal(t){return(0,s.c)(A,this.normal),A[3]=0,(0,a.t)(A,A,this.transformation),(0,s.c)(t,A),(0,s.n)(t,t)}constructor(t){this.intersector=h.dz.OBJECT,this.normal=(0,o.vt)(),this.transformation=(0,r.vt)(),this._ray=(0,c.vt)(),this.init(t)}init(t){this.dist=null,this.target=null,this.drapedLayerOrder=null,this.drapedLayerGraphicOrder=null,this.intersector=h.dz.OBJECT,(0,c.C)(t,this._ray)}set(t,e,n,a,l,c,u){this.intersector=t,this.dist=n,(0,s.c)(this.normal,a??o.Cb),(0,i.C)(this.transformation,l??r.zK),this.target=e,this.drapedLayerOrder=c,this.drapedLayerGraphicOrder=u}copy(t){(0,c.C)(t.ray,this._ray),this.intersector=t.intersector,this.dist=t.dist,this.target=t.target,this.drapedLayerOrder=t.drapedLayerOrder,this.drapedLayerGraphicOrder=t.drapedLayerGraphicOrder,(0,s.c)(this.normal,t.normal),(0,i.C)(this.transformation,t.transformation)}}class y extends O{constructor(){super(...arguments),this.intersector=h.dz.HUD}}function R(t){return new O(t)}const b=(0,o.vt)(),A=(0,l.vt)()},35737:(t,e,n)=>{n.d(e,{B$:()=>s,HE:()=>o,R6:()=>a});var i=n(9392);class r{constructor(t,e,n){this.object=t,this.geometryId=e,this.triangleNr=n}}class s extends r{constructor(t,e,n,r){super(t,e,n),this.center=null!=r?(0,i.o8)(r):null}}class o{constructor(t){this.layerUid=t}}class a extends o{constructor(t,e){super(t),this.graphicUid=e}}},38061:(t,e,n)=>{n.r(e),n.d(e,{default:()=>O});var i=n(35143),r=n(91967),s=n(19276),o=n(68134),a=n(46053),l=(n(81806),n(76460)),c=(n(47249),n(85842)),u=n(81923),h=n(54099),f=n(13312),d=n(2413),p=n(11352),g=n(96138),_=n(54883);let v=class extends h.A.EventedAccessor{constructor(t){super(t),this.demResolution={min:-1,max:-1},this.noDataValue=_.sH}initialize(){this.view.basemapTerrain.on("elevation-change",(()=>this.emit("changed",{})))}get extent(){const t=this.view.basemapTerrain;if(null==t?.extent||null==t.spatialReference)return null;const e=(0,d.w1)(t.extent,t.spatialReference);return e.zmin=t.visibleElevationBounds.min,e.zmax=t.visibleElevationBounds.max,e}get spatialReference(){return this.view.basemapTerrain?.spatialReference??f.default.WGS84}elevationAt(t,e){if(null==this.extent||!(0,p.lB)(this.extent,t,e)){const n=null!=this.extent?`${this.extent.xmin}, ${this.extent.ymin}, ${this.extent.xmax}, ${this.extent.ymax}`:null;return l.A.getLogger(this).warn("#elevationAt()",`Point used to sample elevation (${t}, ${e}) is outside of the sampler extent (${n})`),this.noDataValue}return this.view.elevationProvider?.getElevation(t,e,0,this.spatialReference,"ground")??this.noDataValue}queryElevation(t){return(0,g.updateGeometryElevation)(t.clone(),this)}};(0,i._)([(0,a.MZ)({readOnly:!0})],v.prototype,"demResolution",void 0),(0,i._)([(0,a.MZ)({readOnly:!0})],v.prototype,"extent",null),(0,i._)([(0,a.MZ)({readOnly:!0})],v.prototype,"noDataValue",void 0),(0,i._)([(0,a.MZ)()],v.prototype,"spatialReference",null),(0,i._)([(0,a.MZ)({constructOnly:!0})],v.prototype,"view",void 0),v=(0,i._)([(0,c.$)("esri.views.support.GroundViewElevationSampler")],v);const T=v;let m=class extends r.default{constructor(t){super(t),this.view=null,this.layerViews=new s.default}initialize(){this.addHandles((0,o.when)((()=>this.view?.map?.ground),(t=>t.load()))),this.addHandles(this.layerViews.on("after-changes",(()=>this._layerViewsAfterChangesHandler())))}destroy(){this._set("view",null);for(const t of this.layerViews)t.destroy();this.layerViews.length=0}get elevationSampler(){return this.view?"2d"===this.view.type?null:this.view.ready&&this.view.basemapTerrain&&this.view.basemapTerrain.ready?new T({view:this.view}):null:null}get extent(){const t=this.view;return t&&"2d"!==t.type&&t.ready?(0,u.w1)(t,t.state.camera,t.pointsOfInterest.centerOnSurfaceFrequent.renderLocation):null}get updating(){return!this.suspended&&this.layerViews.some((t=>t.updating))}get suspended(){return this.view?.suspended??!0}_layerViewsAfterChangesHandler(){this.removeHandles("updating"),this.addHandles(this.layerViews.map((t=>(0,o.watch)((()=>t.updating),(()=>this._updateUpdating()),o.sync))).toArray(),"updating"),this._updateUpdating()}_updateUpdating(){this.notifyChange("updating")}};(0,i._)([(0,a.MZ)({readOnly:!0})],m.prototype,"elevationSampler",null),(0,i._)([(0,a.MZ)({readOnly:!0})],m.prototype,"extent",null),(0,i._)([(0,a.MZ)({type:Boolean,readOnly:!0})],m.prototype,"updating",null),(0,i._)([(0,a.MZ)({constructOnly:!0})],m.prototype,"view",void 0),(0,i._)([(0,a.MZ)({type:s.default,readOnly:!0})],m.prototype,"layerViews",void 0),(0,i._)([(0,a.MZ)({readOnly:!0})],m.prototype,"suspended",null),m=(0,i._)([(0,c.$)("esri.views.GroundView")],m);const O=m},44230:(t,e,n)=>{n.d(e,{C:()=>u,Cr:()=>f,H6:()=>_,LV:()=>c,_I:()=>p,dz:()=>v,fA:()=>h,kb:()=>d,ld:()=>T,sd:()=>g,vt:()=>l});var i=n(15941),r=n(97467),s=n(20664),o=n(9392),a=n(75762);function l(t){return t?{origin:(0,o.o8)(t.origin),vector:(0,o.o8)(t.vector)}:{origin:(0,o.vt)(),vector:(0,o.vt)()}}function c(t,e){const n=y.get();return n.origin=t,n.vector=e,n}function u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l();return h(t.origin,t.vector,e)}function h(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return(0,s.c)(n.origin,t),(0,s.c)(n.vector,e),n}function f(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return(0,s.c)(n.origin,t),(0,s.d)(n.vector,e,t),n}function d(t,e){const n=(0,s.d)(a.rq.get(),e,t.origin),r=(0,s.f)(t.vector,n),o=(0,s.f)(t.vector,t.vector),l=(0,i.qE)(r/o,0,1),c=(0,s.d)(a.rq.get(),(0,s.h)(a.rq.get(),t.vector,l),n);return(0,s.f)(c,c)}function p(t,e,n){return _(t,e,0,1,n)}function g(t,e,n){return(0,s.g)(n,t.origin,(0,s.h)(n,t.vector,e))}function _(t,e,n,r,o){const{vector:l,origin:c}=t,u=(0,s.d)(a.rq.get(),e,c),h=(0,s.f)(l,u)/(0,s.k)(l);return(0,s.h)(o,l,(0,i.qE)(h,n,r)),(0,s.g)(o,o,t.origin)}function v(t,e){if(m(t,c(e.origin,e.direction),!1,O)){const{tA:e,pB:n,distance2:i}=O;if(e>=0&&e<=1)return i;if(e<0)return(0,s.s)(t.origin,n);if(e>1)return(0,s.s)((0,s.g)(a.rq.get(),t.origin,t.vector),n)}return null}function T(t,e,n){return!!m(t,e,!0,O)&&((0,s.c)(n,O.pA),!0)}function m(t,e,n,r){const o=1e-6,l=t.origin,c=(0,s.g)(a.rq.get(),l,t.vector),u=e.origin,h=(0,s.g)(a.rq.get(),u,e.vector),f=a.rq.get(),d=a.rq.get();if(f[0]=l[0]-u[0],f[1]=l[1]-u[1],f[2]=l[2]-u[2],d[0]=h[0]-u[0],d[1]=h[1]-u[1],d[2]=h[2]-u[2],Math.abs(d[0])<o&&Math.abs(d[1])<o&&Math.abs(d[2])<o)return!1;const p=a.rq.get();if(p[0]=c[0]-l[0],p[1]=c[1]-l[1],p[2]=c[2]-l[2],Math.abs(p[0])<o&&Math.abs(p[1])<o&&Math.abs(p[2])<o)return!1;const g=f[0]*d[0]+f[1]*d[1]+f[2]*d[2],_=d[0]*p[0]+d[1]*p[1]+d[2]*p[2],v=f[0]*p[0]+f[1]*p[1]+f[2]*p[2],T=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],m=(p[0]*p[0]+p[1]*p[1]+p[2]*p[2])*T-_*_;if(Math.abs(m)<o)return!1;let O=(g*_-v*T)/m,y=(g+_*O)/T;n&&(O=(0,i.qE)(O,0,1),y=(0,i.qE)(y,0,1));const R=a.rq.get(),b=a.rq.get();return R[0]=l[0]+O*p[0],R[1]=l[1]+O*p[1],R[2]=l[2]+O*p[2],b[0]=u[0]+y*d[0],b[1]=u[1]+y*d[1],b[2]=u[2]+y*d[2],r.tA=O,r.tB=y,r.pA=R,r.pB=b,r.distance2=(0,s.s)(R,b),!0}const O={tA:0,tB:0,pA:(0,o.vt)(),pB:(0,o.vt)(),distance2:0},y=new r.I((()=>l()))},44680:(t,e,n)=>{function i(){return[1,0,0,0,1,0,0,0,1]}function r(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function s(t,e,n,i,r,s,o,a,l){return[t,e,n,i,r,s,o,a,l]}n.d(e,{fA:()=>s,o8:()=>r,vt:()=>i,zK:()=>o});const o=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:r,create:i,createView:function(t,e){return new Float64Array(t,e,9)},fromValues:s},Symbol.toStringTag,{value:"Module"}))},46571:(t,e,n)=>{n.d(e,{$I:()=>c,Q5:()=>l,hH:()=>u,i3:()=>a});var i=n(20664),r=n(9392),s=n(79650),o=n(3112);function a(t){return null!=t?.dist}function l(t){return(e,n,r)=>((0,i.m)(h,e,n,r),!(0,s.e)(t,h))}function c(t){return a(t)&&t.intersector===o.dz.OBJECT&&!!t.target}function u(t){return a(t)&&t.intersector===o.dz.HUD&&!!t.target&&"center"in t.target&&null!=t.target.center}const h=(0,r.vt)()},49595:(t,e,n)=>{n.d(e,{$e:()=>a,Eo:()=>l,j1:()=>c,mO:()=>u,vt:()=>o});var i=n(97467),r=n(20664),s=n(95925);function o(t){return t?{ray:(0,s.vt)(t.ray),c0:t.c0,c1:t.c1}:{ray:(0,s.vt)(),c0:0,c1:Number.MAX_VALUE}}function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o();return(0,s.C)(t,e.ray),e.c0=0,e.c1=Number.MAX_VALUE,e}function l(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o();const i=(0,r.l)(t.vector);return(0,s.fA)(t.origin,e,n.ray),n.c0=0,n.c1=i,n}function c(t,e){return h(t,t.c0,e)}function u(t,e){return h(t,t.c1,e)}function h(t,e,n){return(0,r.g)(n,t.ray.origin,(0,r.h)(n,t.ray.direction,e))}new i.I((()=>o()))},64232:(t,e,n)=>{n.d(e,{W:()=>a,g:()=>o});var i=n(9392),r=n(9624),s=n(45308);function o(t,e,n,i){if((0,r.canProjectWithoutEngine)(t.spatialReference,n)){l[0]=t.x,l[1]=t.y;const r=t.z;return l[2]=r??i??0,(0,s.projectBuffer)(l,t.spatialReference,0,e,n,0)}const o=(0,r.tryProjectWithZConversion)(t,n);return!!o&&(e[0]=o?.x,e[1]=o?.y,e[2]=o?.z??i??0,!0)}async function a(t,e,n,i,s){return await(0,r.initializeProjection)(t.spatialReference,n,null,s),o(t,e,n,i)}const l=(0,i.vt)()},79650:(t,e,n)=>{n.d(e,{B:()=>T,a:()=>O,b:()=>Y,c:()=>x,d:()=>m,e:()=>N,f:()=>y,g:()=>A,h:()=>B,i:()=>E,n:()=>G,r:()=>H,t:()=>V,u:()=>R});n(81806);var i=n(76460),r=n(15941),s=n(97467),o=n(34761),a=n(13191),l=n(20664),c=n(9392),u=n(2413),h=n(5568),f=n(44230),d=n(13927),p=n(95925),g=n(96190),_=n(75762);const v=()=>i.A.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");const T=class{constructor(){this.plane=(0,d.vt)(),this.origin=(0,c.vt)(),this.basis1=(0,c.vt)(),this.basis2=(0,c.vt)()}};function m(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;return{plane:(0,d.vt)(t.plane),origin:(0,c.o8)(t.origin),basis1:(0,c.o8)(t.basis1),basis2:(0,c.o8)(t.basis2)}}function O(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m();return y(t.origin,t.basis1,t.basis2,e)}function y(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m();return(0,l.c)(i.origin,t),(0,l.c)(i.basis1,e),(0,l.c)(i.basis2,n),R(i),function(t,e){Math.abs((0,l.f)(t.basis1,t.basis2)/((0,l.l)(t.basis1)*(0,l.l)(t.basis2)))>1e-6&&v().warn(e,"Provided basis vectors are not perpendicular"),Math.abs((0,l.f)(t.basis1,G(t)))>1e-6&&v().warn(e,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,l.f)(G(t),t.origin)-t.plane[3])>1e-6&&v().warn(e,"Plane offset is not consistent with plane origin")}(i,"fromValues()"),i}function R(t){(0,d.mR)(t.basis2,t.basis1,t.origin,t.plane)}function b(t,e,n){t!==n&&O(t,n);const i=(0,l.h)(_.rq.get(),G(t),e);return(0,l.g)(n.origin,n.origin,i),n.plane[3]-=e,n}function A(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m();const n=(t[2]-t[0])/2,i=(t[3]-t[1])/2;return(0,l.i)(e.origin,t[0]+n,t[1]+i,0),(0,l.i)(e.basis1,n,0,0),(0,l.i)(e.basis2,0,i,0),(0,d.fA)(0,0,1,0,e.plane),e}function E(t,e,n){return!!(0,d.Ui)(t.plane,e,n)&&q(t,n)}function M(t,e,n){const i=$.get();j(t,e,i,$.get());let s=Number.POSITIVE_INFINITY;for(const o of Z){const a=z(t,o,D.get()),c=_.rq.get();if((0,d.T7)(i,a,c)){const t=(0,l.o)(_.rq.get(),e.origin,c),i=Math.abs((0,r.XM)((0,l.f)(e.direction,t)));i<s&&(s=i,(0,l.c)(n,c))}}return s===Number.POSITIVE_INFINITY?w(t,e,n):n}function x(t,e){return(e-t)/e}function w(t,e,n){if(E(t,e,n))return n;const i=$.get(),r=$.get();j(t,e,i,r);let s=Number.POSITIVE_INFINITY;for(const o of Z){const a=z(t,o,D.get()),c=_.rq.get();if((0,d.gv)(i,a,c)){const t=(0,p.kb)(e,c);if(!(0,d.Tj)(r,c))continue;t<s&&(s=t,(0,l.c)(n,c))}}return F(t,e.origin)<s&&I(t,e.origin,n),n}function I(t,e,n){const i=(0,d._I)(t.plane,e,_.rq.get()),r=(0,f.H6)(C(t,t.basis1),i,-1,1,_.rq.get()),s=(0,f.H6)(C(t,t.basis2),i,-1,1,_.rq.get());return(0,l.d)(n,(0,l.g)(_.rq.get(),r,s),t.origin),n}function L(t,e,n){const{origin:i,basis1:r,basis2:s}=t,o=(0,l.d)(_.rq.get(),e,i),a=(0,g.gr)(r,o),c=(0,g.gr)(s,o),u=(0,g.gr)(G(t),o);return(0,l.i)(n,a,c,u)}function F(t,e){const n=L(t,e,_.rq.get()),{basis1:i,basis2:r}=t,s=(0,l.l)(i),o=(0,l.l)(r),a=Math.max(Math.abs(n[0])-s,0),c=Math.max(Math.abs(n[1])-o,0),u=n[2];return a*a+c*c+u*u}function B(t,e){return Math.sqrt(F(t,e))}function N(t,e){return(0,d.Tj)(t.plane,e)&&q(t,e)}function P(t,e){const n=-t.plane[3];return(0,g.gr)(G(t),e)-n}function V(t,e,n){return t!==n&&O(t,n),(0,o.B8)(X,e),(0,o.mg)(X,X),(0,l.t)(n.basis1,t.basis1,X),(0,l.t)(n.basis2,t.basis2,X),(0,l.t)((0,d.Qj)(n.plane),(0,d.Qj)(t.plane),X),(0,l.t)(n.origin,t.origin,e),(0,d.mP)(n.plane,n.plane,n.origin),n}function H(t,e,n,i){return t!==i&&O(t,i),(0,o.$0)(W,e,n),(0,l.t)(i.basis1,t.basis1,W),(0,l.t)(i.basis2,t.basis2,W),R(i),i}function G(t){return(0,d.Qj)(t.plane)}function q(t,e){const n=(0,l.d)(_.rq.get(),e,t.origin),i=(0,l.k)(t.basis1),r=(0,l.k)(t.basis2),s=(0,l.f)(t.basis1,n),o=(0,l.f)(t.basis2,n);return-s-i<0&&s-i<0&&-o-r<0&&o-r<0}function C(t,e){const n=D.get();return(0,l.c)(n.origin,t.origin),(0,l.c)(n.vector,e),n}function z(t,e,n){const{basis1:i,basis2:r,origin:s}=t,o=(0,l.h)(_.rq.get(),i,e.origin[0]),a=(0,l.h)(_.rq.get(),r,e.origin[1]);(0,l.g)(n.origin,o,a),(0,l.g)(n.origin,n.origin,s);const c=(0,l.h)(_.rq.get(),i,e.direction[0]),u=(0,l.h)(_.rq.get(),r,e.direction[1]);return(0,l.h)(n.vector,(0,l.g)(c,c,u),2),n}function j(t,e,n,i){const r=G(t);(0,d.mR)(r,e.direction,e.origin,n),(0,d.mR)((0,d.Qj)(n),r,e.origin,i)}const S={plane:(0,d.vt)(),origin:(0,c.fA)(0,0,0),basis1:(0,c.fA)(1,0,0),basis2:(0,c.fA)(0,1,0)},$=new s.I(d.vt),D=new s.I(f.vt),k=(0,c.vt)(),U=new s.I((()=>m())),Z=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],X=(0,a.vt)(),W=(0,a.vt)(),Y=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:T,altitudeAt:P,axisAt:function(t,e,n,i){return function(t,e,n){switch(e){case h._.X:(0,l.c)(n,t.basis1),(0,l.n)(n,n);break;case h._.Y:(0,l.c)(n,t.basis2),(0,l.n)(n,n);break;case h._.Z:(0,l.c)(n,G(t))}return n}(t,n,i)},cameraFrustumCoverage:x,closestPoint:w,closestPointOnSilhouette:M,copy:O,copyWithoutVerify:function(t,e){(0,l.c)(e.origin,t.origin),(0,l.c)(e.basis1,t.basis1),(0,l.c)(e.basis2,t.basis2),(0,d.C)(e.plane,t.plane)},create:m,distance:B,distance2:F,distanceToSilhouette:function(t,e){let n=Number.NEGATIVE_INFINITY;for(const i of Z){const r=z(t,i,D.get()),s=(0,f.kb)(r,e);s>n&&(n=s)}return Math.sqrt(n)},elevate:b,equals:function(t,e){return(0,l.p)(t.basis1,e.basis1)&&(0,l.p)(t.basis2,e.basis2)&&(0,l.p)(t.origin,e.origin)},extrusionContainsPoint:N,fromAABoundingRect:A,fromValues:y,getExtent:function(t,e){const n=t.basis1[0],i=t.basis2[1],[r,s]=t.origin;return(0,u.fA)(r-n,s-i,r+n,s+i,e)},intersectRay:E,intersectRayClosestSilhouette:function(t,e,n){if(E(t,e,n))return n;const i=M(t,e,_.rq.get());return(0,l.g)(n,e.origin,(0,l.h)(_.rq.get(),e.direction,(0,l.j)(e.origin,i)/(0,l.l)(e.direction))),n},normal:G,projectPoint:I,projectPointLocal:L,rotate:H,setAltitudeAt:function(t,e,n,i){const r=P(t,e),s=(0,l.h)(k,G(t),n-r);return(0,l.g)(i,e,s),i},setExtent:function(t,e,n){return A(e,n),b(n,P(t,t.origin),n),n},transform:V,up:S,updateUnboundedPlane:R,wrap:function(t,e,n){const i=U.get();return i.origin=t,i.basis1=e,i.basis2=n,i.plane=(0,d.LV)(0,0,0,0),R(i),i}},Symbol.toStringTag,{value:"Module"}))},81284:(t,e,n)=>{function i(t){return"point"===t.type}n.d(e,{v:()=>i})},96138:(t,e,n)=>{n.r(e),n.d(e,{ElevationSamplerBase:()=>u,MultiTileElevationSampler:()=>f,TileElevationSampler:()=>h,updateGeometryElevation:()=>d});n(81806);var i=n(54901),r=n(76460),s=n(31633),o=n(19247),a=n(2413),l=n(45417);const c=()=>r.A.getLogger("esri.layers.support.ElevationSampler");class u{queryElevation(t){return d(t.clone(),this)}on(){return(0,i.hA)()}projectIfRequired(t,e){return p(t,e)}}class h extends u{get spatialReference(){return this.extent.spatialReference}constructor(t,e,n){super(),this.tile=t,this.noDataValue=n;const i=t.tile.extent;this.extent=(0,a.w1)(i,e.spatialReference),this.extent.zmin=t.zmin,this.extent.zmax=t.zmax,this._aaExtent=i;const r=(0,s.GA)(e.spatialReference),o=e.lodAt(t.tile.level).resolution*r;this.demResolution={min:o,max:o}}contains(t){const e=this.projectIfRequired(t,this.spatialReference);return null!=e&&this.containsAt(e.x,e.y)}containsAt(t,e){return(0,a.Rj)(this._aaExtent,t,e)}elevationAt(t,e){if(!this.containsAt(t,e)){const n=this.extent,i=`${n.xmin}, ${n.ymin}, ${n.xmax}, ${n.ymax}`;return c().warn("#elevationAt()",`Point used to sample elevation (${t}, ${e}) is outside of the sampler extent (${i})`),this.noDataValue}return this.tile.sample(t,e)??this.noDataValue}}class f extends u{get spatialReference(){return this.extent.spatialReference}constructor(t,e,n){let i;super(),"number"==typeof e?(this.noDataValue=e,i=null):(i=e,this.noDataValue=n),this.samplers=i?t.map((t=>new h(t,i,this.noDataValue))):t;const r=this.samplers[0];if(r){this.extent=r.extent.clone();const{min:t,max:e}=r.demResolution;this.demResolution={min:t,max:e};for(let n=1;n<this.samplers.length;n++){const t=this.samplers[n];this.extent.union(t.extent),this.demResolution.min=Math.min(this.demResolution.min,t.demResolution.min),this.demResolution.max=Math.max(this.demResolution.max,t.demResolution.max)}}else this.extent=(0,a.w1)((0,a.vt)(),i.spatialReference),this.demResolution={min:0,max:0}}elevationAt(t,e){let n,i=!1;for(const r of this.samplers)if(r.containsAt(t,e)&&(i=!0,n=r.elevationAt(t,e),n!==r.noDataValue))return n;return null!=n?n:(i||c().warn("#elevationAt()",`Point used to sample elevation (${t}, ${e}) is outside of the sampler`),this.noDataValue)}}function d(t,e){const n=p(t,e.spatialReference);if(!n)return null;switch(t.type){case"point":!function(t,e,n){t.z=n.elevationAt(e.x,e.y)}(t,n,e);break;case"polyline":!function(t,e,n){g.spatialReference=e.spatialReference;const i=t.hasM&&!t.hasZ;for(let r=0;r<t.paths.length;r++){const s=t.paths[r],o=e.paths[r];for(let t=0;t<s.length;t++){const e=s[t],r=o[t];g.x=r[0],g.y=r[1],i&&(e[3]=e[2]),e[2]=n.elevationAt(g.x,g.y)}}t.hasZ=!0}(t,n,e);break;case"multipoint":!function(t,e,n){g.spatialReference=e.spatialReference;const i=t.hasM&&!t.hasZ;for(let r=0;r<t.points.length;r++){const s=t.points[r],o=e.points[r];g.x=o[0],g.y=o[1],i&&(s[3]=s[2]),s[2]=n.elevationAt(g.x,g.y)}t.hasZ=!0}(t,n,e)}return t}function p(t,e){if(null==t)return null;const n=t.spatialReference;if(n.equals(e))return t;const i=(0,l.project)(t,e);return i||c().error(`Cannot project geometry spatial reference (wkid:${n.wkid}) to elevation sampler spatial reference (wkid:${e.wkid})`),i}const g=new o.default},97974:(t,e,n)=>{n.d(e,{XG:()=>v,dd:()=>m,dg:()=>f,fo:()=>O,ou:()=>g});var i=n(63919),r=n(44680),s=n(34761),o=n(13191),a=n(20664),l=n(9392),c=n(78315),u=n(64465),h=n(59231);class f{constructor(){this._transform=(0,o.vt)(),this._transformInverse=new d({value:this._transform},s.B8,o.vt),this._transformInverseTranspose=new d(this._transformInverse,s.mg,o.vt),this._transformTranspose=new d({value:this._transform},s.mg,o.vt),this._transformInverseRotation=new d({value:this._transform},i.dR,r.vt)}_invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){(0,s.C)(this._transform,t)}multiplyTransform(t){(0,s.lw)(this._transform,this._transform,t)}set(t){(0,s.C)(this._transform,t),this._invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,e){this.setTransformMatrix(t),this.multiplyTransform(e),this._invalidateLazyTransforms()}}class d{constructor(t,e,n){this._original=t,this._update=e,this._dirty=!0,this._transform=n()}invalidate(){this._dirty=!0}get value(){return this._dirty&&(this._update(this._transform,this._original.value),this._dirty=!1),this._transform}}const p=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=t,this.sphere=(0,c.c)(),this.tmpVertex=(0,l.vt)()}applyToVertex(t,e,n){const i=this.objectTransform.transform,r=(0,a.i)(y,t,e,n),s=(0,a.t)(r,r,i),o=this.offset/(0,a.l)(s);(0,a.b)(s,s,s,o);const l=this.objectTransform.inverse;return(0,a.t)(this.tmpVertex,s,l),this.tmpVertex}applyToMinMax(t,e){const n=this.offset/(0,a.l)(t);(0,a.b)(t,t,t,n);const i=this.offset/(0,a.l)(e);(0,a.b)(e,e,e,i)}applyToAabb(t){const e=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*e,t[1]+=t[1]*e,t[2]+=t[2]*e;const n=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*n,t[4]+=t[4]*n,t[5]+=t[5]*n,t}applyToBoundingSphere(t){const e=(0,a.l)((0,c.a)(t)),n=this.offset/e;return(0,a.b)((0,c.a)(this.sphere),(0,c.a)(t),(0,c.a)(t),n),this.sphere[3]=t[3]+t[3]*this.offset/e,this.sphere}};function g(t){return null!=t?(p.offset=t,p):null}const _=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.componentLocalOriginLength=0,this._totalOffset=0,this._offset=0,this._tmpVertex=(0,l.vt)(),this._tmpMbs=(0,c.c)(),this._tmpObb=new h.ab,this._resetOffset(t)}_resetOffset(t){this._offset=t,this._totalOffset=t}set offset(t){this._resetOffset(t)}get offset(){return this._offset}set componentOffset(t){this._totalOffset=this._offset+t}set localOrigin(t){this.componentLocalOriginLength=(0,a.l)(t)}applyToVertex(t,e,n){const i=(0,a.i)(y,t,e,n),r=(0,a.i)(R,t,e,n+this.componentLocalOriginLength),s=this._totalOffset/(0,a.l)(r);return(0,a.b)(this._tmpVertex,i,r,s),this._tmpVertex}applyToAabb(t){const e=this.componentLocalOriginLength,n=t[0],i=t[1],r=t[2]+e,s=t[3],o=t[4],a=t[5]+e,l=Math.abs(n),c=Math.abs(i),u=Math.abs(r),h=Math.abs(s),f=Math.abs(o),d=Math.abs(a),p=.5*(1+Math.sign(n*s))*Math.min(l,h),g=.5*(1+Math.sign(i*o))*Math.min(c,f),_=.5*(1+Math.sign(r*a))*Math.min(u,d),v=Math.max(l,h),T=Math.max(c,f),m=Math.max(u,d),O=Math.sqrt(p*p+g*g+_*_),y=Math.sign(l+n),R=Math.sign(c+i),b=Math.sign(u+r),A=Math.sign(h+s),E=Math.sign(f+o),M=Math.sign(d+a),x=this._totalOffset;if(O<x)return t[0]-=(1-y)*x,t[1]-=(1-R)*x,t[2]-=(1-b)*x,t[3]+=A*x,t[4]+=E*x,t[5]+=M*x,t;const w=x/Math.sqrt(v*v+T*T+m*m),I=x/O,L=I-w,F=-L;return t[0]+=n*(y*F+I),t[1]+=i*(R*F+I),t[2]+=r*(b*F+I),t[3]+=s*(A*L+w),t[4]+=o*(E*L+w),t[5]+=a*(M*L+w),t}applyToMbs(t){const e=(0,a.l)((0,c.a)(t)),n=this._totalOffset/e;return(0,a.b)((0,c.a)(this._tmpMbs),(0,c.a)(t),(0,c.a)(t),n),this._tmpMbs[3]=t[3]+t[3]*this._totalOffset/e,this._tmpMbs}applyToObb(t){return(0,h.gm)(t,this._totalOffset,this._totalOffset,u.RT.Global,this._tmpObb),this._tmpObb}};function v(t){return null!=t?(_.offset=t,_):null}const T=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=t,this.tmpVertex=(0,l.vt)()}applyToVertex(t,e,n){const i=(0,a.i)(y,t,e,n),r=(0,a.g)(R,i,this.localOrigin),s=this.offset/(0,a.l)(r);return(0,a.b)(this.tmpVertex,i,r,s),this.tmpVertex}applyToAabb(t){const e=b,n=A,i=E;for(let a=0;a<3;++a)e[a]=t[0+a]+this.localOrigin[a],n[a]=t[3+a]+this.localOrigin[a],i[a]=e[a];const r=this.applyToVertex(e[0],e[1],e[2]);for(let a=0;a<3;++a)t[a]=r[a],t[a+3]=r[a];const s=e=>{const n=this.applyToVertex(e[0],e[1],e[2]);for(let i=0;i<3;++i)t[i]=Math.min(t[i],n[i]),t[i+3]=Math.max(t[i+3],n[i])};for(let a=1;a<8;++a){for(let t=0;t<3;++t)i[t]=a&1<<t?n[t]:e[t];s(i)}let o=0;for(let a=0;a<3;++a)e[a]*n[a]<0&&(o|=1<<a);if(0!==o&&7!==o)for(let a=0;a<8;++a)if(!(o&a)){for(let t=0;t<3;++t)i[t]=o&1<<t?0:a&1<<t?e[t]:n[t];s(i)}for(let a=0;a<3;++a)t[a]-=this.localOrigin[a],t[a+3]-=this.localOrigin[a];return t}};function m(t){return null!=t?(T.offset=t,T):null}const O="terrain",y=(0,l.vt)(),R=(0,l.vt)(),b=(0,l.vt)(),A=(0,l.vt)(),E=(0,l.vt)()}}]);
//# sourceMappingURL=79593.59a8492d.chunk.js.map