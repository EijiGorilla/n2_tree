"use strict";(self.webpackChunkn2_tree=self.webpackChunkn2_tree||[]).push([[4216,14843,20728,23695,59468,68814,92521],{14843:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var r=n(35143),o=n(91967),i=n(76460),s=n(68134),l=n(46053),a=n(85842),d=n(81835),u=n(23695),c=n(20728),p=n(92521),h=n(68814),y=n(53203),v=n(60403);let g=class extends o.default{constructor(e){super(e),this.view=null,this._weatherByType={sunny:new h.default,cloudy:new d.default,rainy:new c.default,snowy:new p.default,foggy:new u.default},this._settingWeather=!1}initialize(){this.addHandles([(0,s.watch)((()=>this.current),(e=>{this._settingWeather||null==e||(this._weatherByType={...this._weatherByType,[e.type]:e})}),s.syncAndInitial)])}get state(){const e=this.view;return null!=e&&e.ready?null!=this.error?this.error===v.F.NotVisible?v.u.Ready:v.u.Error:v.u.Ready:v.u.Disabled}get weatherByType(){return this._weatherByType}get error(){const e=this.view;return null!=e&&e.ready?"3d"!==e.type?v.F.UnsupportedView:"local"===e.viewingMode?v.F.LocalScene:e.environment.atmosphereEnabled?e.environment.weatherAvailable?null:v.F.NotVisible:v.F.NoAtmosphere:null}get current(){return this._environment?.weather??this._weatherByType.sunny}set current(e){const t=this._environment;t&&(t.weather=e)}get _environment(){const e=this.view;return null!=e&&"3d"===e.type?e.environment:null}setWeatherByType(e){if(!(0,y.TJ)(e,i.A.getLogger(this)))return;const t=this._environment;null!=t&&(this._settingWeather=!0,t.weather=this._weatherByType[e],this._settingWeather=!1)}setSnowCoverEnabled(e){const t=this.current;"snowCover"in t&&(t.snowCover=e?"enabled":"disabled")}};(0,r._)([(0,l.MZ)()],g.prototype,"view",void 0),(0,r._)([(0,l.MZ)()],g.prototype,"state",null),(0,r._)([(0,l.MZ)()],g.prototype,"_weatherByType",void 0),(0,r._)([(0,l.MZ)()],g.prototype,"weatherByType",null),(0,r._)([(0,l.MZ)()],g.prototype,"error",null),(0,r._)([(0,l.MZ)()],g.prototype,"current",null),(0,r._)([(0,l.MZ)()],g.prototype,"_environment",null),g=(0,r._)([(0,a.$)("esri.widgets.Weather.WeatherViewModel")],g);const w=g},20728:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r,o=n(35143),i=n(42553),s=n(46053),l=(n(81806),n(76460),n(47249),n(6409)),a=n(85842);let d=r=class extends i.A{constructor(e){super(e),this.type="rainy",this.cloudCover=.5,this.precipitation=.5}clone(){return new r({cloudCover:this.cloudCover,precipitation:this.precipitation})}};(0,o._)([(0,l.e)({rainy:"rainy"}),(0,s.MZ)({json:{write:{isRequired:!0}}})],d.prototype,"type",void 0),(0,o._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"cloudCover",void 0),(0,o._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"precipitation",void 0),d=r=(0,o._)([(0,a.$)("esri.views.3d.environment.RainyWeather")],d);const u=d},23695:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r,o=n(35143),i=n(42553),s=n(46053),l=(n(81806),n(76460),n(47249),n(6409)),a=n(85842);let d=r=class extends i.A{constructor(e){super(e),this.type="foggy",this.fogStrength=.5}clone(){return new r({fogStrength:this.fogStrength})}};(0,o._)([(0,l.e)({foggy:"foggy"}),(0,s.MZ)({json:{write:{isRequired:!0}}})],d.prototype,"type",void 0),(0,o._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"fogStrength",void 0),d=r=(0,o._)([(0,a.$)("esri.views.3d.environment.FoggyWeather")],d);const u=d},53203:(e,t,n)=>{n.d(t,{TJ:()=>u,eM:()=>a,k9:()=>p,l2:()=>d,zF:()=>c});var r=n(81835),o=n(23695),i=n(20728),s=n(92521),l=n(68814);const a={key:"type",base:l.default,typeMap:{sunny:l.default,cloudy:r.default,rainy:i.default,snowy:s.default,foggy:o.default}},d=Object.keys(a.typeMap);function u(e,t){return!!d.includes(e)||(t.error(`"${e}" is not a valid weather type`),!1)}const c=1e4,p=1e5},56002:(e,t,n)=>{function r(e){let t,n,r=[],o=!1;return function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return o&&t===this&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(s,r)||(n=e.apply(this,s),t=this,r=s,o=!0),n}}n.d(t,{B:()=>r})},59468:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(35143),o=n(56002),i=n(46053),s=(n(81806),n(76460),n(47249),n(85842)),l=n(53203),a=n(25329),d=n(94126),u=n(98108),c=n(87540),p=n(76099),h=n(63582),y=n(54761);const v="esri-weather",g={base:v,content:`${v}__content`,hasError:`${v}__content--has-error`,selector:`${v}__selector`,options:`${v}__options`,optionsHidden:`${v}__options--hidden`,error:`${v}__error`,warning:`${v}__warning`},w={base:`${v}__labeled-slider`};var b=n(60403);let _=class extends a.default{constructor(e){super(e),this._onChange=e=>{this.onChange(e.currentTarget.value)}}render(){const{label:e}=this;return(0,y.K)("div",{class:w.base},(0,y.K)("calcite-label",{scale:"s"},e,(0,y.K)("calcite-slider",{"aria-label":e,disabled:this.disabled,max:1,min:0,step:.01,value:this.value,onCalciteSliderChange:this._onChange,onCalciteSliderInput:this._onChange})))}loadDependencies(){return(0,d.W)({label:()=>n.e(11839).then(n.bind(n,11839)),slider:()=>n.e(83566).then(n.bind(n,83566))})}};(0,r._)([(0,i.MZ)()],_.prototype,"value",void 0),(0,r._)([(0,i.MZ)()],_.prototype,"onChange",void 0),(0,r._)([(0,i.MZ)()],_.prototype,"disabled",void 0),_=(0,r._)([(0,s.$)("esri.widgets.Weather.LabeledSlider")],_);var C=n(91967);let m=class extends C.default{constructor(e){super(e),this.header=!0}};(0,r._)([(0,i.MZ)({type:Boolean,nonNullable:!0})],m.prototype,"header",void 0),m=(0,r._)([(0,s.$)("esri.widgets.Weather.VisibleElements")],m);const f=m;var M=n(14843);const Z={sunny:"brightness",cloudy:"partly-cloudy",rainy:"rain",snowy:"snow",foggy:"fog"};let k=class extends a.default{constructor(e){super(e),this.viewModel=new M.default,this.headingLevel=4,this.visibleElements=new f,this._renderWeatherTypeButton=e=>{const t=this.viewModel,n=this.messages[e].label,r=t.state===b.u.Disabled,o=!r&&t.current.type===e;return(0,y.K)("calcite-button",{appearance:o?"solid":"outline","aria-checked":o?"true":"false",disabled:r,iconStart:Z[e],key:`${e}-type-button`,kind:o?"brand":"neutral",label:n,onclick:()=>{o||t.setWeatherByType(e)},scale:"l",title:n})},this._memoizedCallbacks=(0,o.B)((e=>({onCloudCoverChange:t=>{"cloudCover"in e&&(e.cloudCover=t)},onPrecipitationChange:t=>{"precipitation"in e&&(e.precipitation=t)},onFogStrengthChange:t=>{"fogStrength"in e&&(e.fogStrength=t)},onSnowCoverChange:e=>{this.viewModel.setSnowCoverEnabled(e.currentTarget.checked)}})))}render(){const e=this.viewModel.state===b.u.Disabled;return(0,y.K)("div",{"aria-label":this.messages.widgetLabelAccessible,class:this.classes(g.base,u.D.widget,e&&u.D.widgetDisabled),role:"region"},this._renderContent())}loadDependencies(){return(0,d.W)({button:()=>Promise.resolve().then(n.bind(n,43285)),checkbox:()=>n.e(64990).then(n.bind(n,64990)),icon:()=>Promise.resolve().then(n.bind(n,16702)),label:()=>n.e(11839).then(n.bind(n,11839))})}get view(){return this.viewModel?.view}set view(e){this.viewModel&&(this.viewModel.view=e)}get icon(){return"partly-cloudy"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get _errorMessage(){const e=this.messages.error;switch(this.viewModel.error){case b.F.LocalScene:return e.localScene;case b.F.NoAtmosphere:return e.noAtmosphere;case b.F.UnsupportedView:return e.unsupported;default:return null}}get _warningMessage(){return this.viewModel.error===b.F.NotVisible&&null!=this.view&&"3d"===this.view?.type&&this.view.environment.atmosphereEnabled?this.messages.error.notVisible:null}_renderContent(){const{headingLevel:e,messages:t,viewModel:n,visibleElements:r}=this,o=this._warningMessage,i=n.current,s=n.state===b.u.Error;return(0,y.K)(y.w,null,r.header?(0,y.K)(c.D,{level:e},t.widgetLabel):null,s?(0,y.K)("div",{class:g.error,key:"error"},this._errorMessage):null,(0,y.K)("div",{class:(0,p.Ly)({[g.content]:!0,[g.hasError]:s}),key:"content"},(0,y.K)("div",{"aria-label":t.weatherType,class:g.selector,key:"type-selector",role:"radiogroup"},l.l2.map(this._renderWeatherTypeButton)),Object.values(n.weatherByType).map((e=>(0,y.K)("div",{class:(0,p.Ly)({[g.options]:!0,[g.optionsHidden]:e.type!==i?.type}),key:"options-container"},this._renderOptions(e)))),null!=o?this._renderWarning(o):null))}_renderOptions(e){const{viewModel:t,messages:n}=this,r=t.state===b.u.Disabled,o=this._memoizedCallbacks(e);switch(e.type){case"sunny":return(0,y.K)(_,{disabled:r,key:"sunny-cover",label:n.sunny.cloudCover,value:e.cloudCover,onChange:o.onCloudCoverChange});case"cloudy":return(0,y.K)(_,{disabled:r,key:"cloudy-cover",label:n.cloudy.cloudCover,value:e.cloudCover,onChange:o.onCloudCoverChange});case"rainy":return(0,y.K)(y.w,null,(0,y.K)(_,{disabled:r,key:"rainy-cover",label:n.rainy.cloudCover,value:e.cloudCover,onChange:o.onCloudCoverChange}),(0,y.K)(_,{disabled:r,key:"rainy-precipitation",label:n.rainy.precipitation,value:e.precipitation,onChange:o.onPrecipitationChange}));case"snowy":return(0,y.K)(y.w,null,(0,y.K)(_,{disabled:r,key:"snowy-cloud-cover",label:n.snowy.cloudCover,value:e.cloudCover,onChange:o.onCloudCoverChange}),(0,y.K)(_,{disabled:r,key:"snowy-precipitation",label:n.snowy.precipitation,value:e.precipitation,onChange:o.onPrecipitationChange}),(0,y.K)("calcite-label",{key:"snow-cover",layout:"inline",scale:"s",title:n.snowy.snowCoverTooltip},(0,y.K)("calcite-checkbox",{checked:"enabled"===e.snowCover,disabled:r,onCalciteCheckboxChange:o.onSnowCoverChange}),n.snowy.snowCover));case"foggy":return(0,y.K)(_,{disabled:r,key:"foggy-cover",label:n.foggy.fogStrength,value:e.fogStrength,onChange:o.onFogStrengthChange})}}_renderWarning(e){return(0,y.K)("div",{class:g.warning,key:"warning"},(0,y.K)("calcite-icon",{icon:"exclamation-mark-triangle",scale:"s"}),e)}};(0,r._)([(0,i.MZ)()],k.prototype,"viewModel",void 0),(0,r._)([(0,i.MZ)()],k.prototype,"view",null),(0,r._)([(0,i.MZ)()],k.prototype,"headingLevel",void 0),(0,r._)([(0,i.MZ)({type:f,nonNullable:!0})],k.prototype,"visibleElements",void 0),(0,r._)([(0,i.MZ)()],k.prototype,"icon",null),(0,r._)([(0,i.MZ)()],k.prototype,"label",null),(0,r._)([(0,i.MZ)(),(0,h.G)("esri/widgets/Weather/t9n/Weather")],k.prototype,"messages",void 0),(0,r._)([(0,i.MZ)()],k.prototype,"_errorMessage",null),(0,r._)([(0,i.MZ)()],k.prototype,"_warningMessage",null),k=(0,r._)([(0,s.$)("esri.widgets.Weather")],k);const S=k},60403:(e,t,n)=>{var r,o;n.d(t,{F:()=>o,u:()=>r}),function(e){e.Disabled="disabled",e.Ready="ready",e.Error="error"}(r||(r={})),function(e){e.NotVisible="not-visible",e.LocalScene="local-scene",e.NoAtmosphere="no-atmosphere",e.UnsupportedView="unsupported-view"}(o||(o={}))},68814:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r,o=n(35143),i=n(42553),s=n(46053),l=(n(81806),n(76460),n(47249),n(6409)),a=n(85842);let d=r=class extends i.A{constructor(e){super(e),this.type="sunny",this.cloudCover=.5}clone(){return new r({cloudCover:this.cloudCover})}};(0,o._)([(0,l.e)({sunny:"sunny"}),(0,s.MZ)({json:{write:{isRequired:!0}}})],d.prototype,"type",void 0),(0,o._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"cloudCover",void 0),d=r=(0,o._)([(0,a.$)("esri.views.3d.environment.SunnyWeather")],d);const u=d},81835:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r,o=n(35143),i=n(42553),s=n(46053),l=(n(81806),n(76460),n(47249),n(6409)),a=n(85842);let d=r=class extends i.A{constructor(e){super(e),this.type="cloudy",this.cloudCover=.5}clone(){return new r({cloudCover:this.cloudCover})}};(0,o._)([(0,l.e)({cloudy:"cloudy"}),(0,s.MZ)({json:{write:{isRequired:!0}}})],d.prototype,"type",void 0),(0,o._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"cloudCover",void 0),d=r=(0,o._)([(0,a.$)("esri.views.3d.environment.CloudyWeather")],d);const u=d},92521:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r,o=n(35143),i=n(42553),s=n(46053),l=(n(81806),n(76460),n(47249),n(6409)),a=n(85842);let d=r=class extends i.A{constructor(e){super(e),this.type="snowy",this.cloudCover=.5,this.precipitation=.5,this.snowCover="disabled"}clone(){return new r({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}};(0,o._)([(0,l.e)({snowy:"snowy"}),(0,s.MZ)({json:{write:{isRequired:!0}}})],d.prototype,"type",void 0),(0,o._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"cloudCover",void 0),(0,o._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"precipitation",void 0),(0,o._)([(0,s.MZ)({type:["enabled","disabled"],nonNullable:!0,json:{write:!0}})],d.prototype,"snowCover",void 0),d=r=(0,o._)([(0,a.$)("esri.views.3d.environment.SnowyWeather")],d);const u=d}}]);
//# sourceMappingURL=59468.edf5ace0.chunk.js.map