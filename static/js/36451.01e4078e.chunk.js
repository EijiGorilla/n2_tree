"use strict";(self.webpackChunkn2_tree=self.webpackChunkn2_tree||[]).push([[36451,45602],{4437:(e,r,t)=>{t.d(r,{Z:()=>o,z:()=>i});var n=t(34761);function i(e,r,t){const n=Math.sin(e),i=Math.cos(e),o=Math.sin(r),s=Math.cos(r),a=t;return a[0]=-n,a[4]=-o*i,a[8]=s*i,a[12]=0,a[1]=i,a[5]=-o*n,a[9]=s*n,a[13]=0,a[2]=0,a[6]=s,a[10]=o,a[14]=0,a[3]=0,a[7]=0,a[11]=0,a[15]=1,a}function o(e,r,t){return i(e,r,t),(0,n.mg)(t,t),t}},5809:(e,r,t)=>{t.d(r,{l:()=>d});var n=t(15941),i=t(34761),o=t(9392),s=t(4437),a=t(482),u=t(80963);function d(e,r,t,n){const o=(0,a.Tp)(e,n);if(null==o)return!1;const d=o.source.spatialReferenceId,C=o.dest.spatialReferenceId;if(d===C&&!l(C)&&(d!==a.rz.UNKNOWN||(0,u.aI)(e,n)))return(0,i.kN)(t,r),!0;if(l(C)){const e=a.w5[d][a.rz.LON_LAT],n=a.w5[a.rz.LON_LAT][C];return null!=e&&null!=n&&(e(r,0,f,0),n(f,0,h,0),(0,s.z)(c*f[0],c*f[1],t),t[12]=h[0],t[13]=h[1],t[14]=h[2],!0)}const g=l(d);if((C===a.rz.WEB_MERCATOR||C===a.rz.PLATE_CARREE||C===a.rz.WGS84||C===a.rz.CGCS2000)&&(d===a.rz.WGS84||g||d===a.rz.WEB_MERCATOR||d===a.rz.CGCS2000)){const e=a.w5[d][a.rz.LON_LAT],n=a.w5[a.rz.LON_LAT][C];return null!=e&&null!=n&&(e(r,0,f,0),n(f,0,h,0),g?(0,s.Z)(c*f[0],c*f[1],t):(0,i.D_)(t),t[12]=h[0],t[13]=h[1],t[14]=h[2],!0)}return!1}function l(e){return e===a.rz.SPHERICAL_ECEF||e===a.rz.SPHERICAL_MARS_PCPF||e===a.rz.SPHERICAL_MOON_PCPF||e===a.rz.WGS84_ECEF}const c=(0,n.kU)(1),f=(0,o.vt)(),h=(0,o.vt)()},13191:(e,r,t)=>{function n(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function o(e,r,t,n,i,o,s,a,u,d,l,c,f,h,C,g){return[e,r,t,n,i,o,s,a,u,d,l,c,f,h,C,g]}t.d(r,{fA:()=>o,o8:()=>i,vt:()=>n,zK:()=>s});const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:n,createView:function(e,r){return new Float64Array(e,r,16)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},36451:(e,r,t)=>{t.r(r),t.d(r,{default:()=>f});var n=t(35143),i=t(91967),o=t(50076),s=t(68134),a=t(46053),u=t(85842),d=t(90364),l=t(83490);let c=class extends i.default{constructor(e){super(e),this.view=null,this.consumes={required:[]},this.produces=d.RenderCategory.COMPOSITE,this.requireGeometryDepth=!1,this._dirty=!0}initialize(){this.addHandles([(0,s.watch)((()=>this.view.ready),(e=>{e&&this.view._stage?.renderer.addRenderNode(this)}),s.initial)])}destroy(){this.view._stage?.renderer?.removeRenderNode(this)}precompile(){}render(){throw new o.default("RenderNode:render-function-not-implemented","render() is not implemented.")}get camera(){return this.view.state.camera.clone()}get sunLight(){return this.bindParameters.lighting.legacy}get gl(){return this.view._stage.renderView.renderingContext.gl}get techniques(){return this.view._stage.renderView.techniques}acquireOutputFramebuffer(){const e=this._frameBuffer?.getTexture()?.descriptor,r=this.view._stage.renderer.fboCache.acquire(e?.width??640,e?.height??480,this.produces);return r.fbo?.initializeAndBind(),r}bindRenderTarget(){return this._frameBuffer?.fbo?.initializeAndBind(),this._frameBuffer}requestRender(e){e===l.C7.UPDATE&&this.view._stage?.renderView.requestRender(e),this._dirty=!0}resetWebGLState(){this.renderingContext.resetState(),this.renderingContext.bindFramebuffer(this._frameBuffer?.fbo)}get fboCache(){return this.view._stage.renderer.fboCache}get bindParameters(){return this.renderContext.bind}get renderingContext(){return this.view._stage.renderView.renderingContext}get renderContext(){return this.view._stage?.renderer.renderContext}updateAnimation(e){return!!this._dirty&&(this._dirty=!1,!0)}doRender(e){this._frameBuffer=e.find((e=>{let{name:r}=e;return r===this.produces}));try{return this.render(e)}finally{this._frameBuffer=null}}};(0,n._)([(0,a.MZ)({constructOnly:!0})],c.prototype,"view",void 0),(0,n._)([(0,a.MZ)({constructOnly:!0})],c.prototype,"consumes",void 0),(0,n._)([(0,a.MZ)()],c.prototype,"produces",void 0),(0,n._)([(0,a.MZ)({readOnly:!0})],c.prototype,"techniques",null),c=(0,n._)([(0,u.$)("esri.views.3d.webgl.RenderNode")],c);const f=c},83490:(e,r,t)=>{var n,i,o,s,a,u,d,l;t.d(r,{Am:()=>s,C7:()=>o,JS:()=>l,Mg:()=>u,dd:()=>a,it:()=>i,s2:()=>n,sf:()=>d}),function(e){e[e.None=0]="None",e[e.Front=1]="Front",e[e.Back=2]="Back",e[e.COUNT=3]="COUNT"}(n||(n={})),function(e){e[e.Less=0]="Less",e[e.Lequal=1]="Lequal",e[e.COUNT=2]="COUNT"}(i||(i={})),function(e){e[e.BACKGROUND=0]="BACKGROUND",e[e.UPDATE=1]="UPDATE"}(o||(o={})),function(e){e[e.NOT_LOADED=0]="NOT_LOADED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"}(s||(s={})),function(e){e[e.IntegratedMeshMaskExcluded=1]="IntegratedMeshMaskExcluded",e[e.OutlineVisualElementMask=2]="OutlineVisualElementMask"}(a||(a={})),function(e){e[e.Highlight=0]="Highlight",e[e.MaskOccludee=1]="MaskOccludee"}(u||(u={})),function(e){e[e.Blend=0]="Blend",e[e.Opaque=1]="Opaque",e[e.Mask=2]="Mask",e[e.MaskBlend=3]="MaskBlend",e[e.COUNT=4]="COUNT"}(d||(d={})),function(e){e.DDS_ENCODING="image/vnd-ms.dds",e.KTX2_ENCODING="image/ktx2",e.BASIS_ENCODING="image/x.basis"}(l||(l={}))},90364:(e,r,t)=>{t.r(r),t.d(r,{InternalRenderCategory:()=>i,RenderCategory:()=>n,fromRenderCoordinates:()=>l,renderCoordinateTransformAt:()=>c,toRenderCoordinates:()=>d});var n,i,o,s=t(13191),a=t(5809),u=t(45308);function d(e,r,t,n,i,o,s){return n=n||e.spatialReference,(0,u.projectBuffer)(r,n,t,i,e.renderCoordsHelper.spatialReference,o,s)?i:null}function l(e,r,t,n,i,o,s){return o=o||e.spatialReference,(0,u.projectBuffer)(r,e.renderCoordsHelper.spatialReference,t,n,o,i,s)?n:null}function c(e,r,t,n){return n||(n=(0,s.vt)()),t=t||e.spatialReference,(0,a.l)(t,r,n,e.renderCoordsHelper.spatialReference)?n:null}(o=n||(n={})).OPAQUE="opaque-color",o.TRANSPARENT="transparent-color",o.COMPOSITE="composite-color",o.FINAL="final-color",function(e){e.SSAO="ssao",e.LASERLINES="laserline-color",e.ANTIALIASING="aa-color",e.HIGHLIGHTS="highlight-color",e.MAGNIFIER="magnifier-color",e.OCCLUDED="occluded-color",e.VIEWSHED="viewshed-color",e.OPAQUE_ENVIRONMENT="opaque-environment-color",e.TRANSPARENT_ENVIRONMENT="transparent-environment-color",e.FOCUSAREA="focus-area"}(i||(i={}))}}]);
//# sourceMappingURL=36451.01e4078e.chunk.js.map