{"version":3,"file":"static/js/44670.662ca420.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/webscene/background/Background.js","../node_modules/@arcgis/core/webdoc/support/webdocSaveUtils.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/webdoc/support/saveUtils.js","../node_modules/@arcgis/core/portal/support/resourceUtils.js","../node_modules/@arcgis/core/core/accessorSupport/originUtils.js","../node_modules/@arcgis/core/webscene/background/utils.js","../node_modules/@arcgis/core/webscene/Environment.js","../node_modules/@arcgis/core/webscene/Presentation.js","../node_modules/@arcgis/core/support/webSceneUtils.js","../node_modules/@arcgis/core/webscene/TransportationNetwork.js","../node_modules/@arcgis/core/webscene/Version.js","../node_modules/@arcgis/core/webscene/support/schemaValidatorLoader.js","../node_modules/@arcgis/core/WebScene.js","../node_modules/@arcgis/core/webscene/background/ColorBackground.js","../node_modules/@arcgis/core/webscene/InitialViewProperties.js","../node_modules/@arcgis/core/support/tagSymbols.js","../node_modules/@arcgis/core/webscene/support/AlphaCutoff.js","../node_modules/@arcgis/core/webscene/ApplicationProperties.js","../node_modules/@arcgis/core/webdoc/support/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends r{constructor(o){super(o)}clone(){throw new Error(\"Subclasses of Background should implement their own clone method.\")}};o([e({readOnly:!0,json:{read:!1}})],t.prototype,\"type\",void 0),t=o([s(\"esri.webscene.background.Background\")],t);const c=t;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{MultiOriginJSONSupport as t}from\"../../core/MultiOriginJSONSupport.js\";import{whenOnce as o}from\"../../core/reactiveUtils.js\";import{hasSameCanonicalPortal as r,urlToObject as a}from\"../../core/urlUtils.js\";import{updateOrigins as i}from\"../../core/accessorSupport/originUtils.js\";import n from\"../../geometry/SpatialReference.js\";import{equals as s}from\"../../geometry/support/spatialReferenceUtils.js\";import{webMercatorToGeographic as l}from\"../../geometry/support/webMercatorUtils.js\";import{isServerOrServicesAGOLUrl as p}from\"../../layers/support/arcgisLayerUrl.js\";import{isLayerWithFeatureLayerSource as c,isFeatureCollectionLayer as u}from\"../../layers/support/layerUtils.js\";import m from\"../../portal/Portal.js\";import f from\"../../portal/PortalItem.js\";import{createForItemWrite as d}from\"../../portal/support/jsonContext.js\";import{typeKeyword as w,removeTypeKeyword as y,addTypeKeyword as h,hasTypeKeyword as g}from\"../../portal/support/portalItemUtils.js\";import{project as _}from\"../../rest/geometryService/project.js\";import b from\"../../rest/support/ProjectParameters.js\";import{hasDeveloperBasemapLayer as j,findSpatialReference as R,isDeveloperBasemapLayer as v}from\"../../support/basemapUtils.js\";import{saveResources as W}from\"./resourceUtils.js\";import{beforeSave as P,evaluateWriteErrors as S}from\"./saveUtils.js\";const I=[\"NatGeo_World_Map\",\"Ocean_Basemap\",\"USA_Topo_Maps\",\"World_Imagery\",\"World_Street_Map\",\"World_Terrain_Base\",\"World_Topo_Map\",\"World_Hillshade\",\"Canvas/World_Light_Gray_Base\",\"Canvas/World_Light_Gray_Reference\",\"Canvas/World_Dark_Gray_Base\",\"Canvas/World_Dark_Gray_Reference\",\"Ocean/World_Ocean_Base\",\"Ocean/World_Ocean_Reference\",\"Reference/World_Boundaries_and_Places\",\"Reference/World_Reference_Overlay\",\"Reference/World_Transportation\"].map((e=>e.toLowerCase()));async function A(e,t,r){r??={},U(e,t),await o((()=>!t.updatingFromView)),await t.load(),await E(t),await P(t),await M(e,t);const a=t.portalItem,{json:i,jsonContext:n}=await O(t,a,e.origin);return S(n,{errorName:`${e.name}:save`},r),await V(t,a),await ye(e,t,a,i,n),await Promise.all([t.updateItemThumbnail(),W(t.resourceReferences,n)]),a}async function O(e,t,o){const r=d(t,o,!0),a=e.write({},r);return await Promise.all(r.resources.pendingOperations),{json:a,jsonContext:r}}async function T(e,t,r,a){a??={};const i=D(e,r);await o((()=>!t.updatingFromView)),await t.load(),await E(t),await P(t),await M(e,t);const{json:n,jsonContext:s}=await O(t,i,e.origin);S(s,{errorName:`${e.name}:save`},a),await X(t,i);const l=t.getThumbnailState();return await he(e,t,i,n,s,a)&&(t.resourceReferences.portalItem=i),t.restoreThumbnailFromState(l),await Promise.all([t.updateItemThumbnail(),W(t.resourceReferences,s)]),i}function U(t,o){if(!o.portalItem)throw new e(`${t.name}:portal-item-not-set`,\"Portal item to save to has not been set on the WebMap\");C(t,o.portalItem)}function C(t,o){if(o.type!==t.itemType)throw new e(`${t.name}:portal-item-wrong-type`,`Portal item needs to have type \"${t.itemType}\"`)}async function M(t,r){if(\"linkchart\"===t.name)return;if(!r.basemap?.baseLayers.length)throw new e(`${t.name}:save`,\"Map does not have a valid basemap with a base layer.\");let a=null;if(await o((()=>{const e=R(r.initialViewProperties,r.basemap);return a=e.spatialReference,!e.updating})),!s(a,r.initialViewProperties.spatialReference))throw new e(`${t.name}:save`,\"The spatial reference of the basemap is not compatible with the one from the map.\",{expected:r.initialViewProperties.spatialReference,actual:a})}function D(e,t){let o=f.from(t);return o.id&&(o=o.clone(),o.id=null),o.type||(o.type=e.itemType),o.portal||(o.portal=m.getDefault()),C(e,o),o}function E(e){const t=[];return e.basemap&&t.push(e.basemap.load()),e.ground&&t.push(e.ground.load()),Promise.allSettled(t).then((()=>{}))}async function V(e,t){t.extent=await pe(e.portalItem,e.initialViewProperties.viewpoint.targetGeometry),await Y(e,t)}const k=w.JSAPI,x=\"CollectorDisabled\",G=\"Collector\",L=\"Data Editing\",N=\"OfflineDisabled\",$=\"Offline\",B=\"Workforce Project\",F=\"Workforce Worker\",K=\"Workforce Dispatcher\",H=\"Offline Map Areas\",J=\"FieldMapsDisabled\",q=w.DEVELOPER_BASEMAP,z=\"UtilityNetwork\",Q=\"IPS\";async function X(e,t){y(t,x),y(t,J),y(t,w.METADATA),y(t,N),y(t,H),y(t,K),y(t,B),y(t,F),await V(e,t)}async function Y(e,t){h(t,k),await Z(e),re(e,t),ae(e,t),ie(e,t),ne(e,t),se(e,t),le(e,t),t.typeKeywords&&(t.typeKeywords=t.typeKeywords.filter(((e,t,o)=>o.indexOf(e)===t)))}function Z(e){const t=ee(e).map((e=>e.load())).toArray();return Promise.allSettled(t).then((()=>{}))}function ee(e){return e.allLayers.concat(e.allTables)}function te(e){return ee(e).some((e=>e.loaded&&c(e)&&e.capabilities.operations.supportsEditing&&e.editingEnabled&&(\"subtype-group\"!==e.type||e.sublayers.some((e=>e.editingEnabled)))))}function oe(e){return ee(e).filter((e=>\"group\"!==e.type)).every((t=>t.loaded&&me(e,t)))}function re(e,t){g(t,x)||g(t,B)||g(t,F)||g(t,K)||!te(e)?y(t,G):h(t,G)}function ae(e,t){te(e)?h(t,L):y(t,L)}function ie(e,t){!g(t,N)&&oe(e)?h(t,$):y(t,$)}function ne(e,t){j(e.basemap)?h(t,q):y(t,q)}function se(e,t){e.utilityNetworks?.length?h(t,z):y(t,z)}function le(e,t){e.ipsInfo?h(t,Q):y(t,Q)}async function pe(e,t){const o=t.clone().normalize();let r;if(o.length>1)for(const a of o)r?a.width>r.width&&(r=a):r=a;else r=o[0];return ce(e,r)}async function ce(e,t){const o=t.spatialReference;if(o.isWGS84)return t.clone();if(o.isWebMercator)return l(t);const{getGeometryServiceURL:r}=await import(\"../../portal/support/geometryServiceUtils.js\"),a=await r(e),i=new b({geometries:[t],outSpatialReference:n.WGS84});return(await _(a,i))[0]}function ue(e){return u(e)||\"map-notes\"===e.type||\"route\"===e.type}function me(e,t){return c(t)&&t.capabilities.operations.supportsSync||ue(t)&&!t.portalItem||fe(t)&&!de(t)&&t.spatialReference.equals(e.initialViewProperties.spatialReference)}function fe(e){return(\"tile\"===e.type||\"vector-tile\"===e.type)&&(e.capabilities.operations.supportsExportTiles||we(e)||v(e))}function de(e){return\"vector-tile\"===e.type&&Object.keys(e.sourceNameToSource).length>1}function we(e){return\"tile\"===e.type&&(p(e.url)&&I.some((t=>e.url?.toLowerCase().includes(\"/\"+t+\"/\"))))}async function ye(e,t,o,r,a){await o.update({data:r}),be(e,t,o,r,a)}async function he(t,o,r,a,i,n){const s=o.portalItem,l={item:s,authenticated:!(!s?.id||!s.portal.user)},p=r.portal;await p.signIn();const{copyAllowed:c,itemReloaded:u}=await ge(l,p);if(l.authenticated||=u,!c)throw new e(`${t.name}:save-as-copy-not-allowed`,\"Owner of this map does not allow others to save a copy\");const m=await _e(r,l,a,n);return o.portalItem=r,be(t,o,r,a,i),m}async function ge(e,t){const{item:o,authenticated:r}=e;return o?.id&&o.typeKeywords?.includes(\"useOnly\")?o.portal.portalHostname!==t.portalHostname?{copyAllowed:!1,itemReloaded:!1}:(r||await o.reload(),{copyAllowed:\"admin\"===o.itemControl||\"update\"===o.itemControl,itemReloaded:!0}):{copyAllowed:!0,itemReloaded:!1}}async function _e(e,t,o,a){const i=e.portal,{item:n}=t,{folder:s,copyAllResources:l}=a;let p=!1;if(l&&n?.id&&r(n.portal.url,i.url)&&parseInt(n.portal.currentVersion,10)>=2023){const{total:e}=await n.fetchResources();p=!!e}if(p){const t=await n.copy({copyResources:\"all\",folder:s});e.id=t.id,e.portal=t.portal;const r=e.toJSON();await e.load(),e.read(r),await e.update({data:o})}else await i.user.addItem({item:e,folder:s,data:o});return p}function be(e,o,r,n,s){t.prototype.read.call(o,{version:n.version,authoringApp:n.authoringApp,authoringAppVersion:n.authoringAppVersion},{origin:e.origin,ignoreDefaults:!0,url:r.itemUrl?a(r.itemUrl):void 0}),i(s),o.resourceInfo=n}export{O as createJSON,_e as initializeNewItem,ge as isCopyAllowed,A as save,T as saveAs};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";async function r(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}const o=new Set([\"layer:unsupported\",\"property:unsupported\",\"symbol:unsupported\",\"symbol-layer:unsupported\",\"url:unsupported\"]);function t(r,t,n){let s=(r.messages??[]).filter((({type:e})=>\"error\"===e)).map((({name:r,message:o,details:t})=>new e(r,o,t)));if(r.blockedRelativeUrls&&(s=s.concat(r.blockedRelativeUrls.map((r=>new e(\"url:unsupported\",`Relative url '${r}' is not supported`))))),n){const{ignoreUnsupported:e,supplementalUnsupportedErrors:r=[],requiredPropertyChecksDisabled:t}=n;e&&(s=s.filter((({name:e})=>!(o.has(e)||r.includes(e))))),t&&(s=s.filter((e=>\"web-document-write:property-required\"!==e.name)))}if(s.length>0)throw new e(t.errorName,\"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:s})}export{r as beforeSave,t as evaluateWriteErrors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{join as r,getPathExtension as s}from\"../../core/urlUtils.js\";async function o(e,t={},s){await e.load(s);const o=r(e.itemUrl,\"resources\"),{start:a=1,num:n=10,sortOrder:c=\"asc\",sortField:l=\"resource\"}=t,i={query:{start:a,num:n,sortOrder:c,sortField:l,token:e.apiKey},signal:s?.signal},u=await e.portal.request(o,i);return{total:u.total,nextStart:u.nextStart,resources:u.resources.map((({created:t,size:r,resource:s})=>({created:new Date(t),size:r,resource:e.resourceFromPath(s)})))}}async function a(e,s,o,a){const n=new Map;for(const{resource:r,content:i,compress:u,access:p}of s){if(!r.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const[e,s]=l(r.path),a=`${e}/${u??\"\"}/${p??\"\"}`;n.has(a)||n.set(a,{prefix:e,compress:u,access:p,files:[]});n.get(a).files.push({fileName:s,content:i})}await e.load(a);const c=r(e.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\");for(const{prefix:t,compress:r,access:l,files:i}of n.values()){const s=25;for(let o=0;o<i.length;o+=s){const n=i.slice(o,o+s),u=new FormData;t&&\".\"!==t&&u.append(\"resourcesPrefix\",t),r&&u.append(\"compress\",\"true\"),l&&u.append(\"access\",l);let p=0;for(const{fileName:e,content:t}of n)u.append(\"file\"+ ++p,t,e);u.append(\"f\",\"json\"),await e.portal.request(c,{method:\"post\",body:u,signal:a?.signal})}}}async function n(e,s,o){if(!s.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const a=r(e.userItemUrl,\"removeResources\");await e.portal.request(a,{method:\"post\",query:{resource:s.path},signal:o?.signal}),s.portalItem=null}async function c(e,t){await e.load(t);const s=r(e.userItemUrl,\"removeResources\");return e.portal.request(s,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function l(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function i(e){const[t,r]=u(e),[s,o]=l(t);return[s,o,r]}function u(e){const t=s(e);return null==t?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(\"blob\"===t.type)return t.blob;if(\"json\"===t.type)return new Blob([t.jsonString],{type:\"application/json\"});return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}function m(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}export{a as addOrUpdateResources,p as contentToBlob,o as fetchResources,f as getSiblingOfSameType,m as getSiblingOfSameTypeI,c as removeAllResources,n as removeResource,i as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i?.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"./Background.js\";import r from\"./ColorBackground.js\";const o={base:e,key:\"type\",typeMap:{color:r}};function t(e){return(r,o,t)=>{if(!r)return r;for(const n in e.typeMap)if(r.type===n){const o=new e.typeMap[n];return o.read(r,t),o}}}const n={types:o,json:{read:t(o),write:{overridePolicy:(e,r,o)=>({enabled:!o?.isPresentation})}}};export{n as backgroundProperty};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/JSONSupport.js\";import{clone as o}from\"../core/lang.js\";import r from\"../core/Logger.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"../views/3d/environment/SunnyWeather.js\";import{weatherTypes as l,validateWeatherType as a}from\"../views/3d/environment/weather.js\";import{lightingTypes as p}from\"./lightingTypes.js\";import h from\"./SunLighting.js\";import c from\"./VirtualLighting.js\";import{backgroundProperty as m}from\"./background/utils.js\";var g;const u=(e,t,o)=>({enabled:!o?.isPresentation});let d=g=class extends t{constructor(e){super(e),this.lighting=new h,this.background=null,this.atmosphereEnabled=!0,this.starsEnabled=!0}set weather(e){a(e?.type,r.getLogger(this))&&this._set(\"weather\",e)}clone(){return new g(this.cloneConstructProperties())}cloneConstructProperties(){return{lighting:this.lighting&&\"virtual\"===this.lighting.type?c.prototype.clone.call(this.lighting):h.prototype.clone.call(this.lighting),background:o(this.background),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,weather:this.weather.clone()}}};e([s({types:p,nonNullable:!0,json:{write:!0}})],d.prototype,\"lighting\",void 0),e([s(m)],d.prototype,\"background\",void 0),e([s({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:u}}})],d.prototype,\"atmosphereEnabled\",void 0),e([s({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:u}}})],d.prototype,\"starsEnabled\",void 0),e([s({types:l,nonNullable:!0,json:{write:!0},value:new n})],d.prototype,\"weather\",null),d=g=e([i(\"esri.webscene.Environment\")],d);const b=d;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import o from\"../core/Collection.js\";import{referenceSetter as e,castForReferenceSetter as r}from\"../core/collectionUtils.js\";import t from\"../core/JSONSupport.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import{cast as c}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import p from\"./Slide.js\";const n=o.ofType(p);let m=class extends t{constructor(s){super(s),this.slides=new n}destroy(){this.slides.forEach((s=>s.destroy())),this.slides.removeAll()}set slides(s){s&&(s=s.filter((s=>!!s.viewpoint))),this._set(\"slides\",e(s,this._get(\"slides\"),n))}clone(){return new(0,this.constructor)({slides:this.slides.clone()})}};s([i({type:n,nonNullable:!0,json:{write:!0}}),c(r)],m.prototype,\"slides\",null),m=s([l(\"esri.webscene.Presentation\")],m);const d=m;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../core/Error.js\";const r=\"webscene:failed-to-copy-embedded-resources\",o=\"webscene:schema-validation\";function n(){return new e(r,\"Copying of embedded resources is currently not supported\")}function s(r){return new e(o,\"Failed to save webscene due to schema validation errors. See 'details.errors' for more detailed information\",{errors:r})}export{n as createCopyError,s as createSchemaValidationError,o as schemaValidationErrorName};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import t from\"../core/JSONSupport.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";var s;let i=s=class extends t{constructor(r){super(r)}clone(){return new s({name:this.name,path:this.path,title:this.title})}};r([o({type:String,json:{write:{isRequired:!0}}})],i.prototype,\"name\",void 0),r([o({type:String,json:{write:{isRequired:!0}}})],i.prototype,\"path\",void 0),r([o({type:String,json:{write:{isRequired:!0}}})],i.prototype,\"title\",void 0),i=s=r([e(\"esri.webscene.TransportationNetwork\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Version as e}from\"../core/Version.js\";class s extends e{constructor(e,s){super(e,s,\"webscene\")}get supportsGround(){return this.greaterEqual(1,8)}get supportsVisibleElevationLayersInSlides(){return this.lessThan(1,8)}}export{s as Version};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nlet n=null;function t(t){n=t}function u(){return n}export{u as getLoader,t as registerLoader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"./chunks/tslib.es6.js\";import{version as t}from\"./kernel.js\";import r from\"./Map.js\";import i from\"./Viewpoint.js\";import o from\"./core/Collection.js\";import s from\"./core/Error.js\";import{clone as a}from\"./core/lang.js\";import n from\"./core/Loadable.js\";import{loadAll as l}from\"./core/loadAll.js\";import p from\"./core/Logger.js\";import{destroyMaybe as c}from\"./core/maybe.js\";import{MultiOriginJSONMixin as d,MultiOriginJSONSupport as h}from\"./core/MultiOriginJSONSupport.js\";import m from\"./core/Promise.js\";import{debounce as u}from\"./core/promiseUtils.js\";import{on as y,watch as w}from\"./core/reactiveUtils.js\";import{urlToObject as f,addQueryParameter as g}from\"./core/urlUtils.js\";import b from\"./core/Warning.js\";import{property as v}from\"./core/accessorSupport/decorators/property.js\";import\"./core/has.js\";import{reader as S}from\"./core/accessorSupport/decorators/reader.js\";import{subclass as _}from\"./core/accessorSupport/decorators/subclass.js\";import{writer as A}from\"./core/accessorSupport/decorators/writer.js\";import{updateOrigins as I}from\"./core/accessorSupport/originUtils.js\";import{readLoadable as j}from\"./core/accessorSupport/read.js\";import L from\"./geometry/Extent.js\";import V from\"./geometry/HeightModelInfo.js\";import{canProjectWithoutEngine as R}from\"./geometry/projection.js\";import E from\"./geometry/SpatialReference.js\";import{validateWebSceneError as P}from\"./geometry/support/heightModelInfoUtils.js\";import{fromJSON as M}from\"./geometry/support/jsonUtils.js\";import{isEarth as O}from\"./geometry/support/spatialReferenceUtils.js\";import U from\"./portal/Portal.js\";import C from\"./portal/PortalItem.js\";import{createForItemWrite as N}from\"./portal/support/jsonContext.js\";import{toggleTypeKeyword as T,typeKeyword as x}from\"./portal/support/portalItemUtils.js\";import{hasDeveloperBasemapLayer as G}from\"./support/basemapUtils.js\";import F from\"./support/MapFloorInfo.js\";import{WebSceneTag as W}from\"./support/tagSymbols.js\";import{createSchemaValidationError as J}from\"./support/webSceneUtils.js\";import $ from\"./time/TimeExtent.js\";import{ViewingMode as B}from\"./views/ViewingMode.js\";import{isSpatialReferenceSupported as q}from\"./views/support/spatialReferenceSupport.js\";import{SaveOperationType as k}from\"./webdoc/interfaces.js\";import D from\"./webdoc/Widgets.js\";import{updateItemWithResources as H,saveResources as K}from\"./webdoc/support/resourceUtils.js\";import{evaluateWriteErrors as z}from\"./webdoc/support/saveUtils.js\";import{getOptimalThumbnailSize as Q}from\"./webdoc/support/thumbnailUtils.js\";import{isCopyAllowed as X,initializeNewItem as Y}from\"./webdoc/support/webdocSaveUtils.js\";import Z from\"./webscene/ApplicationProperties.js\";import ee from\"./webscene/Environment.js\";import te from\"./webscene/InitialViewProperties.js\";import re from\"./webscene/Presentation.js\";import ie from\"./webscene/TransportationNetwork.js\";import{Version as oe}from\"./webscene/Version.js\";import{alphaCutoff as se}from\"./webscene/support/AlphaCutoff.js\";import{getLoader as ae}from\"./webscene/support/schemaValidatorLoader.js\";var ne;const le=new oe(1,36),pe=()=>{const e=8,t=[],r=le.major;for(let i=e;i<=le.minor;i++)t.push(`${r}.${i}`);return t},ce=\"Web Scene\";let de=class extends(n.LoadableMixin(m.EsriPromiseMixin(d(r)))){constructor(e){super(e),this[ne]=!0,this._layersIdGCTimeoutId=void 0,this._updateFromPromise=null,this.applicationProperties=null,this.clippingArea=null,this.clippingEnabled=!1,this.floorInfo=null,this.heightModelInfo=void 0,this.sourceVersion=null,this.transportationNetworks=null,this.presentation=new re,this.initialViewProperties=new te,this.portalItem=null,this.resourceInfo=null,this.widgets=null,this._debouncedSaveOperations=u((async(e,t,r)=>{switch(e){case k.SAVE:return this._saveImpl(t);case k.SAVE_AS:return this._saveAsImpl(r,t)}})),this._resourceReferences={portalItem:null,paths:[]},this.authoringApp=null,this.authoringAppVersion=null,this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1}initialize(){if(this.when().catch((e=>{p.getLogger(this).error(\"#load()\",\"Failed to load web scene\",e)})),this.resourceInfo){let t;try{t=this._validateJSON(this.resourceInfo)}catch(e){return void this.addResolvingPromise(Promise.reject(e))}this.read(t),this.addResolvingPromise(this._validateSpatialReference()),this.addResolvingPromise(this._validateHeightModelInfo())}this.addHandles(y((()=>this.allLayers),\"change\",(()=>this._scheduleLayersIdGC())))}destroy(){this._unscheduleLayersIdGC(),this.presentation&&this.presentation.destroy(),this.portalItem=c(this.portalItem)}writeClippingArea(e,t){t.clippingArea||(t.clippingArea={}),t.clippingArea.geometry=e.toJSON()}readClippingEnabled(e,t){return!!t.clippingArea&&!!t.clippingArea.clip}writeClippingEnabled(e,t){this.clippingArea&&(t.clippingArea||(t.clippingArea={}),t.clippingArea.clip=e)}writeLayers(e,t,r,i){t[r]=this._layersToJSON(e,\"operational-layers\",i)}readSourceVersion(e,t){const[r,i]=t.version.split(\".\");return new oe(parseInt(r,10),parseInt(i,10))}writeSourceVersion(e,t,r){t[r]=`${le.major}.${le.minor}`}writeTables(e,t,r,i){const o=this._layersToJSON(e,\"tables\",i);o.length&&(t[r]=o)}get thumbnailUrl(){return this.portalItem?.thumbnailUrl??null}set thumbnailUrl(e){e?this._override(\"thumbnailUrl\",e):(this._clearOverride(\"thumbnailUrl\"),this.clear(\"thumbnailUrl\",\"user\"))}set authoringApp(e){this._isAuthoringAppSetByUser=!0,this._set(\"authoringApp\",e)}writeAuthoringApp(e,t){e&&this._isAuthoringAppSetByUser?t.authoringApp=e:t.authoringApp=\"ArcGIS API for JavaScript\"}set authoringAppVersion(e){this._isAuthoringAppVersionSetByUser=!0,this._set(\"authoringAppVersion\",e)}writeAuthoringAppVersion(e,r){e&&this._isAuthoringAppVersionSetByUser?r.authoringAppVersion=e:r.authoringAppVersion=t}writeGround(e,t,r,i){t[r]=e?e.write({},i):{transparency:0,layers:[]}}readInitialViewProperties(e,t){const r={};t.initialState?.environment&&(r.environment=ee.fromJSON(t.initialState.environment)),r.spatialReference=t.spatialReference?E.fromJSON(t.spatialReference):E.WebMercator,r.viewingMode=t.viewingMode??\"global\",t.initialState?.viewpoint&&(r.viewpoint=i.fromJSON(t.initialState.viewpoint));const o=t.initialState?.timeExtent;return null!=o&&(r.timeExtent=$.fromArray(o)),new te(r)}get spatialReference(){return this.initialViewProperties?.spatialReference??E.WebMercator}get viewingMode(){return this.initialViewProperties?.viewingMode??\"global\"}load(e){const t=this.ground;return this.addResolvingPromise(this._loadFromSource().then((()=>{t&&t!==this.ground&&t.destroy(),this._validateFeatureLayerSymbolVisibility()}))),Promise.resolve(this)}loadAll(){return l(this,(e=>{const t=this.presentation&&this.presentation.slides;e(this.ground,this.basemap,this.layers,t&&t.map((e=>e.basemap)),this.tables)}))}read(e,t){t={...t,origin:\"web-scene\"};const r=this._isAuthoringAppVersionSetByUser,i=this._isAuthoringAppSetByUser;if(j(this,e,(t=>super.read(e,t)),t),i||(this._isAuthoringAppSetByUser=!1),r||(this._isAuthoringAppVersionSetByUser=!1),e.baseMap&&Array.isArray(e.baseMap.elevationLayers)&&this.sourceVersion?.supportsVisibleElevationLayersInSlides){const t=e.baseMap.elevationLayers.map((e=>({id:e.id}))),r=this.presentation.slides,i=(e,t)=>e.visibleLayers.some((e=>e.id===t)),o=t.filter((e=>!r.some((t=>i(t,e.id)))));r.forEach((e=>{e.visibleLayers.addMany(o)}))}}_writeBasemapElevationLayers(e){const t=e.ground?.layers;!e.baseMap&&t?.length&&(e.baseMap={title:\"Basemap\",baseMapLayers:[]}),e.baseMap&&(e.baseMap.elevationLayers=a(t))}_layersToJSON(e,t,r){const i={...r,layerContainerType:t};return e.map((e=>this._verifyWritableLayer(e,r)?e.write({},i):null)).filter((e=>!!e)).toArray()}_verifyWritableLayer(e,t){return!!e.persistenceEnabled&&(\"write\"in e||(t?.messages&&t.messages.push(new s(\"layer:unsupported\",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted in web scenes`,{layer:e})),!1))}write(e,t){if(\"loaded\"!==this.loadStatus){const e=new s(\"webscene:not-loaded\",\"Web scene must be loaded before it can be serialized\");throw p.getLogger(this).error(\"#toJSON()\",\"Web scene must be loaded before it can be serialized\",this.loadError||this.loadStatus),e}this._runLayersIdGC();const r=!t?.messages;t={messages:[],...t,origin:\"web-scene\"};const i=super.write(e,t);if(r){const e=t.messages?.filter((e=>\"web-document-write:property-required\"===e.name))??[];if(e.length){const t=new s(\"web-document:property-required\",\"One or more properties that are required in the webscene JSON are missing, see details for the specific errors\",{errors:e});throw p.getLogger(this).error(\"#toJSON()\",\"One or more properties that are required in the webscene JSON are missing\",e),t}}return this._writeBasemapElevationLayers(i),i}async save(e){return this._debouncedSaveOperations(k.SAVE,e)}async _saveImpl(e){if(!this.portalItem)throw new s(\"webscene:portal-item-not-set\",\"Portal item to save to has not been set on the WebScene\");if(this.portalItem?.type!==ce)throw new s(\"webscene:portal-item-wrong-type\",`Portal item needs to have type \"${ce}\"`);const t=this._updateFromPromise;await this._ensureLoadBeforeSave();const r=this._enableVerifyItemRelativeUrls(N(this.portalItem,\"web-scene\",!0)),i=this.write({},r);return await Promise.all(r.resources.pendingOperations),await this._verifySave(i,r,k.SAVE,e),this._updateTypeKeywords(this.portalItem),await H(this.portalItem,i,this._resourceReferences,r),I(r),t&&await t,await this._saveThumbnail(),this.portalItem}async saveAs(e,t){return this._debouncedSaveOperations(k.SAVE_AS,t,e)}async _saveAsImpl(e,t){let r=C.from(e);if(!r)throw new s(\"webscene:portal-item-required\",\"saveAs requires a portal item to save to\");r.id&&(r=r.clone(),r.id=null);const i=r.portal||U.getDefault();await this._ensureLoadBeforeSave(),r.type=ce,r.portal=i;const o=this._enableVerifyItemRelativeUrls(N(r,\"web-scene\",!0)),a=this.write({},o);await Promise.all(o.resources.pendingOperations),await this._verifySaveAs(a,o,t);const n=this.thumbnailUrl,l=!this._isOverridden(\"thumbnailUrl\");this._updateTypeKeywords(r),await i.signIn();const p=this.portalItem,c={item:p,authenticated:!(!p?.id||!p.portal.user)},{copyAllowed:d,itemReloaded:m}=await X(c,i);if(c.authenticated||=m,!d)throw new s(`${o.name}:save-as-copy-not-allowed`,\"Owner of this map does not allow others to save a copy\");const u={...t,copyAllResources:!0};return await Y(r,c,a,u)&&(this._resourceReferences.portalItem=r),await K(this._resourceReferences,o),this.portalItem=r,h.prototype.read.call(this,{version:a.version,authoringApp:a.authoringApp,authoringAppVersion:a.authoringAppVersion},{name:\"web-scene\",ignoreDefaults:!0,url:r.itemUrl?f(r.itemUrl):void 0}),I(o),n&&(this.thumbnailUrl=l?g(n,\"w\",\"8192\"):n),o.portalItem=r,await this._saveThumbnail(),r}async _saveThumbnail(){this._isOverridden(\"thumbnailUrl\")&&(await(this.portalItem?.updateThumbnail({thumbnail:this.thumbnailUrl})),this._clearOverride(\"thumbnailUrl\"),this.clear(\"thumbnailUrl\",\"user\"))}async _verifySave(e,t,r,i){if(!O(this.spatialReference))throw new s(\"webscene:unsupported-spatial-reference\",\"Webscenes using spatial reference systems from Mars or Moon can not be saved currently.\");const{ignoreUnsupported:o,requiredPropertyChecksDisabled:a,strictSchemaValidationEnabled:n}=i||{};z(t,{errorName:\"webscene:save\"},{ignoreUnsupported:o,supplementalUnsupportedErrors:[\"scenemodification:unsupported\"],requiredPropertyChecksDisabled:a});const l=ae();if(n&&l){const t=(await l()).validate(e);if(!t.length)return;const i=`webscene did not validate:\\n${t.join(\"\\n\")}`;p.getLogger(this).error(`${r===k.SAVE_AS?\"saveAs\":\"save\"}(): ${i}`);const o=t.map((e=>new s(\"webscene:schema-validation\",e)));throw J(o)}}_verifySaveAs(e,t,r){return this._verifySave(e,t,k.SAVE_AS,r)}verifySaveAs(e){const t=this._enableVerifyItemRelativeUrls({origin:\"web-scene\",messages:[]}),r=this.write({},t);return this._verifySaveAs(r,t,e)}canNotSaveAs(){return!1}async updateFrom(e,t={}){const r=this._updateFrom(e,t);this._updateFromPromise=r,await r;this._updateFromPromise===r&&(this._updateFromPromise=null)}async _updateFrom(e,t={}){if(await e.whenReady(),!t.environmentExcluded&&e.environment&&(this.initialViewProperties.environment=ee.prototype.clone.apply(e.environment)),!t.viewpointExcluded&&e.viewpoint&&(this.initialViewProperties.viewpoint=e.viewpoint.clone()),this.initialViewProperties.spatialReference=e.spatialReference.clone(),this.initialViewProperties.viewingMode=e.viewingMode,this.initialViewProperties.timeExtent=e.timeExtent?.clone()??null,null!=e.clippingArea?e.clippingArea!==this.clippingArea&&(this.clippingArea=e.clippingArea.clone(),this.clippingEnabled=!0):this.clippingEnabled=!1,e.heightModelInfo&&(this.heightModelInfo=e.heightModelInfo.clone()),e.map===this)for(const r of e.allLayerViews){const e=\"visible\";e in r&&e in r.layer&&r._isOverridden(e)&&(r.layer[e]=r[e])}if(!t.widgetsExcluded)for(const r of e.persistableViewModels)r.updateWebDocument(this);(!1===t.thumbnailExcluded||null==t.thumbnailExcluded&&!t.viewpointExcluded)&&await this._updateFromThumbnail(e,t.thumbnailSize??void 0)}async _updateFromThumbnail(e,t){const r=Q(e,t),i=await e.takeScreenshot({format:\"jpg\",width:r.width,height:r.height,disableDecorations:!0});this.thumbnailUrl=i.dataUrl}_loadFromSource(){return this.resourceInfo?this._loadFromJSON(this.resourceInfo,{origin:\"web-scene\"}):this.portalItem?.id?this._loadFromItem(this.portalItem):this._loadObjectsWithLayers()}_readAndLoadFromJSON(e,t){const r=this._validateJSON(e);return this.read(r,t),this._loadFromJSON(r,t)}_extractOperationalLayers(e){const t=[];if(!this.sourceVersion?.supportsGround&&e.baseMap&&Array.isArray(e.baseMap.elevationLayers))for(const o of e.baseMap.elevationLayers)t.push(o);const r=[],i=e=>(e.layers&&(e.layers=e.layers.filter(i)),\"ArcGISTiledElevationServiceLayer\"!==e.layerType||(this.sourceVersion?.supportsGround||r.push(e),!1));return{operationalLayers:e.operationalLayers?e.operationalLayers.filter(i):[],operationalElevationLayers:r,basemapElevationLayers:t}}async _loadFromJSON(e,t){const r=new o;await this._validateSpatialReference(),await this._validateHeightModelInfo();const{populateOperationalLayers:i}=await import(\"./layers/support/layersCreator.js\"),{operationalLayers:s,operationalElevationLayers:a,basemapElevationLayers:n}=this._extractOperationalLayers(e),l=[],p={context:{...t,layerContainerType:\"operational-layers\"}};if(this.portalItem&&(p.context.portal=this.portalItem.portal||U.getDefault()),n.length>0){const e={...p,context:{...p.context,layerContainerType:\"ground\"}};e.defaultLayerType=\"ArcGISTiledElevationServiceLayer\",l.push(i(this.ground.layers,n,e))}if(a.length>0){const e={...p,context:{...p.context,layerContainerType:\"ground\"}};e.defaultLayerType=\"ArcGISTiledElevationServiceLayer\",l.push(i(r,a,e))}s&&s.length>0&&l.push(i(this.layers,s,p)),e.tables?.length&&l.push(i(this.tables,e.tables,{...p,context:{...p.context,layerContainerType:\"tables\"},defaultLayerType:\"ArcGISFeatureLayer\"})),await Promise.allSettled(l),await this._loadObjectsWithLayers(),this.ground.layers.addMany(r.filter((e=>\"base-elevation\"===e.type||\"elevation\"===e.type)))}async _ensureLoadBeforeSave(){await this.load(),await this._loadObjectsWithLayers();const e=[],t=[...this.allLayers.items];for(const{basemap:r}of this.presentation.slides.items)r&&(t.push(...r.baseLayers.items),t.push(...r.referenceLayers.items));for(const r of t)if(\"beforeSave\"in r&&\"function\"==typeof r.beforeSave){const t=r.beforeSave();t&&e.push(t)}await Promise.allSettled(e)}async _loadObjectsWithLayers(){const e=[];this.ground&&e.push(this.ground.load()),this.basemap&&e.push(this.basemap.load()),this.presentation.slides.forEach((t=>{t.basemap&&e.push(t.basemap.load())})),await Promise.allSettled(e)}async _loadFromItem(e){if(await e.load().catch((e=>{throw new s(\"webscene:load-portal-item\",\"Failed to load portal item\",{error:e})})),\"Web Scene\"!==e.type)throw new s(\"webscene:invalid-portal-item\",\"Invalid portal item type '${type}', expected 'Web Scene'\",{type:e.type});const t=await e.fetchData();this.resourceInfo=t;const r={origin:\"web-scene\",url:f(e.itemUrl),portal:e.portal||U.getDefault(),portalItem:e,readResourcePaths:[]};await this._readAndLoadFromJSON(t,r),this._resourceReferences={portalItem:e,paths:r.readResourcePaths??[]}}_validateSpatialReference(){const e=this.initialViewProperties,t=this._sceneSpatialReference;let r;if(\"local\"!==e.viewingMode){if(!q(t,B.Global))return Promise.reject(new s(\"webscene:unsupported-spatial-reference\",\"Unsupported spatial reference (${spatialReference.wkid}) in global mode, only Web Mercator, WGS84 GCS or CGCS2000 are supported\",{spatialReference:t,viewingMode:e.viewingMode}));r=e=>!e||R(e,t)}else{if(!q(t,B.Local))return Promise.reject(new s(\"webscene:unsupported-spatial-reference\",\"Unsupported spatial reference (${spatialReference.wkid}) in local mode, only projected coordinate systems are supported\",{spatialReference:t,viewingMode:e.viewingMode}));r=e=>!e||e.equals(t)}const i=e=>e?.camera?.position.spatialReference??e?.targetGeometry?.spatialReference,o=e.viewpoint,a=i(o);if(a&&!r(a))return Promise.reject(new s(\"webscene:incompatible-camera-spatial-reference\",\"Camera spatial reference (${cameraSpatialReference.wkid}) is incompatible with the scene spatial reference (${sceneSpatialReference.wkid})\",{cameraSpatialReference:a,sceneSpatialReference:t,viewingMode:e.viewingMode}));const n=this.presentation.slides.find((e=>!r(i(e.viewpoint))));if(n){const r=i(n.viewpoint);return Promise.reject(new s(\"webscene:incompatible-slide-spatial-reference\",\"Slide spatial reference (${slideSpatialReference.wkid}) is incompatible with the scene spatial reference (${sceneSpatialReference.wkid})\",{slideSpatialReference:r,sceneSpatialReference:t,viewingMode:e.viewingMode}))}return Promise.resolve()}_validateHeightModelInfo(){const e=this._sceneSpatialReference,t=P(this.heightModelInfo,e);return t?Promise.reject(t):Promise.resolve()}_validateFeatureLayerSymbolVisibility(){this.sourceVersion?.greaterEqual(1,35)||this.layers.forEach((e=>{\"feature\"===e.type&&e.addHandles(w((()=>e.loaded),(()=>{\"on-the-ground\"===e.elevationInfo?.mode&&\"simple\"===e.renderer?.type&&\"polygon-3d\"===e.renderer.symbol?.type&&e.renderer.symbol.symbolLayers.some((t=>\"fill\"===t.type&&null!=t.material&&((!t.material.color||t.material.color.a*e.opacity<se)&&(e.loadWarnings.push(new b(\"feature-layer:invisible-draped-symbols\",\"FeatureLayer has fully transparent symbols which will no longer render or highlight\",{layer:e})),!0))))}),{once:!0,sync:!0}))}))}_validateJSON(e){const t=oe.parse(e.version||\"\",\"webscene\");return le.validate(t),e.version=`${t.major}.${t.minor}`,1===t.major&&t.minor<=2&&(e.spatialReference=E.WebMercator.toJSON()),e}_updateTypeKeywords(e){T(e,x.LOCAL_SCENE,\"local\"===this.initialViewProperties.viewingMode),T(e,x.DEVELOPER_BASEMAP,G(this.basemap)||this.presentation.slides.some((({basemap:e})=>!!e&&G(e)))),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)))}get _sceneSpatialReference(){return this.initialViewProperties.spatialReference||E.WebMercator}get _verifyItemRelativeRootPath(){return this.portalItem?.itemUrl?f(this.portalItem.itemUrl).path:null}_enableVerifyItemRelativeUrls(e){const t=this._verifyItemRelativeRootPath;return t&&(e.verifyItemRelativeUrls={rootPath:t,writtenUrls:[]}),e}_unscheduleLayersIdGC(){this._layersIdGCTimeoutId&&(clearTimeout(this._layersIdGCTimeoutId),this._layersIdGCTimeoutId=0)}_scheduleLayersIdGC(){this._unscheduleLayersIdGC(),this._layersIdGCTimeoutId=setTimeout((()=>{this._layersIdGCTimeoutId=0,this._runLayersIdGC()}),3e3)}_runLayersIdGC(){this._unscheduleLayersIdGC();const e=this.applicationProperties?.viewing?.search,t=e=>this.allLayers.some((t=>t.id===e&&t.persistenceEnabled));e?.layers&&(e.layers=e.layers.filter((e=>t(e.id))));const r=this.presentation&&this.presentation.slides;r&&r.forEach((e=>{e.visibleLayers&&(e.visibleLayers=e.visibleLayers.filter((e=>t(e.id))))}))}static fromJSON(e){if(!e)throw new s(\"webscene:empty-resource\",\"Expected a JSON resource but got nothing\");return new this({resourceInfo:e})}};ne=W,de.version=`${le.major}.${le.minor}`,e([v({type:Z,json:{write:!0}})],de.prototype,\"applicationProperties\",void 0),e([v({type:L,json:{read:{source:\"clippingArea.geometry\",reader:M},write:{target:\"clippingArea.geometry\"}}})],de.prototype,\"clippingArea\",void 0),e([A(\"clippingArea\")],de.prototype,\"writeClippingArea\",null),e([v({type:Boolean,json:{write:{target:\"clippingArea.clip\"}}})],de.prototype,\"clippingEnabled\",void 0),e([S(\"clippingEnabled\",[\"clippingArea\"])],de.prototype,\"readClippingEnabled\",null),e([A(\"clippingEnabled\")],de.prototype,\"writeClippingEnabled\",null),e([v({type:F,json:{read:{source:\"mapFloorInfo\"},write:{target:\"mapFloorInfo\"}}})],de.prototype,\"floorInfo\",void 0),e([v({type:V,json:{write:!0}})],de.prototype,\"heightModelInfo\",void 0),e([v({json:{write:{target:\"operationalLayers\",ignoreOrigin:!0}}})],de.prototype,\"layers\",void 0),e([A(\"layers\")],de.prototype,\"writeLayers\",null),e([v({readOnly:!0,type:oe,json:{type:pe(),write:{ignoreOrigin:!0,target:\"version\",isRequired:!0,overridePolicy:()=>({enabled:!0,allowNull:!0,ignoreOrigin:!0})}}})],de.prototype,\"sourceVersion\",void 0),e([S(\"sourceVersion\",[\"version\"])],de.prototype,\"readSourceVersion\",null),e([A(\"sourceVersion\")],de.prototype,\"writeSourceVersion\",null),e([v({json:{read:!1,write:{enabled:!0,ignoreOrigin:!0}}})],de.prototype,\"tables\",void 0),e([A(\"tables\")],de.prototype,\"writeTables\",null),e([v()],de.prototype,\"thumbnailUrl\",null),e([v({type:String,json:{write:{writerEnsuresNonNull:!0,ignoreOrigin:!0}}})],de.prototype,\"authoringApp\",null),e([A(\"authoringApp\")],de.prototype,\"writeAuthoringApp\",null),e([v({type:String,json:{write:{writerEnsuresNonNull:!0,ignoreOrigin:!0}}})],de.prototype,\"authoringAppVersion\",null),e([A(\"authoringAppVersion\")],de.prototype,\"writeAuthoringAppVersion\",null),e([v({json:{write:{isRequired:!0,allowNull:!0,ignoreOrigin:!0,enabled:!0}}})],de.prototype,\"ground\",void 0),e([A(\"ground\")],de.prototype,\"writeGround\",null),e([v({type:o.ofType(ie),json:{write:!0}})],de.prototype,\"transportationNetworks\",void 0),e([v({type:re,nonNullable:!0,json:{write:{ignoreOrigin:!0,writer:(e,t,r,i)=>{if(e.slides&&e.slides.length>0){const r={...i,isPresentation:!0};t.presentation=e.write({},r)}}}}})],de.prototype,\"presentation\",void 0),e([v({type:te,nonNullable:!0,json:{write:{target:\"initialState\",isRequired:!0,ignoreOrigin:!0},default:()=>new te({viewingMode:\"global\",spatialReference:E.WebMercator})}})],de.prototype,\"initialViewProperties\",void 0),e([S(\"initialViewProperties\",[\"initialState.timeExtent\",\"initialState.environment\",\"initialState.viewpoint\",\"spatialReference\",\"viewingMode\"])],de.prototype,\"readInitialViewProperties\",null),e([v({type:E,json:{read:!1,write:{isRequired:!0,ignoreOrigin:!0}}})],de.prototype,\"spatialReference\",null),e([v({type:[\"local\",\"global\"],json:{read:!1,write:{isRequired:!0,ignoreOrigin:!0}}})],de.prototype,\"viewingMode\",null),e([v({type:C})],de.prototype,\"portalItem\",void 0),e([v()],de.prototype,\"resourceInfo\",void 0),e([v({type:D,json:{write:!0}})],de.prototype,\"widgets\",void 0),de=e([_(\"esri.WebScene\")],de);const he=de;export{he as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../Color.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{enumeration as s}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{colorAndTransparencyProperty as c}from\"../../symbols/support/materialUtils.js\";import p from\"./Background.js\";var l;let i=l=class extends p{constructor(o){super(o),this.type=\"color\",this.color=new r([0,0,0,1])}clone(){return new l(this.cloneProperties())}cloneProperties(){return{color:this.color.clone()}}};o([s({color:\"color\"},{readOnly:!0})],i.prototype,\"type\",void 0),o([e(c({nonNullable:!0}))],i.prototype,\"color\",void 0),i=l=o([t(\"esri.webscene.background.ColorBackground\")],i);const a=i;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../Viewpoint.js\";import o from\"../core/JSONSupport.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"../geometry/SpatialReference.js\";import{timeExtent as s}from\"../webdoc/support/timeProperties.js\";import p from\"./Environment.js\";var l;let c=l=class extends o{constructor(e){super(e),this.environment=new p,this.spatialReference=null,this.viewpoint=null,this.timeExtent=null}set viewingMode(e){this._set(\"viewingMode\",e)}clone(){return new l({environment:this.environment.clone(),spatialReference:this.spatialReference?.clone()??null,viewingMode:this.viewingMode,viewpoint:this.viewpoint?.clone()??null,timeExtent:this.timeExtent?.clone()??null})}};e([i({type:p,json:{write:{isRequired:!0}}})],c.prototype,\"environment\",void 0),e([i({type:n})],c.prototype,\"spatialReference\",void 0),e([i({type:[\"local\",\"global\"]})],c.prototype,\"viewingMode\",null),e([i({type:t,json:{write:{isRequired:!0}}})],c.prototype,\"viewpoint\",void 0),e([i(s)],c.prototype,\"timeExtent\",void 0),c=l=e([r(\"esri.webscene.InitialViewProperties\")],c);const m=c;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst e=Symbol(\"WebScene\");export{e as WebSceneTag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst o=1/255.5;export{o as alphaCutoff};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import r from\"../core/JSONSupport.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import t from\"../webdoc/applicationProperties/Viewing.js\";var i;let p=i=class extends r{constructor(o){super(o),this.viewing=null}clone(){return new i({viewing:this.viewing?.clone()??null})}};o([e({type:t,json:{write:!0}})],p.prototype,\"viewing\",void 0),p=i=o([s(\"esri.webscene.ApplicationProperties\")],p);const c=p;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{allSettledErrors as t,throwIfAborted as r,eachAlways as o}from\"../../core/promiseUtils.js\";import{generateUUID as s}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as a,contentToBlob as c}from\"../../portal/support/resourceUtils.js\";async function p(e,t,r){const o=await u(e,t,r);await h(o,t,r)}async function n(e,t,r,o,s){const a=await u(r,o,s);await e.update({data:t}),await h(a,o,s)}async function u(o,p,n){if(!p?.resources)return;const u=p.portalItem===o.portalItem?new Set(o.paths):new Set;o.paths.length=0,o.portalItem=p.portalItem;const h=new Set(p.resources.toKeep.map((e=>e.resource.path))),i=new Set,m=[];h.forEach((e=>{u.delete(e),o.paths.push(e)}));const f=[],l=[],w=[];for(const e of p.resources.toUpdate)if(u.delete(e.resource.path),h.has(e.resource.path)||i.has(e.resource.path)){const{resource:t,content:r,finish:p}=e,n=a(t,s());o.paths.push(n.path),f.push({resource:n,content:await c(r),compress:e.compress}),p&&w.push((()=>p(n)))}else{o.paths.push(e.resource.path),l.push({resource:e.resource,content:await c(e.content),compress:e.compress});const t=e.finish;t&&w.push((()=>t(e.resource))),i.add(e.resource.path)}for(const e of p.resources.toAdd)if(o.paths.push(e.resource.path),u.has(e.resource.path))u.delete(e.resource.path);else{f.push({resource:e.resource,content:await c(e.content),compress:e.compress});const t=e.finish;t&&w.push((()=>t(e.resource)))}if(f.length||l.length){const{addOrUpdateResources:e}=await import(\"../../portal/support/resourceUtils.js\");await e(p.portalItem,f,\"add\",n),await e(p.portalItem,l,\"update\",n)}if(w.forEach((e=>e())),0===m.length)return u;const d=await t(m);if(r(n),d.length>0)throw new e(\"save:resources\",\"Failed to save one or more resources\",{errors:d});return u}async function h(e,t,r){if(!e||!t.portalItem)return;const s=[];for(const o of e){const e=t.portalItem.resourceFromPath(o);s.push(e.portalItem.removeResource(e,r))}await o(s)}export{p as saveResources,n as updateItemWithResources};\n"],"names":["t","r","constructor","o","super","clone","Error","e","readOnly","json","read","prototype","s","c","I","map","toLowerCase","async","A","portalItem","name","C","U","updatingFromView","load","E","P","M","a","i","jsonContext","n","O","origin","S","errorName","V","update","data","be","ye","Promise","all","updateItemThumbnail","W","resourceReferences","d","write","resources","pendingOperations","T","f","from","id","type","itemType","portal","m","getDefault","D","y","x","J","w","METADATA","N","H","K","B","F","X","l","getThumbnailState","item","authenticated","user","p","signIn","copyAllowed","itemReloaded","u","ge","_e","he","restoreThumbnailFromState","basemap","baseLayers","length","R","initialViewProperties","spatialReference","updating","expected","actual","push","ground","allSettled","then","extent","normalize","width","isWGS84","isWebMercator","getGeometryServiceURL","b","geometries","outSpatialReference","WGS84","_","ce","pe","viewpoint","targetGeometry","h","k","ee","toArray","Z","g","te","G","re","L","ae","filter","every","loaded","capabilities","operations","supportsSync","ue","supportsExportTiles","url","some","includes","we","v","fe","Object","keys","sourceNameToSource","de","equals","me","oe","$","ie","j","q","ne","utilityNetworks","z","se","ipsInfo","Q","le","typeKeywords","indexOf","Y","JSAPI","DEVELOPER_BASEMAP","allLayers","concat","allTables","supportsEditing","editingEnabled","sublayers","portalHostname","reload","itemControl","folder","copyAllResources","parseInt","currentVersion","total","fetchResources","copy","copyResources","toJSON","addItem","call","version","authoringApp","authoringAppVersion","ignoreDefaults","itemUrl","resourceInfo","beforeSave","Set","messages","_ref","_ref2","message","details","blockedRelativeUrls","ignoreUnsupported","supplementalUnsupportedErrors","requiredPropertyChecksDisabled","_ref3","has","errors","arguments","undefined","start","num","sortOrder","sortField","query","token","apiKey","signal","request","nextStart","created","size","resource","Date","resourceFromPath","Map","content","compress","access","hasPath","path","set","prefix","files","get","fileName","userItemUrl","values","slice","FormData","append","method","body","deleteAll","lastIndexOf","blob","Blob","jsonString","responseType","writtenProperties","forEach","target","propName","newOrigin","originOf","updateOrigin","base","key","typeMap","color","types","overridePolicy","enabled","isPresentation","this","lighting","background","atmosphereEnabled","starsEnabled","weather","getLogger","_set","cloneConstructProperties","nonNullable","Boolean","value","ofType","slides","destroy","removeAll","_get","title","String","isRequired","supportsGround","greaterEqual","supportsVisibleElevationLayersInSlides","lessThan","LoadableMixin","EsriPromiseMixin","_layersIdGCTimeoutId","_updateFromPromise","applicationProperties","clippingArea","clippingEnabled","floorInfo","heightModelInfo","sourceVersion","transportationNetworks","presentation","widgets","_debouncedSaveOperations","SAVE","_saveImpl","SAVE_AS","_saveAsImpl","_resourceReferences","paths","_isAuthoringAppSetByUser","_isAuthoringAppVersionSetByUser","initialize","when","catch","error","_validateJSON","addResolvingPromise","reject","_validateSpatialReference","_validateHeightModelInfo","addHandles","_scheduleLayersIdGC","_unscheduleLayersIdGC","writeClippingArea","geometry","readClippingEnabled","clip","writeClippingEnabled","writeLayers","_layersToJSON","readSourceVersion","split","writeSourceVersion","major","minor","writeTables","thumbnailUrl","_override","_clearOverride","clear","writeAuthoringApp","writeAuthoringAppVersion","writeGround","transparency","layers","readInitialViewProperties","initialState","environment","fromJSON","WebMercator","viewingMode","timeExtent","fromArray","_loadFromSource","_validateFeatureLayerSymbolVisibility","resolve","loadAll","tables","baseMap","Array","isArray","elevationLayers","visibleLayers","addMany","_writeBasemapElevationLayers","baseMapLayers","layerContainerType","_verifyWritableLayer","persistenceEnabled","declaredClass","layer","loadStatus","loadError","_runLayersIdGC","save","_ensureLoadBeforeSave","_enableVerifyItemRelativeUrls","_verifySave","_updateTypeKeywords","_saveThumbnail","saveAs","_verifySaveAs","_isOverridden","updateThumbnail","thumbnail","strictSchemaValidationEnabled","validate","join","verifySaveAs","canNotSaveAs","updateFrom","_updateFrom","whenReady","environmentExcluded","apply","viewpointExcluded","allLayerViews","widgetsExcluded","persistableViewModels","updateWebDocument","thumbnailExcluded","_updateFromThumbnail","thumbnailSize","takeScreenshot","format","height","disableDecorations","dataUrl","_loadFromJSON","_loadFromItem","_loadObjectsWithLayers","_readAndLoadFromJSON","_extractOperationalLayers","layerType","operationalLayers","operationalElevationLayers","basemapElevationLayers","populateOperationalLayers","context","defaultLayerType","items","referenceLayers","fetchData","readResourcePaths","_sceneSpatialReference","Global","Local","camera","position","cameraSpatialReference","sceneSpatialReference","find","slideSpatialReference","elevationInfo","mode","renderer","symbol","symbolLayers","material","opacity","loadWarnings","once","sync","parse","LOCAL_SCENE","_verifyItemRelativeRootPath","verifyItemRelativeUrls","rootPath","writtenUrls","clearTimeout","setTimeout","viewing","search","source","reader","ignoreOrigin","allowNull","writerEnsuresNonNull","writer","default","cloneProperties","Symbol","toKeep","delete","toUpdate","finish","add","toAdd","addOrUpdateResources","removeResource"],"sourceRoot":""}