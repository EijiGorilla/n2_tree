{"version":3,"file":"static/js/65131.59f9784a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatDrawUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js","../node_modules/@arcgis/core/chunks/SSAOBlur.glsl.js","../node_modules/@arcgis/core/chunks/RealisticTree.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlpha.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAOBlurTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAOParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAOTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAO.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAONoiseData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4sPassUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputDepth.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js","../node_modules/@arcgis/core/chunks/SSAO.glsl.js","../node_modules/@arcgis/core/views/3d/layers/support/symbolColorUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TextureTransformUV.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Material/shader/DecodeSymbolColor.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RealisticTreeTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js","../node_modules/@arcgis/core/chunks/DefaultMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4sDrawUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloat16Encoding.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{addNearFar as e}from\"../ForwardLinearDepth.glsl.js\";import{ShaderOutput as r}from\"../ShaderOutput.js\";import{SliceDraw as o}from\"../Slice.glsl.js\";import{Transform as t}from\"../Transform.glsl.js\";import{NormalAttribute as i,NormalType as a}from\"../attributes/NormalAttribute.glsl.js\";import{ObjectAndLayerIdColor as s}from\"../attributes/ObjectAndLayerIdColor.glsl.js\";import{TextureCoordinateAttribute as l}from\"../attributes/TextureCoordinateAttribute.glsl.js\";import{VertexNormal as d}from\"../attributes/VertexNormal.glsl.js\";import{OutputDepth as n}from\"../output/OutputDepth.glsl.js\";import{OutputHighlight as c}from\"../output/OutputHighlight.glsl.js\";import{VisualVariables as u}from\"../shading/VisualVariables.glsl.js\";import{DiscardOrAdjustAlphaPass as p}from\"../util/DiscardOrAdjustAlpha.glsl.js\";import{addProjViewLocalOrigin as m}from\"../util/View.glsl.js\";import{glsl as v,If as g}from\"../../shaderModules/glsl.js\";import{Texture2DPassUniform as f}from\"../../shaderModules/Texture2DPassUniform.js\";import{AlphaDiscardMode as x}from\"../../../lib/basicInterfaces.js\";function h(h,O){const{vertex:j,fragment:w}=h,b=O.hasColorTexture&&O.alphaDiscardMode!==x.Opaque,{output:C,normalType:V,hasColorTextureTransform:A}=O;switch(C){case r.Depth:m(j,O),h.include(t,O),h.fragment.include(o,O),h.include(l,O),b&&w.uniforms.add(new f(\"tex\",(e=>e.texture))),j.main.add(v`vpos = getVertexInLocalOriginSpace();\nvpos = subtractOrigin(vpos);\nvpos = addVerticalOffset(vpos, localOrigin);\ngl_Position = transformPosition(proj, view, vpos);\nforwardTextureCoordinates();`),h.include(p,O),w.main.add(v`\n        discardBySlice(vpos);\n        ${g(b,v`vec4 texColor = texture(tex, ${A?\"colorUV\":\"vuv0\"});\n                discardOrAdjustAlpha(texColor);`)}`);break;case r.Shadow:case r.ShadowHighlight:case r.ShadowExcludeHighlight:case r.ViewshedShadow:case r.ObjectAndLayerIdColor:m(j,O),h.include(t,O),h.include(l,O),h.include(u,O),h.include(n,O),h.fragment.include(o,O),h.include(s,O),e(h),h.varyings.add(\"depth\",\"float\"),b&&w.uniforms.add(new f(\"tex\",(e=>e.texture))),j.main.add(v`vpos = getVertexInLocalOriginSpace();\nvpos = subtractOrigin(vpos);\nvpos = addVerticalOffset(vpos, localOrigin);\ngl_Position = transformPositionWithDepth(proj, view, vpos, nearFar, depth);\nforwardTextureCoordinates();\nforwardObjectAndLayerIdColor();`),h.include(p,O),w.main.add(v`\n        discardBySlice(vpos);\n        ${g(b,v`vec4 texColor = texture(tex, ${A?\"colorUV\":\"vuv0\"});\n                discardOrAdjustAlpha(texColor);`)}\n        ${C===r.ObjectAndLayerIdColor?v`outputObjectAndLayerIdColor();`:v`outputDepth(depth);`}`);break;case r.Normal:{m(j,O),h.include(t,O),h.include(i,O),h.include(d,O),h.include(l,O),h.include(u,O),b&&w.uniforms.add(new f(\"tex\",(e=>e.texture))),V===a.ScreenDerivative&&h.varyings.add(\"vPositionView\",\"vec3\");const e=V===a.Attribute||V===a.Compressed;j.main.add(v`\n        vpos = getVertexInLocalOriginSpace();\n        ${e?v`vNormalWorld = dpNormalView(vvLocalNormal(normalModel()));`:v`vPositionView = (view * vec4(vpos, 1.0)).xyz;`}\n        vpos = subtractOrigin(vpos);\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, vpos);\n        forwardTextureCoordinates();`),h.fragment.include(o,O),h.include(p,O),w.main.add(v`\n        discardBySlice(vpos);\n        ${g(b,v`vec4 texColor = texture(tex, ${A?\"colorUV\":\"vuv0\"});\n                discardOrAdjustAlpha(texColor);`)}\n\n        ${V===a.ScreenDerivative?v`vec3 normal = screenDerivativeNormal(vPositionView);`:v`vec3 normal = normalize(vNormalWorld);\n                    if (gl_FrontFacing == false){\n                      normal = -normal;\n                    }`}\n        fragColor = vec4(0.5 + 0.5 * normal, 1.0);`);break}case r.Highlight:m(j,O),h.include(t,O),h.include(l,O),h.include(u,O),b&&w.uniforms.add(new f(\"tex\",(e=>e.texture))),j.main.add(v`vpos = getVertexInLocalOriginSpace();\nvpos = subtractOrigin(vpos);\nvpos = addVerticalOffset(vpos, localOrigin);\ngl_Position = transformPosition(proj, view, vpos);\nforwardTextureCoordinates();`),h.fragment.include(o,O),h.include(p,O),h.include(c,O),w.main.add(v`\n        discardBySlice(vpos);\n        ${g(b,v`vec4 texColor = texture(tex, ${A?\"colorUV\":\"vuv0\"});\n                discardOrAdjustAlpha(texColor);`)}\n        calculateOcclusionAndOutputHighlight();`)}}export{h as DefaultMaterialAuxiliaryPasses};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as o}from\"../../../../webgl/Uniform.js\";class e extends o{constructor(o,e){super(o,\"float\",r.Draw,((r,s,t)=>r.setUniform1f(o,e(s,t))))}}export{e as FloatDrawUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{DecodeSymbolColor as o}from\"../../../collections/Component/Material/shader/DecodeSymbolColor.glsl.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";import{IntegerPassUniform as e}from\"../../shaderModules/IntegerPassUniform.js\";import{VertexAttribute as l}from\"../../../lib/VertexAttribute.js\";import{colorMixModes as d}from\"../../../materials/internal/MaterialUtil.js\";function i(i,t){t.hasSymbolColors?(i.include(o),i.attributes.add(l.SYMBOLCOLOR,\"vec4\"),i.varyings.add(\"colorMixMode\",\"mediump float\"),i.vertex.code.add(r`int symbolColorMixMode;\nvec4 getSymbolColor() {\nreturn decodeSymbolColor(symbolColor, symbolColorMixMode) * 0.003921568627451;\n}\nvoid forwardColorMixMode() {\ncolorMixMode = float(symbolColorMixMode) + 0.5;\n}`)):(i.fragment.uniforms.add(new e(\"colorMixMode\",(o=>d[o.colorMixMode]))),i.vertex.code.add(r`vec4 getSymbolColor() { return vec4(1.0); }\nvoid forwardColorMixMode() {}`))}export{i as SymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{s as e}from\"../../../../../../chunks/vec42.js\";import{create as r}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ScreenSizePerspective as l,addScreenSizePerspectiveAlignment as t}from\"../util/ScreenSizePerspective.glsl.js\";import{addCameraPosition as o}from\"../util/View.glsl.js\";import{Float4PassUniform as c}from\"../../shaderModules/Float4PassUniform.js\";import{glsl as i}from\"../../shaderModules/glsl.js\";function s(e,r){const c=e.vertex;r.hasVerticalOffset?(f(c),r.hasScreenSizePerspective&&(e.include(l),t(c),o(e.vertex,r)),c.code.add(i`\n      vec3 calculateVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n        float viewDistance = length((view * vec4(worldPos, 1.0)).xyz);\n        ${r.spherical?i`vec3 worldNormal = normalize(worldPos + localOrigin);`:i`vec3 worldNormal = vec3(0.0, 0.0, 1.0);`}\n        ${r.hasScreenSizePerspective?i`\n            float cosAngle = dot(worldNormal, normalize(worldPos - cameraPosition));\n            float verticalOffsetScreenHeight = screenSizePerspectiveScaleFloat(verticalOffset.x, abs(cosAngle), viewDistance, screenSizePerspectiveAlignment);`:i`\n            float verticalOffsetScreenHeight = verticalOffset.x;`}\n        // Screen sized offset in world space, used for example for line callouts\n        float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * viewDistance, verticalOffset.z, verticalOffset.w);\n        return worldNormal * worldOffset;\n      }\n\n      vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n        return worldPos + calculateVerticalOffset(worldPos, localOrigin);\n      }\n    `)):c.code.add(i`vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) { return worldPos; }`)}const a=r();function f(r){r.uniforms.add(new c(\"verticalOffset\",((r,l)=>{const{minWorldLength:t,maxWorldLength:o,screenLength:c}=r.verticalOffset,i=Math.tan(.5*l.camera.fovY)/(.5*l.camera.fullViewport[3]),s=l.camera.pixelRatio||1;return e(a,c*s,i,t,o)})))}export{s as VerticalOffset,f as addVerticalOffset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{neverReached as a}from\"../../../../../../core/compilerUtils.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";function e(e,o){const n=e.fragment;switch(n.code.add(r`struct ShadingNormalParameters {\nvec3 normalView;\nvec3 viewDirection;\n} shadingParams;`),o.doubleSidedMode){case i.None:n.code.add(r`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn normalize(params.normalView);\n}`);break;case i.View:n.code.add(r`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn dot(params.normalView, params.viewDirection) > 0.0 ? normalize(-params.normalView) : normalize(params.normalView);\n}`);break;case i.WindingOrder:n.code.add(r`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn gl_FrontFacing ? normalize(params.normalView) : normalize(-params.normalView);\n}`);break;default:a(o.doubleSidedMode);case i.COUNT:}}var i;!function(a){a[a.None=0]=\"None\",a[a.View=1]=\"View\",a[a.WindingOrder=2]=\"WindingOrder\",a[a.COUNT=3]=\"COUNT\"}(i||(i={}));export{e as Normals,i as NormalsDoubleSidedMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as r}from\"../../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as o}from\"../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{s as t}from\"../../../../../../chunks/vec42.js\";import{create as e}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Float2BindUniform as i}from\"../../shaderModules/Float2BindUniform.js\";import{Float4BindUniform as a}from\"../../shaderModules/Float4BindUniform.js\";import{glsl as s}from\"../../shaderModules/glsl.js\";function f(r){r.fragment.uniforms.add(new a(\"projInfo\",(r=>n(r.camera)))),r.fragment.uniforms.add(new i(\"zScale\",(r=>m(r.camera)))),r.fragment.code.add(s`vec3 reconstructPosition(vec2 fragCoord, float depth) {\nreturn vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);\n}`)}function n(r){const o=r.projectionMatrix;return 0===o[11]?t(c,2/(r.fullWidth*o[0]),2/(r.fullHeight*o[5]),(1+o[12])/o[0],(1+o[13])/o[5]):t(c,-2/(r.fullWidth*o[0]),-2/(r.fullHeight*o[5]),(1-o[8])/o[0],(1-o[9])/o[5])}const c=e();function m(o){return 0===o.projectionMatrix[11]?r(l,0,1):r(l,1,0)}const l=o();export{f as CameraSpace,n as getProjectionInfo,m as getZScale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{ReadDepth as r}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js\";import{Float2DrawUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as a}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DDrawUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as s}from\"../views/webgl/ShaderBuilder.js\";const d=4;function i(){const i=new s,f=i.fragment;i.include(e);const u=(d+1)/2,c=1/(2*u*u);return f.include(r),f.uniforms.add(new n(\"depthMap\",(e=>e.depthTexture)),new l(\"tex\",(e=>e.colorTexture)),new t(\"blurSize\",(e=>e.blurSize)),new o(\"projScale\",((e,r)=>{const t=r.camera.distance;return t>5e4?Math.max(0,e.projScale-(t-5e4)):e.projScale}))),f.code.add(a`\n    void blurFunction(vec2 uv, float r, float center_d, float sharpness, inout float wTotal, inout float bTotal) {\n      float c = texture(tex, uv).r;\n      float d = linearDepthFromTexture(depthMap, uv);\n\n      float ddiff = d - center_d;\n\n      float w = exp(-r * r * ${a.float(c)} - ddiff * ddiff * sharpness);\n      wTotal += w;\n      bTotal += w * c;\n    }\n  `),i.outputs.add(\"fragBlur\",\"float\"),f.main.add(a`\n    float b = 0.0;\n    float w_total = 0.0;\n\n    float center_d = linearDepthFromTexture(depthMap, uv);\n\n    float sharpness = -0.05 * projScale / center_d;\n    for (int r = -${a.int(d)}; r <= ${a.int(d)}; ++r) {\n      float rf = float(r);\n      vec2 uvOffset = uv + rf * blurSize;\n      blurFunction(uvOffset, rf, center_d, sharpness, w_total, b);\n    }\n    fragBlur = b / w_total;`),i}const f=Object.freeze(Object.defineProperty({__proto__:null,build:i},Symbol.toStringTag,{value:\"Module\"}));export{f as S,i as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ForwardLinearDepth as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{Offset as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{isColorOrColorEmission as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{InstancedDoublePrecision as l}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{NormalAttribute as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{TextureCoordinateAttribute as d}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{VertexColor as c}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{VerticalOffset as g}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{DefaultMaterialAuxiliaryPasses as m}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{EvaluateAmbientOcclusion as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as b,addAmbientBoostFactor as w,addLightingGlobalFactor as p}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{addMainLightDirection as u,addMainLightIntensity as h}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js\";import{PhysicallyBasedRendering as f}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{PBRMode as x,PhysicallyBasedRenderingParameters as y}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{ReadShadowMapPass as C,ReadShadowMapDraw as L}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{terrainDepthTest as j}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{VisualVariables as O}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{DiscardOrAdjustAlphaPass as P}from\"../views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlpha.glsl.js\";import{MixExternalColor as M}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";import{addProjViewLocalOrigin as A,addCameraPosition as S}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float3PassUniform as E}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as D}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as F}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as $,If as N}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as V}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as I}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as T}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{ShaderBuilder as B}from\"../views/webgl/ShaderBuilder.js\";import{alphaCutoff as R}from\"../webscene/support/AlphaCutoff.js\";function _(_){const z=new B,{vertex:k,fragment:G,varyings:U}=z,{output:W,offsetBackfaces:H,instancedColor:q,pbrMode:J,snowCover:K,spherical:Q}=_,X=J===x.Normal||J===x.Schematic;if(A(k,_),z.include(s),U.add(\"vpos\",\"vec3\"),z.include(O,_),z.include(l,_),z.include(g,_),z.include(j,_),o(W)&&(S(z.vertex,_),z.include(t,_),z.include(a,_),H&&z.include(r),q&&z.attributes.add(I.INSTANCECOLOR,\"vec4\"),U.add(\"vNormalWorld\",\"vec3\"),U.add(\"localvpos\",\"vec3\"),z.include(d,_),z.include(e,_),z.include(n,_),z.include(c,_),k.uniforms.add(new D(\"externalColor\",(e=>e.externalColor))),U.add(\"vcolorExt\",\"vec4\"),k.main.add($`\n      forwardNormalizedVertexColor();\n      vcolorExt = externalColor;\n      ${N(q,\"vcolorExt *= instanceColor * 0.003921568627451;\")}\n      vcolorExt *= vvColor();\n      vcolorExt *= getSymbolColor();\n      forwardColorMixMode();\n\n      bool alphaCut = vcolorExt.a < ${$.float(R)};\n      vpos = getVertexInLocalOriginSpace();\n      localvpos = vpos - view[3].xyz;\n      vpos = subtractOrigin(vpos);\n      vNormalWorld = dpNormal(vvLocalNormal(normalModel()));\n      vpos = addVerticalOffset(vpos, localOrigin);\n      vec4 basePosition = transformPosition(proj, view, vpos);\n\n      forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n      forwardLinearDepth();\n      forwardTextureCoordinates();\n\n      gl_Position = alphaCut ? vec4(1e38, 1e38, 1e38, 1.0) :\n      ${N(H,\"offsetBackfacingClipPosition(basePosition, vpos, vNormalWorld, cameraPosition);\",\"basePosition;\")}\n    `)),o(W)){const{hasColorTexture:e,hasColorTextureTransform:r,receiveShadows:o}=_;z.include(b,_),z.include(v,_),z.include(P,_),z.include(_.instancedDoublePrecision?C:L,_),z.fragment.include(i,_),z.include(T,_),S(z.fragment,_),u(G),w(G),p(G),G.uniforms.add(k.uniforms.get(\"localOrigin\"),k.uniforms.get(\"view\"),new E(\"ambient\",(e=>e.ambient)),new E(\"diffuse\",(e=>e.diffuse)),new F(\"opacity\",(e=>e.opacity)),new F(\"layerOpacity\",(e=>e.layerOpacity))),e&&G.uniforms.add(new V(\"tex\",(e=>e.texture))),z.include(y,_),z.include(f,_),G.include(M),h(G),G.main.add($`\n      discardBySlice(vpos);\n      discardByTerrainDepth();\n      vec4 texColor = ${e?`texture(tex, ${r?\"colorUV\":\"vuv0\"})`:\" vec4(1.0)\"};\n      ${N(e,`${N(_.textureAlphaPremultiplied,\"texColor.rgb /= texColor.a;\")}\\n        discardOrAdjustAlpha(texColor);`)}\n      vec3 viewDirection = normalize(vpos - cameraPosition);\n      applyPBRFactors();\n      float ssao = evaluateAmbientOcclusionInverse();\n      ssao *= getBakedOcclusion();\n\n      float additionalAmbientScale = additionalDirectedAmbientLight(vpos + localOrigin);\n      vec3 additionalLight = ssao * mainLightIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n      float shadow = ${o?\"max(lightingGlobalFactor * (1.0 - additionalAmbientScale), readShadowMap(vpos, linearDepth))\":Q?\"lightingGlobalFactor * (1.0 - additionalAmbientScale)\":\"0.0\"};\n      vec3 matColor = max(ambient, diffuse);\n      ${_.hasVertexColors?$`vec3 albedo = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n             float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:$`vec3 albedo = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n             float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));`}\n      ${N(K,\"albedo = mix(albedo, vec3(1), 0.9);\")}\n      ${$`vec3 shadingNormal = normalize(vNormalWorld);\n             albedo *= 1.2;\n             vec3 viewForward = vec3(view[0][2], view[1][2], view[2][2]);\n             float alignmentLightView = clamp(dot(viewForward, -mainLightDirection), 0.0, 1.0);\n             float transmittance = 1.0 - clamp(dot(viewForward, shadingNormal), 0.0, 1.0);\n             float treeRadialFalloff = vColor.r;\n             float backLightFactor = 0.5 * treeRadialFalloff * alignmentLightView * transmittance * (1.0 - shadow);\n             additionalLight += backLightFactor * mainLightIntensity;`}\n      ${N(X,`vec3 normalGround = ${Q?\"normalize(vpos + localOrigin)\":\"vec3(0.0, 0.0, 1.0)\"};`)}\n      ${X?$`float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * mainLightIntensity[2];\n                 ${N(K,$`mrr = vec3(0.0, 1.0, 0.04);`)}\n            vec4 emission = ${K?\"vec4(0.0)\":\"getEmissions()\"};\n            vec3 shadedColor = evaluateSceneLightingPBR(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight, viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:$`vec3 shadedColor = evaluateSceneLighting(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight);`}\n      vec4 finalColor = vec4(shadedColor, opacity_);\n      outputColorHighlightOID(finalColor, vpos);`)}return z.include(m,_),z}const z=Object.freeze(Object.defineProperty({__proto__:null,build:_},Symbol.toStringTag,{value:\"Module\"}));export{z as R,_ as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{FloatDrawUniform as o}from\"../../shaderModules/FloatDrawUniform.js\";import{FloatPassUniform as r}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as t,If as e}from\"../../shaderModules/glsl.js\";import{AlphaDiscardMode as a}from\"../../../lib/basicInterfaces.js\";import{alphaCutoff as s}from\"../../../../../../webscene/support/AlphaCutoff.js\";function f(o,t){u(o,t,new r(\"textureAlphaCutoff\",(o=>o.textureAlphaCutoff)))}function l(r,t){u(r,t,new o(\"textureAlphaCutoff\",(o=>o.textureAlphaCutoff)))}function u(o,r,f){const l=o.fragment,u=r.alphaDiscardMode,d=u===a.Blend;u!==a.Mask&&u!==a.MaskBlend||l.uniforms.add(f),l.code.add(t`\n    void discardOrAdjustAlpha(inout vec4 color) {\n      ${u===a.Opaque?\"color.a = 1.0;\":`if (color.a < ${d?t.float(s):\"textureAlphaCutoff\"}) {\\n              discard;\\n             } ${e(u===a.Mask,\"else { color.a = 1.0; }\")}`}\n    }\n  `)}export{l as DiscardOrAdjustAlphaDraw,f as DiscardOrAdjustAlphaPass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{S as o}from\"../../../../../chunks/SSAOBlur.glsl.js\";import{makePipelineState as s,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"../../shaders/SSAOBlur.glsl.js\"))))}initializePipeline(){return s({colorWrite:i})}}export{l as SSAOBlurTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as s}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{NoParameters as e}from\"../../../../webgl/NoParameters.js\";class r extends e{constructor(){super(...arguments),this.projScale=1}}class t extends r{constructor(){super(...arguments),this.intensity=1}}class o extends e{}class c extends o{constructor(){super(...arguments),this.blurSize=s()}}export{c as BlurDrawParameters,r as BlurPassParameters,o as SSAODrawParameters,t as SSAOPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{S as o}from\"../../../../../chunks/SSAO.glsl.js\";import{makePipelineState as s,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class t extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"../../shaders/SSAO.glsl.js\"))))}initializePipeline(){return s({colorWrite:i})}}export{t as SSAOTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{clamp as r}from\"../../../../../core/mathUtils.js\";import{disposeMaybe as s}from\"../../../../../core/maybe.js\";import{watch as t}from\"../../../../../core/reactiveUtils.js\";import{Milliseconds as i}from\"../../../../../core/time.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{set as m}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{InternalRenderCategory as n}from\"../../../webgl.js\";import{ColorFormat as p}from\"../../../webgl/formats.js\";import c from\"../../../webgl/RenderNode.js\";import{distanceFadeEnd as h,distanceFadeStart as u}from\"../../core/shaderLibrary/shading/ScreenSpaceConstants.js\";import{SSAOBlurTechnique as l}from\"./SSAOBlurTechnique.js\";import{noiseData as d}from\"./SSAONoiseData.js\";import{SSAOPassParameters as f,BlurDrawParameters as b}from\"./SSAOParameters.js\";import{SSAOTechnique as w}from\"./SSAOTechnique.js\";import{RenderRequestType as T}from\"../../lib/basicInterfaces.js\";import{g as S}from\"../../../../../chunks/SSAO.glsl.js\";import{TextureWrapMode as _,PixelFormat as P,DepthStencilAttachment as j,FramebufferBit as g}from\"../../../../webgl/enums.js\";import{Texture as x}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as q}from\"../../../../webgl/TextureDescriptor.js\";const A=2;let E=class extends c{constructor(e){super(e),this.consumes={required:[\"normals\"]},this.produces=n.SSAO,this.isEnabled=()=>!1,this._enableTime=i(0),this._passParameters=new f,this._drawParameters=new b}initialize(){const e=Uint8Array.from(atob(d),(e=>e.charCodeAt(0))),r=new q;r.wrapMode=_.CLAMP_TO_EDGE,r.pixelFormat=P.RGB,r.wrapMode=_.REPEAT,r.hasMipmap=!0,r.width=32,r.height=32,this._passParameters.noiseTexture=new x(this.renderingContext,r,e),this.techniques.precompile(w),this.techniques.precompile(l),this.addHandles(t((()=>this.isEnabled()),(()=>this._enableTime=i(0))))}destroy(){this._passParameters.noiseTexture=s(this._passParameters.noiseTexture)}render(e){const s=this.bindParameters,t=e.find((({name:e})=>\"normals\"===e)),o=t?.getTexture(),a=t?.getTexture(j),c=this.fboCache,d=s.camera,f=d.fullViewport[2],b=d.fullViewport[3],_=Math.round(f/A),P=Math.round(b/A),x=this.techniques.get(w),q=this.techniques.get(l);if(!x.compiled||!q.compiled)return this._enableTime=i(performance.now()),this.requestRender(T.UPDATE),c.acquire(_,P,n.SSAO,p.RED);0===this._enableTime&&(this._enableTime=i(performance.now()));const E=this.renderingContext,y=this.view.qualitySettings.fadeDuration,R=d.relativeElevation,v=r((h-R)/(h-u),0,1),C=y>0?Math.min(y,performance.now()-this._enableTime)/y:1,D=C*v;this._passParameters.normalTexture=o,this._passParameters.depthTexture=a,this._passParameters.projScale=1/d.computeScreenPixelSizeAtDist(1),this._passParameters.intensity=4*O/S(d)**6*D;const V=c.acquire(f,b,\"ssao input\",p.RG);E.bindFramebuffer(V.fbo),E.setViewport(0,0,f,b),E.bindTechnique(x,s,this._passParameters,this._drawParameters),E.screen.draw();const M=c.acquire(_,P,\"ssao blur\",p.RED);E.bindFramebuffer(M.fbo),this._drawParameters.colorTexture=V.getTexture(),m(this._drawParameters.blurSize,0,A/b),E.bindTechnique(q,s,this._passParameters,this._drawParameters),E.setViewport(0,0,_,P),E.screen.draw(),V.release();const L=c.acquire(_,P,n.SSAO,p.RED);return E.bindFramebuffer(L.fbo),E.setViewport(0,0,f,b),E.setClearColor(1,1,1,0),E.clear(g.COLOR),this._drawParameters.colorTexture=M.getTexture(),m(this._drawParameters.blurSize,A/f,0),E.bindTechnique(q,s,this._passParameters,this._drawParameters),E.setViewport(0,0,_,P),E.screen.draw(),E.setViewport4fv(d.fullViewport),M.release(),C<1&&this.requestRender(T.UPDATE),L}};e([o()],E.prototype,\"consumes\",void 0),e([o()],E.prototype,\"produces\",void 0),e([o({constructOnly:!0})],E.prototype,\"isEnabled\",void 0),E=e([a(\"esri.views.3d.webgl-engine.effects.ssao.SSAO\")],E);const O=.5;export{E as SSAO,A as blurSizePixels};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst e=\"eXKEvZaUc66cjIKElE1jlJ6MjJ6Ufkl+jn2fcXp5jBx7c6KEflSGiXuXeW6OWs+tfqZ2Yot2Y7Zzfo2BhniEj3xoiXuXj4eGZpqEaHKDWjSMe7palFlzc3BziYOGlFVzg6Zzg7CUY5JrjFF7eYJ4jIKEcyyEonSXe7qUfqZ7j3xofqZ2c4R5lFZ5Y0WUbppoe1l2cIh2ezyUho+BcHN2cG6DbpqJhqp2e1GcezhrdldzjFGUcyxjc3aRjDyEc1h7Sl17c6aMjH92pb6Mjpd4dnqBjMOEhqZleIOBYzB7gYx+fnqGjJuEkWlwnCx7fGl+c4hjfGyRe5qMlNOMfnqGhIWHc6OMi4GDc6aMfqZuc6aMzqJzlKZ+lJ6Me3qRfoFue0WUhoR5UraEa6qMkXiPjMOMlJOGe7JrUqKMjK6MeYRzdod+Sl17boiPc6qEeYBlcIh2c1WEe7GDiWCDa0WMjEmMdod+Y0WcdntzhmN8WjyMjKJjiXtzgYxYaGd+a89zlEV7e2GJfnd+lF1rcK5zc4p5cHuBhL6EcXp5eYB7fnh8iX6HjIKEeaxuiYOGc66RfG2Ja5hzjlGMjEmMe9OEgXuPfHyGhPeEdl6JY02McGuMfnqGhFiMa3WJfnx2l4hwcG1uhmN8c0WMc39og1GBbrCEjE2EZY+JcIh2cIuGhIWHe0mEhIVrc09+gY5+eYBlnCyMhGCDl3drfmmMgX15aGd+gYx+fnuRfnhzY1SMsluJfnd+hm98WtNrcIuGh4SEj0qPdkqOjFF7jNNjdnqBgaqUjMt7boeBhnZ4jDR7c5pze4GGjEFrhLqMjHyMc0mUhKZze4WEa117kWlwbpqJjHZ2eX2Bc09zeId+e0V7WlF7jHJ2l72BfId8l3eBgXyBe897jGl7c66cgW+Xc76EjKNbgaSEjGx4fId8jFFjgZB8cG6DhlFziZhrcIh2fH6HgUqBgXiPY8dahGFzjEmMhEFre2dxhoBzc5SGfleGe6alc7aUeYBlhKqUdlp+cH5za4OEczxza0Gcc4J2jHZ5iXuXjH2Jh5yRjH2JcFx+hImBjH+MpddCl3dreZeJjIt8ZW18bm1zjoSEeIOBlF9oh3N7hlqBY4+UeYFwhLJjeYFwaGd+gUqBYxiEYot2fqZ2ondzhL6EYyiEY02Ea0VjgZB8doaGjHxoc66cjEGEiXuXiXWMiZhreHx8frGMe75rY02Ec5pzfnhzlEp4a3VzjM+EhFFza3mUY7Zza1V5e2iMfGyRcziEhDyEkXZ2Y4OBnCx7g5t2eyBjgV6EhEFrcIh2dod+c4Z+nJ5zjm15jEmUeYxijJp7nL6clIpjhoR5WrZraGd+fnuRa6pzlIiMg6ZzfHx5foh+eX1ufnB5eX1ufnB5aJt7UqKMjIh+e3aBfm5lbYSBhGFze6J4c39oc0mUc4Z+e0V7fKFVe0WEdoaGY02Ec4Z+Y02EZYWBfH6HgU1+gY5+hIWUgW+XjJ57ebWRhFVScHuBfJ6PhBx7WqJzlM+Ujpd4gHZziX6HjHmEgZN+lJt5boiPe2GJgX+GjIGJgHZzeaxufnB5hF2JtdN7jJ57hp57hK6ElFVzg6ZzbmiEbndzhIWHe3uJfoFue3qRhJd2j3xoc65zlE1jc3p8lE1jhniEgXJ7e657vZaUc3qBh52BhIF4aHKDa9drgY5+c52GWqZzbpqJe8tjnM+UhIeMfo2BfGl+hG1zSmmMjKJjZVaGgX15c1lze0mEp4OHa3mUhIWHhDyclJ6MeYOJkXiPc0VzhFiMlKaEboSJa5Jze41re3qRhn+HZYWBe0mEc4p5fnORbox5lEp4hGFjhGGEjJuEc1WEhLZjeHeGa7KlfHx2hLaMeX1ugY5+hIWHhKGPjMN7c1WEho1zhoBzZYx7fnhzlJt5exyUhFFziXtzfmmMa6qMYyiEiXxweV12kZSMeWqXSl17fnhzxmmMrVGEe1mcc4p5eHeGjK6MgY5+doaGa6pzlGV7g1qBh4KHkXiPeW6OaKqafqZ2eXZ5e1V7jGd7boSJc3BzhJd2e0mcYot2h1RoY8dahK6EQmWEWjx7e1l2lL6UgXyBdnR4eU9zc0VreX1umqaBhld7fo2Bc6KEc5Z+hDyEcIeBWtNrfHyGe5qMhMuMe5qMhEGEbVVupcNzg3aHhIF4boeBe0mEdlptc39ofFl5Y8uUlJOGiYt2UmGEcyxjjGx4jFF7a657ZYWBnElzhp57iXtrgZN+tfOEhIOBjE2HgU1+e8tjjKNbiWCDhE15gUqBgYN7fnqGc66ce9d7iYSBj0qPcG6DnGGcT3eGa6qMZY+JlIiMl4hwc3aRdnqBlGV7eHJ2hLZjfnuRhDyEeX6MSk17g6Z+c6aUjHmEhIF4gXyBc76EZW18fGl+fkl+jCxrhoVwhDyUhIqGlL2DlI6EhJd2tdN7eYORhEGMa2Faa6pzc3Bzc4R5lIRznM+UY9eMhDycc5Z+c4p5c4iGY117pb6MgXuPrbJafnx2eYOJeXZ5e657hDyEcziElKZjfoB5eHeGj4WRhGGEe6KGeX1utTStc76EhFGJnCyMa5hzfH6HnNeceYB7hmN8gYuMhIVrczSMgYF8h3N7c5pza5hzjJqEYIRdgYuMlL2DeYRzhGGEeX1uhLaEc4iGeZ1zdl6JhrVteX6Me2iMfm5lWqJzSpqEa6pzdnmchHx2c6OMhNdrhoR5g3aHczxzeW52gV6Ejm15frGMc0Vzc4Z+l3drfniJe+9rWq5rlF1rhGGEhoVwe9OEfoh+e7pac09+c3qBY0lrhDycdnp2lJ6MiYOGhGCDc3aRlL2DlJt5doaGdnp2gYF8gWeOjF2Uc4R5c5Z+jEmMe7KEc4mEeYJ4dmyBe0mcgXiPbqJ7eYB7fmGGiYSJjICGlF1reZ2PnElzbpqJfH6Hc39oe4WEc5eJhK6EhqyJc3qBgZB8c09+hEmEaHKDhFGJc5SGiXWMUpaEa89zc6OMnCyMiXtrho+Be5qMc7KEjJ57dmN+hKGPjICGbmiEe7prdod+hGCDdnmchBx7eX6MkXZ2hGGEa657hm98jFFjY5JreYOJgY2EjHZ2a295Y3FajJ6Mc1J+YzB7e4WBjF2Uc4R5eV12gYxzg1qBeId+c9OUc5pzjFFjgY5+hFiMlIaPhoR5lIpjjIKBlNdSe7KEeX2BfrGMhIqGc65zjE2UhK6EklZ+QmWEeziMWqZza3VzdnR4foh+gYF8n3iJiZhrnKp7gYF8eId+lJ6Me1lrcIuGjKJjhmN8c66MjFF7a6prjJ6UnJ5zezyUfruRWlF7nI5zfHyGe657h4SEe8tjhBx7jFFjc09+c39ojICMeZeJeXt+YzRzjHZ2c0WEcIeBeXZ5onSXkVR+gYJ+eYFwdldzgYF7eX2BjJ6UiXuXlE1jh4SEe1mchLJjc4Z+hqZ7eXZ5bm1zlL6Ue5p7iWeGhKqUY5pzjKJjcIeBe8t7gXyBYIRdlEp4a3mGnK6EfmmMZpqEfFl5gYxzjKZuhGFjhoKGhHx2fnx2eXuMe3aBiWeGvbKMe6KGa5hzYzB7gZOBlGV7hmN8hqZlYot2Y117a6pzc6KEfId8foB5rctrfneJfJ6PcHN2hFiMc5pzjH92c0VzgY2EcElzdmCBlFVzg1GBc65zY4OBboeBcHiBeYJ4ewxzfHx5lIRzlEmEnLKEbk1zfJ6PhmN8eYBljBiEnMOEiXxwezyUcIeBe76EdsKEeX2BdnR4jGWUrXWMjGd7fkl+j4WRlEGMa5Jzho+BhDyEfnqMeXt+g3aHlE1jczClhNN7ZW18eHx8hGFjZW18iXWMjKJjhH57gYuMcIuGWjyMe4ZtjJuExmmMj4WRdntzi4GDhFFzYIRdnGGcjJp7Y0F7e4WEkbCGiX57fnSHa657a6prhBCMe3Z+SmmMjH92eHJ2hK6EY1FzexhrvbKMnI5za4OEfnd+eXuMhImBe897hLaMjN+EfG+BeIOBhF1+eZeJi4GDkXZ2eXKEgZ6Ejpd4c2GHa1V5e5KUfqZuhCx7jKp7lLZrg11+hHx2hFWUoot2nI5zgbh5mo9zvZaUe3qRbqKMfqZ2kbCGhFiM\";export{e as noiseData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class o extends s{constructor(s,o,t){super(s,\"mat4\",r.Pass,((r,t,e)=>r.setUniformMatrix4fv(s,o(t,e))),t)}}export{o as Matrix4sPassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{normalFromMat4 as e}from\"../../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as r}from\"../../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{IDENTITY as o}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as a}from\"../../../../../../chunks/vec32.js\";import{create as n}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ShaderOutput as i}from\"../ShaderOutput.js\";import{DoublePrecision as t}from\"../util/DoublePrecision.glsl.js\";import{addViewNormal as s}from\"../util/View.glsl.js\";import{Float3BindUniform as l}from\"../../shaderModules/Float3BindUniform.js\";import{glsl as m}from\"../../shaderModules/glsl.js\";import{Matrix3PassUniform as c}from\"../../shaderModules/Matrix3PassUniform.js\";import{Matrix4PassUniform as d}from\"../../shaderModules/Matrix4PassUniform.js\";import{VertexAttribute as u}from\"../../../lib/VertexAttribute.js\";import{encodeDoubleHi as v,encodeDoubleLo as g}from\"../../../../../webgl/doublePrecisionUtils.js\";import{NoParameters as p}from\"../../../../../webgl/NoParameters.js\";class x extends p{constructor(){super(...arguments),this.modelTransformation=null}}const f=r();function M(r,n){const p=n.hasModelTransformation,x=n.instancedDoublePrecision;p&&(r.vertex.uniforms.add(new d(\"model\",(e=>e.modelTransformation??o))),r.vertex.uniforms.add(new c(\"normalLocalOriginFromModel\",(r=>(e(f,r.modelTransformation??o),f))))),n.instanced&&x&&(r.attributes.add(u.INSTANCEMODELORIGINHI,\"vec3\"),r.attributes.add(u.INSTANCEMODELORIGINLO,\"vec3\"),r.attributes.add(u.INSTANCEMODEL,\"mat3\"),r.attributes.add(u.INSTANCEMODELNORMAL,\"mat3\"));const M=r.vertex;x&&(M.include(t,n),M.uniforms.add(new l(\"viewOriginHi\",(e=>v(a(O,e.camera.viewInverseTransposeMatrix[3],e.camera.viewInverseTransposeMatrix[7],e.camera.viewInverseTransposeMatrix[11]),O))),new l(\"viewOriginLo\",(e=>g(a(O,e.camera.viewInverseTransposeMatrix[3],e.camera.viewInverseTransposeMatrix[7],e.camera.viewInverseTransposeMatrix[11]),O))))),M.code.add(m`\n    vec3 getVertexInLocalOriginSpace() {\n      return ${p?x?\"(model * vec4(instanceModel * localPosition().xyz, 1.0)).xyz\":\"(model * localPosition()).xyz\":x?\"instanceModel * localPosition().xyz\":\"localPosition().xyz\"};\n    }\n\n    vec3 subtractOrigin(vec3 _pos) {\n      ${x?m`\n          // Negated inputs are intentionally the first two arguments. The other way around the obfuscation in dpAdd() stopped\n          // working for macOS 14+ and iOS 17+.\n          // Issue: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/56280\n          vec3 originDelta = dpAdd(-instanceModelOriginHi, -instanceModelOriginLo, viewOriginHi, viewOriginLo);\n          return _pos - originDelta;`:\"return vpos;\"}\n    }\n    `),M.code.add(m`\n    vec3 dpNormal(vec4 _normal) {\n      return normalize(${p?x?\"normalLocalOriginFromModel * (instanceModelNormal * _normal.xyz)\":\"normalLocalOriginFromModel * _normal.xyz\":x?\"instanceModelNormal * _normal.xyz\":\"_normal.xyz\"});\n    }\n    `),n.output===i.Normal&&(s(M),M.code.add(m`\n    vec3 dpNormalView(vec4 _normal) {\n      return normalize((viewNormal * ${p?x?\"vec4(normalLocalOriginFromModel * (instanceModelNormal * _normal.xyz), 1.0)\":\"vec4(normalLocalOriginFromModel * _normal.xyz, 1.0)\":x?\"vec4(instanceModelNormal * _normal.xyz, 1.0)\":\"_normal\"}).xyz);\n    }\n    `)),n.hasVertexTangents&&M.code.add(m`\n    vec4 dpTransformVertexTangent(vec4 _tangent) {\n      ${p?x?\"return vec4(normalLocalOriginFromModel * (instanceModelNormal * _tangent.xyz), _tangent.w);\":\"return vec4(normalLocalOriginFromModel * _tangent.xyz, _tangent.w);\":x?\"return vec4(instanceModelNormal * _tangent.xyz, _tangent.w);\":\"return _tangent;\"}\n    }`)}const O=n();export{x as InstancedDoublePassParameters,M as InstancedDoublePrecision};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as t}from\"../ShaderOutput.js\";import{Rgba4FloatEncoding as a}from\"../util/RgbaFloat16Encoding.glsl.js\";import{glsl as o}from\"../../shaderModules/glsl.js\";function e(e,l){switch(l.output){case t.Shadow:case t.ShadowHighlight:case t.ShadowExcludeHighlight:case t.ViewshedShadow:e.fragment.include(a),e.fragment.code.add(o`float _calculateFragDepth(const in float depth) {\nconst float SLOPE_SCALE = 2.0;\nconst float BIAS = 20.0 * .000015259;\nfloat m = max(abs(dFdx(depth)), abs(dFdy(depth)));\nreturn depth + SLOPE_SCALE * m + BIAS;\n}\nvoid outputDepth(float _linearDepth) {\nfragColor = floatToRgba4(_calculateFragDepth(_linearDepth));\n}`)}}export{e as OutputDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{i}from\"../../../../../../chunks/vec32.js\";import{create as n}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as t}from\"../../../../../../chunks/vec42.js\";import{create as e}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{PBRMode as h}from\"./PhysicallyBasedRenderingParameters.glsl.js\";import{Float3BindUniform as s}from\"../../shaderModules/Float3BindUniform.js\";import{Float4BindUniform as g}from\"../../shaderModules/Float4BindUniform.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";function m(n,e){const m=n.fragment,o=void 0!==e.lightingSphericalHarmonicsOrder?e.lightingSphericalHarmonicsOrder:2;0===o?(m.uniforms.add(new s(\"lightingAmbientSH0\",(({lighting:n})=>i(l,n.sh.r[0],n.sh.g[0],n.sh.b[0])))),m.code.add(r`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):1===o?(m.uniforms.add(new g(\"lightingAmbientSH_R\",(({lighting:i})=>t(a,i.sh.r[0],i.sh.r[1],i.sh.r[2],i.sh.r[3]))),new g(\"lightingAmbientSH_G\",(({lighting:i})=>t(a,i.sh.g[0],i.sh.g[1],i.sh.g[2],i.sh.g[3]))),new g(\"lightingAmbientSH_B\",(({lighting:i})=>t(a,i.sh.b[0],i.sh.b[1],i.sh.b[2],i.sh.b[3])))),m.code.add(r`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec4 sh0 = vec4(\n0.282095,\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y\n);\nvec3 ambientLight = vec3(\ndot(lightingAmbientSH_R, sh0),\ndot(lightingAmbientSH_G, sh0),\ndot(lightingAmbientSH_B, sh0)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):2===o&&(m.uniforms.add(new s(\"lightingAmbientSH0\",(({lighting:n})=>i(l,n.sh.r[0],n.sh.g[0],n.sh.b[0]))),new g(\"lightingAmbientSH_R1\",(({lighting:i})=>t(a,i.sh.r[1],i.sh.r[2],i.sh.r[3],i.sh.r[4]))),new g(\"lightingAmbientSH_G1\",(({lighting:i})=>t(a,i.sh.g[1],i.sh.g[2],i.sh.g[3],i.sh.g[4]))),new g(\"lightingAmbientSH_B1\",(({lighting:i})=>t(a,i.sh.b[1],i.sh.b[2],i.sh.b[3],i.sh.b[4]))),new g(\"lightingAmbientSH_R2\",(({lighting:i})=>t(a,i.sh.r[5],i.sh.r[6],i.sh.r[7],i.sh.r[8]))),new g(\"lightingAmbientSH_G2\",(({lighting:i})=>t(a,i.sh.g[5],i.sh.g[6],i.sh.g[7],i.sh.g[8]))),new g(\"lightingAmbientSH_B2\",(({lighting:i})=>t(a,i.sh.b[5],i.sh.b[6],i.sh.b[7],i.sh.b[8])))),m.code.add(r`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nvec4 sh1 = vec4(\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y,\n1.092548 * normal.x * normal.y\n);\nvec4 sh2 = vec4(\n1.092548 * normal.y * normal.z,\n0.315392 * (3.0 * normal.z * normal.z - 1.0),\n1.092548 * normal.x * normal.z,\n0.546274 * (normal.x * normal.x - normal.y * normal.y)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R1, sh1),\ndot(lightingAmbientSH_G1, sh1),\ndot(lightingAmbientSH_B1, sh1)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R2, sh2),\ndot(lightingAmbientSH_G2, sh2),\ndot(lightingAmbientSH_B2, sh2)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`),e.pbrMode!==h.Normal&&e.pbrMode!==h.Schematic||m.code.add(r`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\nvec3 calculateAmbientRadiance(float ambientOcclusion)\n{\nvec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\nreturn ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n}`))}const l=n(),a=e();export{m as EvaluateAmbientLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as e}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ScreenSpacePass as t}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{ReadDepth as o}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js\";import{CameraSpace as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js\";import{Float2BindUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js\";import{Float2PassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{FloatBindUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{FloatPassUniform as c}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as l}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as f}from\"../views/webgl/ShaderBuilder.js\";const d=16;function m(){const r=new f,m=r.fragment;return r.include(t),r.include(a),m.include(o),m.uniforms.add(new s(\"radius\",(e=>v(e.camera)))).code.add(l`vec3 sphere[16] = vec3[16](\nvec3(0.186937, 0.0, 0.0),\nvec3(0.700542, 0.0, 0.0),\nvec3(-0.864858, -0.481795, -0.111713),\nvec3(-0.624773, 0.102853, -0.730153),\nvec3(-0.387172, 0.260319, 0.007229),\nvec3(-0.222367, -0.642631, -0.707697),\nvec3(-0.01336, -0.014956, 0.169662),\nvec3(0.122575, 0.1544, -0.456944),\nvec3(-0.177141, 0.85997, -0.42346),\nvec3(-0.131631, 0.814545, 0.524355),\nvec3(-0.779469, 0.007991, 0.624833),\nvec3(0.308092, 0.209288,0.35969),\nvec3(0.359331, -0.184533, -0.377458),\nvec3(0.192633, -0.482999, -0.065284),\nvec3(0.233538, 0.293706, -0.055139),\nvec3(0.417709, -0.386701, 0.442449)\n);\nfloat fallOffFunction(float vv, float vn, float bias) {\nfloat f = max(radius * radius - vv, 0.0);\nreturn f * f * f * max(vn - bias, 0.0);\n}`),m.code.add(l`float aoValueFromPositionsAndNormal(vec3 C, vec3 n_C, vec3 Q) {\nvec3 v = Q - C;\nfloat vv = dot(v, v);\nfloat vn = dot(normalize(v), n_C);\nreturn fallOffFunction(vv, vn, 0.1);\n}`),m.uniforms.add(new u(\"normalMap\",(e=>e.normalTexture)),new u(\"depthMap\",(e=>e.depthTexture)),new c(\"projScale\",(e=>e.projScale)),new u(\"rnm\",(e=>e.noiseTexture)),new i(\"rnmScale\",((r,t)=>e(p,t.camera.fullWidth/r.noiseTexture.descriptor.width,t.camera.fullHeight/r.noiseTexture.descriptor.height))),new c(\"intensity\",(e=>e.intensity)),new n(\"screenSize\",(r=>e(p,r.camera.fullWidth,r.camera.fullHeight)))),r.outputs.add(\"fragOcclusion\",\"float\"),m.main.add(l`\n      float depth = depthFromTexture(depthMap, uv);\n\n      // Early out if depth is out of range, such as in the sky\n      if (depth >= 1.0 || depth <= 0.0) {\n        fragOcclusion = 1.0;\n        return;\n      }\n\n      // get the normal of current fragment\n      vec4 norm4 = texture(normalMap, uv);\n      if(norm4.a != 1.0) {\n        fragOcclusion = 1.0;\n        return;\n      }\n      vec3 norm = vec3(-1.0) + 2.0 * norm4.xyz;\n\n      float currentPixelDepth = linearizeDepth(depth);\n      vec3 currentPixelPos = reconstructPosition(gl_FragCoord.xy, currentPixelDepth);\n\n      float sum = 0.0;\n      vec3 tapPixelPos;\n\n      vec3 fres = normalize(2.0 * texture(rnm, uv * rnmScale).xyz - 1.0);\n\n      // note: the factor 2.0 should not be necessary, but makes ssao much nicer.\n      // bug or deviation from CE somewhere else?\n      float ps = projScale / (2.0 * currentPixelPos.z * zScale.x + zScale.y);\n\n      for(int i = 0; i < ${l.int(d)}; ++i) {\n        vec2 unitOffset = reflect(sphere[i], fres).xy;\n        vec2 offset = vec2(-unitOffset * radius * ps);\n\n        // don't use current or very nearby samples\n        if( abs(offset.x) < 2.0 || abs(offset.y) < 2.0){\n          continue;\n        }\n\n        vec2 tc = vec2(gl_FragCoord.xy + offset);\n        if (tc.x < 0.0 || tc.y < 0.0 || tc.x > screenSize.x || tc.y > screenSize.y) continue;\n        vec2 tcTap = tc / screenSize;\n        float occluderFragmentDepth = linearDepthFromTexture(depthMap, tcTap);\n\n        tapPixelPos = reconstructPosition(tc, occluderFragmentDepth);\n\n        sum += aoValueFromPositionsAndNormal(currentPixelPos, norm, tapPixelPos);\n      }\n\n      // output the result\n      float A = max(1.0 - sum * intensity / float(${l.int(d)}), 0.0);\n\n      // Anti-tone map to reduce contrast and drag dark region farther: (x^0.2 + 1.2 * x^4) / 2.2\n      A = (pow(A, 0.2) + 1.2 * A * A * A * A) / 2.2;\n\n      fragOcclusion = A;`),r}function v(e){return Math.max(10,20*e.computeScreenPixelSizeAtDist(Math.abs(4*e.relativeElevation)))}const p=r(),g=Object.freeze(Object.defineProperty({__proto__:null,build:m,getRadius:v},Symbol.toStringTag,{value:\"Module\"}));export{g as S,m as b,v as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";var n;function e(t){switch(t){case\"multiply\":default:return n.Multiply;case\"ignore\":return n.Ignore;case\"replace\":return n.Replace;case\"tint\":return n.Tint}}function r(e,r,a){if(null==e||r===n.Ignore)return a[0]=255,a[1]=255,a[2]=255,void(a[3]=255);const c=t(Math.round(e[3]*i),0,i),p=0===c||r===n.Tint?0:r===n.Replace?u:l;a[0]=t(Math.round(e[0]*o),0,o),a[1]=t(Math.round(e[1]*o),0,o),a[2]=t(Math.round(e[2]*o),0,o),a[3]=c+p}!function(t){t[t.Multiply=1]=\"Multiply\",t[t.Ignore=2]=\"Ignore\",t[t.Replace=3]=\"Replace\",t[t.Tint=4]=\"Tint\"}(n||(n={}));const o=255,i=85,u=i,l=2*i;export{n as ColorMixModeEnum,r as encodeSymbolColor,e as parseColorMixMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{neverReached as r}from\"../../../../../../core/compilerUtils.js\";import{create as o}from\"../../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{create as a}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{NormalType as e,NormalAttribute as l}from\"./NormalAttribute.glsl.js\";import{VertexPositionPassParameters as m,VertexPositionDrawParameters as s}from\"./VertexPosition.glsl.js\";import{glsl as t}from\"../../shaderModules/glsl.js\";import{Matrix3DrawUniform as i}from\"../../shaderModules/Matrix3DrawUniform.js\";import{Matrix3PassUniform as d}from\"../../shaderModules/Matrix3PassUniform.js\";function c(o,a){switch(a.normalType){case e.Attribute:case e.Compressed:o.include(l,a),o.varyings.add(\"vNormalWorld\",\"vec3\"),o.varyings.add(\"vNormalView\",\"vec3\"),o.vertex.uniforms.add(new i(\"transformNormalGlobalFromModel\",(r=>r.transformNormalGlobalFromModel)),new d(\"transformNormalViewFromGlobal\",(r=>r.transformNormalViewFromGlobal))),o.vertex.code.add(t`void forwardNormal() {\nvNormalWorld = transformNormalGlobalFromModel * normalModel();\nvNormalView = transformNormalViewFromGlobal * vNormalWorld;\n}`);break;case e.ScreenDerivative:o.vertex.code.add(t`void forwardNormal() {}`);break;default:r(a.normalType);case e.COUNT:}}class f extends m{constructor(){super(...arguments),this.transformNormalViewFromGlobal=o()}}class n extends s{constructor(){super(...arguments),this.transformNormalGlobalFromModel=o(),this.toMapSpace=a()}}export{c as VertexNormal,n as VertexNormalDrawParameters,f as VertexNormalPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{IDENTITY as r}from\"../../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{TextureCoordinateType as e}from\"../attributes/TextureCoordinateAttribute.glsl.js\";import{glsl as o}from\"../../shaderModules/glsl.js\";import{Matrix3PassUniform as a}from\"../../shaderModules/Matrix3PassUniform.js\";function s(e,s){s.hasColorTextureTransform?(e.varyings.add(\"colorUV\",\"vec2\"),e.vertex.uniforms.add(new a(\"colorTextureTransformMatrix\",(e=>e.colorTextureTransformMatrix??r))).code.add(o`void forwardColorUV(){\ncolorUV = (colorTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):e.vertex.code.add(o`void forwardColorUV(){}`)}function i(s,i){i.hasNormalTextureTransform&&i.textureCoordinateType!==e.None?(s.varyings.add(\"normalUV\",\"vec2\"),s.vertex.uniforms.add(new a(\"normalTextureTransformMatrix\",(e=>e.normalTextureTransformMatrix??r))).code.add(o`void forwardNormalUV(){\nnormalUV = (normalTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):s.vertex.code.add(o`void forwardNormalUV(){}`)}function t(s,i){i.hasEmissionTextureTransform&&i.textureCoordinateType!==e.None?(s.varyings.add(\"emissiveUV\",\"vec2\"),s.vertex.uniforms.add(new a(\"emissiveTextureTransformMatrix\",(e=>e.emissiveTextureTransformMatrix??r))).code.add(o`void forwardEmissiveUV(){\nemissiveUV = (emissiveTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):s.vertex.code.add(o`void forwardEmissiveUV(){}`)}function d(s,i){i.hasOcclusionTextureTransform&&i.textureCoordinateType!==e.None?(s.varyings.add(\"occlusionUV\",\"vec2\"),s.vertex.uniforms.add(new a(\"occlusionTextureTransformMatrix\",(e=>e.occlusionTextureTransformMatrix??r))).code.add(o`void forwardOcclusionUV(){\nocclusionUV = (occlusionTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):s.vertex.code.add(o`void forwardOcclusionUV(){}`)}function n(s,i){i.hasMetallicRoughnessTextureTransform&&i.textureCoordinateType!==e.None?(s.varyings.add(\"metallicRoughnessUV\",\"vec2\"),s.vertex.uniforms.add(new a(\"metallicRoughnessTextureTransformMatrix\",(e=>e.metallicRoughnessTextureTransformMatrix??r))).code.add(o`void forwardMetallicRoughnessUV(){\nmetallicRoughnessUV = (metallicRoughnessTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):s.vertex.code.add(o`void forwardMetallicRoughnessUV(){}`)}export{s as colorTextureUV,t as emissiveTextureUV,n as metallicRoughnessTextureUV,i as normalTextureUV,d as occlusionTextureUV};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../../../core/compilerUtils.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";import{VertexAttribute as o}from\"../../../lib/VertexAttribute.js\";function t(t,i){switch(i.normalType){case a.Compressed:t.attributes.add(o.NORMALCOMPRESSED,\"vec2\"),t.vertex.code.add(r`vec3 decompressNormal(vec2 normal) {\nfloat z = 1.0 - abs(normal.x) - abs(normal.y);\nreturn vec3(normal + sign(normal) * min(z, 0.0), z);\n}\nvec3 normalModel() {\nreturn decompressNormal(normalCompressed);\n}`);break;case a.Attribute:t.attributes.add(o.NORMAL,\"vec3\"),t.vertex.code.add(r`vec3 normalModel() {\nreturn normal;\n}`);break;case a.ScreenDerivative:t.fragment.code.add(r`vec3 screenDerivativeNormal(vec3 positionView) {\nreturn normalize(cross(dFdx(positionView), dFdy(positionView)));\n}`);break;default:e(i.normalType);case a.COUNT:}}var a;!function(e){e[e.Attribute=0]=\"Attribute\",e[e.Compressed=1]=\"Compressed\",e[e.ScreenDerivative=2]=\"ScreenDerivative\",e[e.COUNT=3]=\"COUNT\"}(a||(a={}));export{t as NormalAttribute,a as NormalType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ColorMixModeEnum as o}from\"../../../../../layers/support/symbolColorUtils.js\";import{glsl as l}from\"../../../../core/shaderModules/glsl.js\";function a(a){a.vertex.code.add(l`\n    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {\n      float symbolAlpha = 0.0;\n\n      const float maxTint = 85.0;\n      const float maxReplace = 170.0;\n      const float scaleAlpha = 3.0;\n\n      if (symbolColor.a > maxReplace) {\n        colorMixMode = ${l.int(o.Multiply)};\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);\n      } else if (symbolColor.a > maxTint) {\n        colorMixMode = ${l.int(o.Replace)};\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);\n      } else if (symbolColor.a > 0.0) {\n        colorMixMode = ${l.int(o.Tint)};\n        symbolAlpha = scaleAlpha * symbolColor.a;\n      } else {\n        colorMixMode = ${l.int(o.Multiply)};\n        symbolAlpha = 0.0;\n      }\n\n      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);\n    }\n  `)}export{a as DecodeSymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ZEROS as e,freeze as t,create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as s}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isColorOrColorEmission as r,ShaderOutput as l}from\"../core/shaderLibrary/ShaderOutput.js\";import{NormalType as o}from\"../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{VertexNormalPassParameters as a,VertexNormalDrawParameters as n}from\"../core/shaderLibrary/attributes/VertexNormal.glsl.js\";import{ReloadableShaderModule as c}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as h}from\"../core/shaderTechnique/ShaderTechnique.js\";import{CullFaceOptions as u,DepthTestFunction as p,AlphaDiscardMode as m}from\"../lib/basicInterfaces.js\";import{RenderOccludedFlag as d}from\"../lib/Material.js\";import{OITPass as f}from\"../lib/OITPass.js\";import{blending as b,oitDepthTest as S,depthWrite as j,getDrawBuffers as g,getOITPolygonOffset as y}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as P,stencilToolMaskBaseParams as v,stencilBaseAllZerosParams as x}from\"../lib/StencilUtils.js\";import{advancedMRRFactors as O}from\"../materials/pbrUtils.js\";import{D as T}from\"../../../../chunks/DefaultMaterial.glsl.js\";import{SpecialDrawBuffers as D,CompareFunction as M}from\"../../../webgl/enums.js\";import{makePipelineState as A,cullingParams as L,defaultColorWrite as w}from\"../../../webgl/renderState.js\";import{alphaCutoff as C}from\"../../../../webscene/support/AlphaCutoff.js\";class F extends a{constructor(){super(...arguments),this.isSchematic=!1,this.usePBR=!1,this.mrrFactors=O,this.hasVertexColors=!1,this.hasSymbolColors=!1,this.doubleSided=!1,this.doubleSidedType=\"normal\",this.cullFace=u.Back,this.isInstanced=!1,this.hasInstancedColor=!1,this.emissiveFactor=e,this.instancedDoublePrecision=!1,this.normalType=o.Attribute,this.receiveShadows=!0,this.receiveAmbientOcclusion=!0,this.castShadows=!0,this.ambient=t(.2,.2,.2),this.diffuse=t(.8,.8,.8),this.externalColor=s(1,1,1,1),this.colorMixMode=\"multiply\",this.opacity=1,this.layerOpacity=1,this.origin=i(),this.hasSlicePlane=!1,this.offsetTransparentBackfaces=!1,this.vvSize=null,this.vvColor=null,this.vvOpacity=null,this.vvSymbolAnchor=null,this.vvSymbolRotationMatrix=null,this.modelTransformation=null,this.transparent=!1,this.writeDepth=!0,this.customDepthTest=p.Less,this.textureAlphaMode=m.Blend,this.textureAlphaCutoff=C,this.textureAlphaPremultiplied=!1,this.renderOccluded=d.Occlude,this.isDecoration=!1}}class N extends n{constructor(){super(...arguments),this.origin=i(),this.slicePlaneLocalOrigin=this.origin}}class k extends h{constructor(e,t,i=new c(T,(()=>import(\"./DefaultMaterial.glsl.js\")))){super(e,t,i),this.type=\"DefaultMaterialTechnique\"}_makePipeline(e,t){const{oitPass:i,output:s,transparent:o,cullFace:a,customDepthTest:n,hasOccludees:c,enableOffset:h}=e,u=i===f.NONE,p=i===f.FrontFace;return A({blending:r(s)&&o?b(i):null,culling:B(e)?L(a):null,depthTest:{func:S(i,q(n))},depthWrite:j(e),drawBuffers:s===l.Depth?{buffers:[D.NONE]}:g(i,s),colorWrite:w,stencilWrite:c?P:null,stencilTest:c?t?v:x:null,polygonOffset:u||p?null:y(h)})}initializePipeline(e){return this._occludeePipelineState=this._makePipeline(e,!0),this._makePipeline(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}function q(e){return e===p.Lequal?M.LEQUAL:M.LESS}function B(e){return e.cullFace!==u.None||!e.hasSlicePlane&&(!e.transparent&&!e.doubleSidedMode)}export{N as DefaultMaterialDrawParameters,F as DefaultMaterialPassParameters,k as DefaultMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../shaderModules/glsl.js\";function c(c){c.vertex.code.add(o`vec4 offsetBackfacingClipPosition(vec4 posClip, vec3 posWorld, vec3 normalWorld, vec3 camPosWorld) {\nvec3 camToVert = posWorld - camPosWorld;\nbool isBackface = dot(camToVert, normalWorld) > 0.0;\nif (isBackface) {\nposClip.z += 0.0000003 * posClip.w;\n}\nreturn posClip;\n}`)}export{c as Offset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{NormalType as t}from\"../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{TextureCoordinateType as o}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as s}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{NormalsDoubleSidedMode as r}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as i}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{parameter as a}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{AlphaDiscardMode as h,CullFaceOptions as p,DepthTestFunction as n}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as l}from\"../materials/DefaultTechniqueConfiguration.js\";class u extends l{constructor(e,o){super(),this.spherical=e,this.doublePrecisionRequiresObfuscation=o,this.alphaDiscardMode=h.Opaque,this.doubleSidedMode=r.None,this.pbrMode=i.Disabled,this.cullFace=p.None,this.normalType=t.Attribute,this.customDepthTest=n.Less,this.emissionSource=s.None,this.hasVertexColors=!1,this.hasSymbolColors=!1,this.hasVerticalOffset=!1,this.hasColorTexture=!1,this.hasMetallicRoughnessTexture=!1,this.hasOcclusionTexture=!1,this.hasNormalTexture=!1,this.hasScreenSizePerspective=!1,this.hasVertexTangents=!1,this.hasOccludees=!1,this.hasModelTransformation=!1,this.offsetBackfaces=!1,this.vvSize=!1,this.vvColor=!1,this.receiveShadows=!1,this.receiveAmbientOcclusion=!1,this.textureAlphaPremultiplied=!1,this.instanced=!1,this.instancedColor=!1,this.writeDepth=!0,this.transparent=!1,this.enableOffset=!0,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.snowCover=!1,this.hasColorTextureTransform=!1,this.hasEmissionTextureTransform=!1,this.hasNormalTextureTransform=!1,this.hasOcclusionTextureTransform=!1,this.hasMetallicRoughnessTextureTransform=!1,this.occlusionPass=!1,this.hasVvInstancing=!0,this.useCustomDTRExponentForWater=!1,this.useFillLights=!0}get textureCoordinateType(){return this.hasColorTexture||this.hasMetallicRoughnessTexture||this.emissionSource===s.Texture||this.hasOcclusionTexture||this.hasNormalTexture?o.Default:o.None}get objectAndLayerIdColorInstanced(){return this.instanced}get discardInvisibleFragments(){return this.transparent}}e([a({count:h.COUNT})],u.prototype,\"alphaDiscardMode\",void 0),e([a({count:r.COUNT})],u.prototype,\"doubleSidedMode\",void 0),e([a({count:i.COUNT})],u.prototype,\"pbrMode\",void 0),e([a({count:p.COUNT})],u.prototype,\"cullFace\",void 0),e([a({count:t.COUNT})],u.prototype,\"normalType\",void 0),e([a({count:n.COUNT})],u.prototype,\"customDepthTest\",void 0),e([a({count:s.COUNT})],u.prototype,\"emissionSource\",void 0),e([a()],u.prototype,\"hasVertexColors\",void 0),e([a()],u.prototype,\"hasSymbolColors\",void 0),e([a()],u.prototype,\"hasVerticalOffset\",void 0),e([a()],u.prototype,\"hasColorTexture\",void 0),e([a()],u.prototype,\"hasMetallicRoughnessTexture\",void 0),e([a()],u.prototype,\"hasOcclusionTexture\",void 0),e([a()],u.prototype,\"hasNormalTexture\",void 0),e([a()],u.prototype,\"hasScreenSizePerspective\",void 0),e([a()],u.prototype,\"hasVertexTangents\",void 0),e([a()],u.prototype,\"hasOccludees\",void 0),e([a()],u.prototype,\"hasModelTransformation\",void 0),e([a()],u.prototype,\"offsetBackfaces\",void 0),e([a()],u.prototype,\"vvSize\",void 0),e([a()],u.prototype,\"vvColor\",void 0),e([a()],u.prototype,\"receiveShadows\",void 0),e([a()],u.prototype,\"receiveAmbientOcclusion\",void 0),e([a()],u.prototype,\"textureAlphaPremultiplied\",void 0),e([a()],u.prototype,\"instanced\",void 0),e([a()],u.prototype,\"instancedColor\",void 0),e([a()],u.prototype,\"writeDepth\",void 0),e([a()],u.prototype,\"transparent\",void 0),e([a()],u.prototype,\"enableOffset\",void 0),e([a()],u.prototype,\"terrainDepthTest\",void 0),e([a()],u.prototype,\"cullAboveTerrain\",void 0),e([a()],u.prototype,\"snowCover\",void 0),e([a()],u.prototype,\"hasColorTextureTransform\",void 0),e([a()],u.prototype,\"hasEmissionTextureTransform\",void 0),e([a()],u.prototype,\"hasNormalTextureTransform\",void 0),e([a()],u.prototype,\"hasOcclusionTextureTransform\",void 0),e([a()],u.prototype,\"hasMetallicRoughnessTextureTransform\",void 0);export{u as DefaultMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{DefaultMaterialTechnique as r}from\"./DefaultMaterialTechnique.js\";import{R as s}from\"../../../../chunks/RealisticTree.glsl.js\";class i extends r{constructor(r,i){super(r,i,new e(s,(()=>import(\"./RealisticTree.glsl.js\")))),this.type=\"RealisticTreeTechnique\"}}export{i as RealisticTreeTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{p as e,i as r,c as t,n as i,d as s,l as o,h as a,f as n,q as c}from\"../../../../chunks/vec32.js\";import{ZEROS as l,create as u,fromValues as h}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ViewingMode as f}from\"../../../ViewingMode.js\";import{newLayout as m}from\"../../support/buffer/InterleavedLayout.js\";import{is3DGeometryOutputMRT as p,isShadowRelatedOutput as d,is3DGeometryOutput as g,ShaderOutput as T,isColorOrColorEmission as x}from\"../core/shaderLibrary/ShaderOutput.js\";import{NormalType as _}from\"../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{EmissionSource as v}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{NormalsDoubleSidedMode as b}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as S}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{olidEnabled as O}from\"../effects/geometry/olidUtils.js\";import{CullFaceOptions as M}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as w}from\"../lib/GLTextureMaterial.js\";import{Material as R}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as C}from\"../lib/OrderIndependentTransparency.js\";import{intersectTriangleGeometry as y}from\"../lib/RayIntersections.js\";import{RenderSlot as A}from\"../lib/RenderSlot.js\";import{VertexAttribute as I}from\"../lib/VertexAttribute.js\";import{getVerticalOffsetObject3D as P}from\"../lib/verticalOffsetUtils.js\";import{DefaultBufferWriter as j}from\"./DefaultBufferWriter.js\";import{verticalOffsetAtDistance as D}from\"./internal/MaterialUtil.js\";import{DefaultMaterialTechnique as L,DefaultMaterialPassParameters as N}from\"../shaders/DefaultMaterialTechnique.js\";import{DefaultMaterialTechniqueConfiguration as E}from\"../shaders/DefaultMaterialTechniqueConfiguration.js\";import{RealisticTreeTechnique as V}from\"../shaders/RealisticTreeTechnique.js\";import{alphaCutoff as B}from\"../../../../webscene/support/AlphaCutoff.js\";class z extends R{constructor(e,r){super(e,U),this.materialType=\"default\",this.supportsEdges=!0,this.produces=new Map([[A.OPAQUE_MATERIAL,e=>(p(e)||d(e))&&!this.parameters.transparent],[A.TRANSPARENT_MATERIAL,e=>(p(e)||d(e))&&this.parameters.transparent&&this.parameters.writeDepth],[A.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>(g(e)||d(e))&&this.parameters.transparent&&!this.parameters.writeDepth]]),this._vertexBufferLayout=k(this.parameters),this._configuration=new E(r.spherical,r.doublePrecisionRequiresObfuscation)}isVisibleForOutput(e){return e!==T.Shadow&&e!==T.ShadowExcludeHighlight&&e!==T.ShadowHighlight||this.parameters.castShadows}get visible(){const e=this.parameters;if(e.layerOpacity<B)return!1;const{hasInstancedColor:r,hasVertexColors:t,hasSymbolColors:i,vvColor:s}=e,o=r||s||i,a=\"replace\"===e.colorMixMode,n=e.opacity>=B;if(t&&o)return a||n;const c=e.externalColor&&e.externalColor[3]>=B;return t?a?c:n:o?a||n:a?c:n}get hasEmissions(){return!!this.parameters.emissiveTextureId||!e(this.parameters.emissiveFactor,l)}getConfiguration(e,r){const t=this.parameters,{treeRendering:i,doubleSided:s,doubleSidedType:o}=t;return this._configuration.output=e,this._configuration.hasNormalTexture=!i&&!!t.normalTextureId,this._configuration.hasColorTexture=!!t.textureId,this._configuration.hasVertexTangents=!i&&t.hasVertexTangents,this._configuration.instanced=t.isInstanced,this._configuration.instancedDoublePrecision=t.instancedDoublePrecision,this._configuration.vvSize=!!t.vvSize,this._configuration.hasVerticalOffset=null!=t.verticalOffset,this._configuration.hasScreenSizePerspective=null!=t.screenSizePerspective,this._configuration.hasSlicePlane=t.hasSlicePlane,this._configuration.alphaDiscardMode=t.textureAlphaMode,this._configuration.normalType=i?_.Attribute:t.normalType,this._configuration.transparent=t.transparent,this._configuration.writeDepth=t.writeDepth,null!=t.customDepthTest&&(this._configuration.customDepthTest=t.customDepthTest),this._configuration.hasOccludees=r.hasOccludees,this._configuration.cullFace=t.hasSlicePlane?M.None:t.cullFace,this._configuration.cullAboveTerrain=r.cullAboveTerrain,this._configuration.hasModelTransformation=!i&&null!=t.modelTransformation,this._configuration.hasVertexColors=t.hasVertexColors,this._configuration.hasSymbolColors=t.hasSymbolColors,this._configuration.doubleSidedMode=i?b.WindingOrder:s&&\"normal\"===o?b.View:s&&\"winding-order\"===o?b.WindingOrder:b.None,this._configuration.instancedColor=t.hasInstancedColor,x(e)?(this._configuration.terrainDepthTest=r.terrainDepthTest,this._configuration.receiveShadows=t.receiveShadows,this._configuration.receiveAmbientOcclusion=t.receiveAmbientOcclusion&&null!=r.ssao):(this._configuration.terrainDepthTest=!1,this._configuration.receiveShadows=this._configuration.receiveAmbientOcclusion=!1),this._configuration.vvColor=!!t.vvColor,this._configuration.textureAlphaPremultiplied=!!t.textureAlphaPremultiplied,this._configuration.pbrMode=t.usePBR?t.isSchematic?S.Schematic:S.Normal:S.Disabled,this._configuration.hasMetallicRoughnessTexture=!i&&!!t.metallicRoughnessTextureId,this._configuration.emissionSource=i?v.None:null!=t.emissiveTextureId?v.Texture:t.usePBR?v.Value:v.None,this._configuration.hasOcclusionTexture=!i&&!!t.occlusionTextureId,this._configuration.offsetBackfaces=!(!t.transparent||!t.offsetTransparentBackfaces),this._configuration.oitPass=r.oitPass,this._configuration.enableOffset=r.camera.relativeElevation<C,this._configuration.snowCover=W(r),this._configuration.hasColorTextureTransform=!!t.colorTextureTransformMatrix,this._configuration.hasNormalTextureTransform=!!t.normalTextureTransformMatrix,this._configuration.hasEmissionTextureTransform=!!t.emissiveTextureTransformMatrix,this._configuration.hasOcclusionTextureTransform=!!t.occlusionTextureTransformMatrix,this._configuration.hasMetallicRoughnessTextureTransform=!!t.metallicRoughnessTextureTransformMatrix,this._configuration}intersect(e,l,u,h,m,p){if(null!=this.parameters.verticalOffset){const e=u.camera;r(Q,l[12],l[13],l[14]);let p=null;switch(u.viewingMode){case f.Global:p=i(Y,Q);break;case f.Local:p=t(Y,H)}let d=0;const g=s(K,Q,e.eye),T=o(g),x=a(g,g,1/T);let _=null;this.parameters.screenSizePerspective&&(_=n(p,x)),d+=D(e,T,this.parameters.verticalOffset,_??0,this.parameters.screenSizePerspective),a(p,p,d),c(J,p,u.transform.inverseRotation),h=s(F,h,J),m=s(G,m,J)}y(e,u,h,m,P(u.verticalOffset),p)}createGLMaterial(e){return new q(e)}createBufferWriter(){return new j(this._vertexBufferLayout)}}class q extends w{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){this._material.setParameters({receiveShadows:e.shadowMap.enabled});const t=this._material.parameters;this.updateTexture(t.textureId);const i=e.camera.viewInverseTransposeMatrix;return r(t.origin,i[3],i[7],i[11]),this._material.setParameters(this.textureBindParameters),this.getTechnique(t.treeRendering?V:L,e)}}class U extends N{constructor(){super(...arguments),this.treeRendering=!1,this.hasVertexTangents=!1}}function W(e){return null!=e.weather&&e.weatherVisible&&\"snowy\"===e.weather.type&&\"enabled\"===e.weather.snowCover}function k(e){const r=m().vec3f(I.POSITION);e.normalType===_.Compressed?r.vec2i16(I.NORMALCOMPRESSED,{glNormalized:!0}):r.vec3f(I.NORMAL),e.hasVertexTangents&&r.vec4f(I.TANGENT);return(e.textureId||e.normalTextureId||e.metallicRoughnessTextureId||e.emissiveTextureId||e.occlusionTextureId)&&r.vec2f(I.UV0),e.hasVertexColors&&r.vec4u8(I.COLOR),e.hasSymbolColors&&r.vec4u8(I.SYMBOLCOLOR),O()&&r.vec4u8(I.OBJECTANDLAYERIDCOLOR),r}const F=u(),G=u(),H=h(0,0,1),Y=u(),J=u(),Q=u(),K=u();export{q as DefaultGLMaterial,z as DefaultMaterial,U as DefaultMaterialParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{colorGamma as i}from\"../../../../../../colorUtils.js\";import{neverReached as n}from\"../../../../../../core/compilerUtils.js\";import{EvaluateAmbientLighting as e}from\"./EvaluateAmbientLighting.glsl.js\";import{EvaluateAmbientOcclusion as o}from\"./EvaluateAmbientOcclusion.glsl.js\";import{addMainLightDirection as t,addMainLightIntensity as a,applyShading as r}from\"./MainLighting.glsl.js\";import{PhysicallyBasedRendering as l}from\"./PhysicallyBasedRendering.glsl.js\";import{PBRMode as c}from\"./PhysicallyBasedRenderingParameters.glsl.js\";import{PiUtils as d}from\"./PiUtils.glsl.js\";import{BooleanBindUniform as s}from\"../../shaderModules/BooleanBindUniform.js\";import{FloatBindUniform as m}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as g}from\"../../shaderModules/glsl.js\";import{ambientBoost as h}from\"../../../lighting/SceneLighting.js\";function u(i){i.constants.add(\"ambientBoostFactor\",\"float\",h)}function p(i){i.uniforms.add(new m(\"lightingGlobalFactor\",(i=>i.lighting.globalFactor)))}function v(h,v){const f=h.fragment;switch(h.include(o,v),v.pbrMode!==c.Disabled&&h.include(l,v),h.include(e,v),h.include(d),f.code.add(g`\n    const float GAMMA_SRGB = ${g.float(i)};\n    const float INV_GAMMA_SRGB = 0.4761904;\n    ${v.pbrMode===c.Disabled?\"\":\"const vec3 GROUND_REFLECTANCE = vec3(0.2);\"}\n  `),u(f),p(f),t(f),f.code.add(g`\n    float additionalDirectedAmbientLight(vec3 vPosWorld) {\n      float vndl = dot(${v.spherical?g`normalize(vPosWorld)`:g`vec3(0.0, 0.0, 1.0)`}, mainLightDirection);\n      return smoothstep(0.0, 1.0, clamp(vndl * 2.5, 0.0, 1.0));\n    }\n  `),a(f),f.code.add(g`vec3 evaluateAdditionalLighting(float ambientOcclusion, vec3 vPosWorld) {\nfloat additionalAmbientScale = additionalDirectedAmbientLight(vPosWorld);\nreturn (1.0 - ambientOcclusion) * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor * mainLightIntensity;\n}`),v.pbrMode){case c.Disabled:case c.WaterOnIntegratedMesh:case c.Water:h.include(r),f.code.add(g`vec3 evaluateSceneLighting(vec3 normalWorld, vec3 albedo, float shadow, float ssao, vec3 additionalLight) {\nvec3 mainLighting = applyShading(normalWorld, shadow);\nvec3 ambientLighting = calculateAmbientIrradiance(normalWorld, ssao);\nvec3 albedoLinear = pow(albedo, vec3(GAMMA_SRGB));\nvec3 totalLight = mainLighting + ambientLighting + additionalLight;\ntotalLight = min(totalLight, vec3(PI));\nvec3 outColor = vec3((albedoLinear / PI) * totalLight);\nreturn pow(outColor, vec3(INV_GAMMA_SRGB));\n}`);break;case c.Normal:case c.Schematic:f.code.add(g`const float fillLightIntensity = 0.25;\nconst float horizonLightDiffusion = 0.4;\nconst float additionalAmbientIrradianceFactor = 0.02;\nvec3 evaluateSceneLightingPBR(vec3 normal, vec3 albedo, float shadow, float ssao, vec3 additionalLight, vec3 viewDir, vec3 normalGround, vec3 mrr, vec4 _emission, float additionalAmbientIrradiance)\n{\nvec3 viewDirection = -viewDir;\nvec3 h = normalize(viewDirection + mainLightDirection);\nPBRShadingInfo inputs;\ninputs.NdotV = clamp(abs(dot(normal, viewDirection)), 0.001, 1.0);\ninputs.NdotNG = clamp(dot(normal, normalGround), -1.0, 1.0);\nvec3 reflectedView = normalize(reflect(viewDirection, normal));\ninputs.RdotNG = clamp(dot(reflectedView, normalGround), -1.0, 1.0);\ninputs.albedoLinear = pow(albedo, vec3(GAMMA_SRGB));\ninputs.ssao = ssao;\ninputs.metalness = mrr[0];\ninputs.roughness = clamp(mrr[1] * mrr[1], 0.001, 0.99);`),f.code.add(g`inputs.f0 = (0.16 * mrr[2] * mrr[2]) * (1.0 - inputs.metalness) + inputs.albedoLinear * inputs.metalness;\ninputs.f90 = vec3(clamp(dot(inputs.f0, vec3(50.0 * 0.33)), 0.0, 1.0));\ninputs.diffuseColor = inputs.albedoLinear * (vec3(1.0) - inputs.f0) * (1.0 - inputs.metalness);`),v.useFillLights?f.uniforms.add(new s(\"hasFillLights\",(i=>i.enableFillLights))):f.constants.add(\"hasFillLights\",\"bool\",!1),f.code.add(g`vec3 ambientDir = vec3(5.0 * normalGround[1] - normalGround[0] * normalGround[2], - 5.0 * normalGround[0] - normalGround[2] * normalGround[1], normalGround[1] * normalGround[1] + normalGround[0] * normalGround[0]);\nambientDir = ambientDir != vec3(0.0) ? normalize(ambientDir) : normalize(vec3(5.0, -1.0, 0.0));\ninputs.NdotAmbDir = hasFillLights ? abs(dot(normal, ambientDir)) : 1.0;\nfloat NdotL = clamp(dot(normal, mainLightDirection), 0.001, 1.0);\nvec3 mainLightIrradianceComponent = NdotL * (1.0 - shadow) * mainLightIntensity;\nvec3 fillLightsIrradianceComponent = inputs.NdotAmbDir * mainLightIntensity * fillLightIntensity;\nvec3 ambientLightIrradianceComponent = calculateAmbientIrradiance(normal, ssao) + additionalLight;\ninputs.skyIrradianceToSurface = ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;\ninputs.groundIrradianceToSurface = GROUND_REFLECTANCE * ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;`),f.uniforms.add(new m(\"lightingSpecularStrength\",(i=>i.lighting.mainLight.specularStrength)),new m(\"lightingEnvironmentStrength\",(i=>i.lighting.mainLight.environmentStrength))).code.add(g`vec3 horizonRingDir = inputs.RdotNG * normalGround - reflectedView;\nvec3 horizonRingH = normalize(viewDirection + horizonRingDir);\ninputs.NdotH_Horizon = dot(normal, horizonRingH);\nfloat NdotH = clamp(dot(normal, h), 0.0, 1.0);\nvec3 mainLightRadianceComponent = lightingSpecularStrength * normalDistribution(NdotH, inputs.roughness) * mainLightIntensity * (1.0 - shadow);\nvec3 horizonLightRadianceComponent = lightingEnvironmentStrength * normalDistribution(inputs.NdotH_Horizon, min(inputs.roughness + horizonLightDiffusion, 1.0)) * mainLightIntensity * fillLightIntensity;\nvec3 ambientLightRadianceComponent = lightingEnvironmentStrength * calculateAmbientRadiance(ssao) + additionalLight;\nfloat normalDirectionModifier = mix(1., min(mix(0.1, 2.0, (inputs.NdotNG + 1.) * 0.5), 1.0), clamp(inputs.roughness * 5.0, 0.0 , 1.0));\ninputs.skyRadianceToSurface = (ambientLightRadianceComponent + horizonLightRadianceComponent) * normalDirectionModifier + mainLightRadianceComponent;\ninputs.groundRadianceToSurface = 0.5 * GROUND_REFLECTANCE * (ambientLightRadianceComponent + horizonLightRadianceComponent) * normalDirectionModifier + mainLightRadianceComponent;\ninputs.averageAmbientRadiance = ambientLightIrradianceComponent[1] * (1.0 + GROUND_REFLECTANCE[1]);`),f.code.add(g`\n        vec3 reflectedColorComponent = evaluateEnvironmentIllumination(inputs);\n        vec3 additionalMaterialReflectanceComponent = inputs.albedoLinear * additionalAmbientIrradiance;\n        vec3 emissionComponent = _emission.rgb == vec3(0.0) ? _emission.rgb : pow(_emission.rgb, vec3(GAMMA_SRGB));\n        vec3 outColorLinear = reflectedColorComponent + additionalMaterialReflectanceComponent + emissionComponent;\n        ${v.pbrMode!==c.Schematic||v.hasColorTexture?g`vec3 outColor = pow(blackLevelSoftCompression(outColorLinear, inputs), vec3(INV_GAMMA_SRGB));`:g`vec3 outColor = pow(max(vec3(0.0), outColorLinear - 0.005 * inputs.averageAmbientRadiance), vec3(INV_GAMMA_SRGB));`}\n        return outColor;\n      }\n    `);break;case c.Simplified:case c.TerrainWithWater:t(f),a(f),f.code.add(g`const float roughnessTerrain = 0.5;\nconst float specularityTerrain = 0.5;\nconst vec3 fresnelReflectionTerrain = vec3(0.04);\nvec3 evaluatePBRSimplifiedLighting(vec3 n, vec3 c, float shadow, float ssao, vec3 al, vec3 vd, vec3 nup) {\nvec3 viewDirection = -vd;\nvec3 h = normalize(viewDirection + mainLightDirection);\nfloat NdotL = clamp(dot(n, mainLightDirection), 0.001, 1.0);\nfloat NdotV = clamp(abs(dot(n, viewDirection)), 0.001, 1.0);\nfloat NdotH = clamp(dot(n, h), 0.0, 1.0);\nfloat NdotNG = clamp(dot(n, nup), -1.0, 1.0);\nvec3 albedoLinear = pow(c, vec3(GAMMA_SRGB));\nfloat lightness = 0.3 * albedoLinear[0] + 0.5 * albedoLinear[1] + 0.2 * albedoLinear[2];\nvec3 f0 = (0.85 * lightness + 0.15) * fresnelReflectionTerrain;\nvec3 f90 =  vec3(clamp(dot(f0, vec3(50.0 * 0.33)), 0.0, 1.0));\nvec3 mainLightIrradianceComponent = (1. - shadow) * NdotL * mainLightIntensity;\nvec3 ambientLightIrradianceComponent = calculateAmbientIrradiance(n, ssao) + al;\nvec3 ambientSky = ambientLightIrradianceComponent + mainLightIrradianceComponent;\nvec3 indirectDiffuse = ((1.0 - NdotNG) * mainLightIrradianceComponent + (1.0 + NdotNG ) * ambientSky) * 0.5;\nvec3 outDiffColor = albedoLinear * (1.0 - f0) * indirectDiffuse / PI;\nvec3 mainLightRadianceComponent = normalDistribution(NdotH, roughnessTerrain) * mainLightIntensity;\nvec2 dfg = prefilteredDFGAnalytical(roughnessTerrain, NdotV);\nvec3 specularColor = f0 * dfg.x + f90 * dfg.y;\nvec3 specularComponent = specularityTerrain * specularColor * mainLightRadianceComponent;\nvec3 outColorLinear = outDiffColor + specularComponent;\nvec3 outColor = pow(outColorLinear, vec3(INV_GAMMA_SRGB));\nreturn outColor;\n}`);break;default:n(v.pbrMode);case c.COUNT:}}export{v as EvaluateSceneLighting,u as addAmbientBoostFactor,p as addLightingGlobalFactor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ForwardLinearDepth as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{Offset as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{isColorOrColorEmission as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{InstancedDoublePrecision as l}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{NormalAttribute as s,NormalType as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as d}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{TextureCoordinateAttribute as c}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{VertexColor as m}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{VertexNormal as g}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js\";import{VerticalOffset as v}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{DefaultMaterialAuxiliaryPasses as u}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{ComputeNormalTexture as b}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js\";import{EvaluateAmbientOcclusion as w}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as h,addAmbientBoostFactor as p,addLightingGlobalFactor as f}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{addMainLightIntensity as x}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js\";import{Normals as y}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js\";import{PhysicallyBasedRendering as L}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{PhysicallyBasedRenderingParameters as C,PBRMode as j}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{ReadShadowMapPass as P,ReadShadowMapDraw as O}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{terrainDepthTest as N}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{colorTextureUV as S,normalTextureUV as T,emissiveTextureUV as A,occlusionTextureUV as V,metallicRoughnessTextureUV as M}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TextureTransformUV.glsl.js\";import{VisualVariables as $}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{DiscardOrAdjustAlphaPass as D}from\"../views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlpha.glsl.js\";import{MixExternalColor as E}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";import{addProjViewLocalOrigin as U,addCameraPosition as B}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float3PassUniform as I}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as F}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as _}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as R,If as z}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as G}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as W}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as k}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{ShaderBuilder as H}from\"../views/webgl/ShaderBuilder.js\";import{alphaCutoff as q}from\"../webscene/support/AlphaCutoff.js\";function J(J){const K=new H,{vertex:Q,fragment:X,varyings:Y}=K,{output:Z,normalType:ee,offsetBackfaces:re,instancedColor:oe,spherical:ie,receiveShadows:ae,snowCover:le,pbrMode:se,textureAlphaPremultiplied:ne,instancedDoublePrecision:te,hasVertexColors:de,hasVertexTangents:ce,hasColorTexture:me,hasNormalTexture:ge,hasNormalTextureTransform:ve,hasColorTextureTransform:ue}=J;if(U(Q,J),K.include(t),Y.add(\"vpos\",\"vec3\"),K.include($,J),K.include(l,J),K.include(v,J),K.include(S,J),!o(Z))return K.include(u,J),K;K.include(T,J),K.include(A,J),K.include(V,J),K.include(M,J),B(Q,J),K.include(s,J),K.include(a,J);const be=ee===n.Attribute||ee===n.Compressed;return be&&re&&K.include(r),K.include(b,J),K.include(g,J),oe&&K.attributes.add(W.INSTANCECOLOR,\"vec4\"),Y.add(\"vPositionLocal\",\"vec3\"),K.include(c,J),K.include(e,J),K.include(d,J),K.include(m,J),Q.uniforms.add(new F(\"externalColor\",(e=>e.externalColor))),Y.add(\"vcolorExt\",\"vec4\"),K.include(N,J),Q.main.add(R`\n    forwardNormalizedVertexColor();\n    vcolorExt = externalColor;\n    ${z(oe,\"vcolorExt *= instanceColor * 0.003921568627451;\")}\n    vcolorExt *= vvColor();\n    vcolorExt *= getSymbolColor();\n    forwardColorMixMode();\n\n    vpos = getVertexInLocalOriginSpace();\n    vPositionLocal = vpos - view[3].xyz;\n    vpos = subtractOrigin(vpos);\n    ${z(be,\"vNormalWorld = dpNormal(vvLocalNormal(normalModel()));\")}\n    vpos = addVerticalOffset(vpos, localOrigin);\n    ${z(ce,\"vTangent = dpTransformVertexTangent(tangent);\")}\n    gl_Position = transformPosition(proj, view, vpos);\n    ${z(be&&re,\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, cameraPosition);\")}\n\n    forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n    forwardLinearDepth();\n    forwardTextureCoordinates();\n    forwardColorUV();\n    forwardNormalUV();\n    forwardEmissiveUV();\n    forwardOcclusionUV();\n    forwardMetallicRoughnessUV();\n\n    if (vcolorExt.a < ${R.float(q)}) {\n      gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n    }\n  `),K.include(h,J),K.include(w,J),K.include(D,J),K.include(te?P:O,J),K.fragment.include(i,J),K.include(k,J),B(X,J),X.uniforms.add(Q.uniforms.get(\"localOrigin\"),new I(\"ambient\",(e=>e.ambient)),new I(\"diffuse\",(e=>e.diffuse)),new _(\"opacity\",(e=>e.opacity)),new _(\"layerOpacity\",(e=>e.layerOpacity))),me&&X.uniforms.add(new G(\"tex\",(e=>e.texture))),K.include(C,J),K.include(L,J),X.include(E),K.include(y,J),p(X),f(X),x(X),X.main.add(R`\n    discardBySlice(vpos);\n    discardByTerrainDepth();\n    ${me?R`\n            vec4 texColor = texture(tex, ${ue?\"colorUV\":\"vuv0\"});\n            ${z(ne,\"texColor.rgb /= texColor.a;\")}\n            discardOrAdjustAlpha(texColor);`:R`vec4 texColor = vec4(1.0);`}\n    shadingParams.viewDirection = normalize(vpos - cameraPosition);\n    ${ee===n.ScreenDerivative?R`vec3 normal = screenDerivativeNormal(vPositionLocal);`:R`shadingParams.normalView = vNormalWorld;\n                vec3 normal = shadingNormal(shadingParams);`}\n    applyPBRFactors();\n    float ssao = evaluateAmbientOcclusionInverse() * getBakedOcclusion();\n\n    vec3 posWorld = vpos + localOrigin;\n\n      float additionalAmbientScale = additionalDirectedAmbientLight(posWorld);\n      float shadow = ${ae?\"max(lightingGlobalFactor * (1.0 - additionalAmbientScale), readShadowMap(vpos, linearDepth))\":z(ie,\"lightingGlobalFactor * (1.0 - additionalAmbientScale)\",\"0.0\")};\n\n    vec3 matColor = max(ambient, diffuse);\n    vec3 albedo = mixExternalColor(${z(de,\"vColor.rgb *\")} matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n    float opacity_ = layerOpacity * mixExternalOpacity(${z(de,\"vColor.a * \")} opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n    ${ge?`mat3 tangentSpace = computeTangentSpace(${ce?\"normal\":\"normal, vpos, vuv0\"});\\n            vec3 shadingNormal = computeTextureNormal(tangentSpace, ${ve?\"normalUV\":\"vuv0\"});`:\"vec3 shadingNormal = normal;\"}\n    vec3 normalGround = ${ie?\"normalize(posWorld);\":\"vec3(0.0, 0.0, 1.0);\"}\n\n    ${z(le,R`\n          float snow = smoothstep(0.5, 0.55, dot(normal, normalGround));\n          albedo = mix(albedo, vec3(1), snow);\n          shadingNormal = mix(shadingNormal, normal, snow);\n          ssao = mix(ssao, 1.0, snow);`)}\n\n    vec3 additionalLight = ssao * mainLightIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n\n    ${se===j.Normal||se===j.Schematic?R`\n            float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * mainLightIntensity[2];\n            ${z(le,R`mrr = mix(mrr, vec3(0.0, 1.0, 0.04), snow);`)}\n            vec4 emission = ${le?\"mix(getEmissions(), vec4(0.0), snow)\":\"getEmissions()\"};\n            vec3 shadedColor = evaluateSceneLightingPBR(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight, shadingParams.viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:R`vec3 shadedColor = evaluateSceneLighting(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight);`}\n    vec4 finalColor = vec4(shadedColor, opacity_);\n    outputColorHighlightOID(finalColor, vpos);\n  `),K}const K=Object.freeze(Object.defineProperty({__proto__:null,build:J},Symbol.toStringTag,{value:\"Module\"}));export{K as D,J as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{i as e}from\"../../../../../../chunks/vec32.js\";import{create as a}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Float3PassUniform as r}from\"../../shaderModules/Float3PassUniform.js\";import{glsl as c}from\"../../shaderModules/glsl.js\";function s(e){e.vertex.code.add(c`float screenSizePerspectiveViewAngleDependentFactor(float absCosAngle) {\nreturn absCosAngle * absCosAngle * absCosAngle;\n}`),e.vertex.code.add(c`vec3 screenSizePerspectiveScaleFactor(float absCosAngle, float distanceToCamera, vec3 params) {\nreturn vec3(\nmin(params.x / (distanceToCamera - params.y), 1.0),\nscreenSizePerspectiveViewAngleDependentFactor(absCosAngle),\nparams.z\n);\n}`),e.vertex.code.add(c`float applyScreenSizePerspectiveScaleFactorFloat(float size, vec3 factor) {\nreturn mix(size * clamp(factor.x, factor.z, 1.0), size, factor.y);\n}`),e.vertex.code.add(c`float screenSizePerspectiveScaleFloat(float size, float absCosAngle, float distanceToCamera, vec3 params) {\nreturn applyScreenSizePerspectiveScaleFactorFloat(\nsize,\nscreenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params)\n);\n}`),e.vertex.code.add(c`vec2 applyScreenSizePerspectiveScaleFactorVec2(vec2 size, vec3 factor) {\nreturn mix(size * clamp(factor.x, factor.z, 1.0), size, factor.y);\n}`),e.vertex.code.add(c`vec2 screenSizePerspectiveScaleVec2(vec2 size, float absCosAngle, float distanceToCamera, vec3 params) {\nreturn applyScreenSizePerspectiveScaleFactorVec2(size, screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params));\n}`)}function t(e){e.uniforms.add(new r(\"screenSizePerspective\",(e=>i(e.screenSizePerspective))))}function o(e){e.uniforms.add(new r(\"screenSizePerspectiveAlignment\",(e=>i(e.screenSizePerspectiveAlignment||e.screenSizePerspective))))}function i(a){return e(n,a.parameters.divisor,a.parameters.offset,a.minScaleFactor)}const n=a();export{s as ScreenSizePerspective,t as addScreenSizePerspective,o as addScreenSizePerspectiveAlignment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{IDENTITY as e}from\"../../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{ONES as t}from\"../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{TextureCoordinateType as r}from\"../attributes/TextureCoordinateAttribute.glsl.js\";import{VertexTextureCoordinates as a}from\"../attributes/VertexTextureCoordinates.glsl.js\";import{NormalsDoubleSidedMode as n}from\"./Normals.glsl.js\";import{Float2PassUniform as o}from\"../../shaderModules/Float2PassUniform.js\";import{glsl as s}from\"../../shaderModules/glsl.js\";import{Matrix3PassUniform as m}from\"../../shaderModules/Matrix3PassUniform.js\";import{Texture2DDrawUniform as d}from\"../../shaderModules/Texture2DDrawUniform.js\";import{Texture2DPassUniform as l}from\"../../shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as i}from\"../../../lib/VertexAttribute.js\";import{BindType as c}from\"../../../../../webgl/BindType.js\";function T(T,u){const x=T.fragment;u.hasVertexTangents?(T.attributes.add(i.TANGENT,\"vec4\"),T.varyings.add(\"vTangent\",\"vec4\"),u.doubleSidedMode===n.WindingOrder?x.code.add(s`mat3 computeTangentSpace(vec3 normal) {\nfloat tangentHeadedness = gl_FrontFacing ? vTangent.w : -vTangent.w;\nvec3 tangent = normalize(gl_FrontFacing ? vTangent.xyz : -vTangent.xyz);\nvec3 bitangent = cross(normal, tangent) * tangentHeadedness;\nreturn mat3(tangent, bitangent, normal);\n}`):x.code.add(s`mat3 computeTangentSpace(vec3 normal) {\nfloat tangentHeadedness = vTangent.w;\nvec3 tangent = normalize(vTangent.xyz);\nvec3 bitangent = cross(normal, tangent) * tangentHeadedness;\nreturn mat3(tangent, bitangent, normal);\n}`)):x.code.add(s`mat3 computeTangentSpace(vec3 normal, vec3 pos, vec2 st) {\nvec3 Q1 = dFdx(pos);\nvec3 Q2 = dFdy(pos);\nvec2 stx = dFdx(st);\nvec2 sty = dFdy(st);\nfloat det = stx.t * sty.s - sty.t * stx.s;\nvec3 T = stx.t * Q2 - sty.t * Q1;\nT = T - normal * dot(normal, T);\nT *= inversesqrt(max(dot(T,T), 1.e-10));\nvec3 B = sign(det) * cross(normal, T);\nreturn mat3(T, B, normal);\n}`),u.textureCoordinateType!==r.None&&(T.include(a,u),x.uniforms.add(u.bindType===c.Pass?new l(\"normalTexture\",(e=>e.textureNormal)):new d(\"normalTexture\",(e=>e.textureNormal))),u.hasNormalTextureTransform&&(x.uniforms.add(new o(\"scale\",(e=>e.scale??t))),x.uniforms.add(new m(\"normalTextureTransformMatrix\",(t=>t.normalTextureTransformMatrix??e)))),x.code.add(s`vec3 computeTextureNormal(mat3 tangentSpace, vec2 uv) {\nvec3 rawNormal = textureLookup(normalTexture, uv).rgb * 2.0 - 1.0;`),u.hasNormalTextureTransform&&x.code.add(s`mat3 normalTextureRotation = mat3(normalTextureTransformMatrix[0][0]/scale[0], normalTextureTransformMatrix[0][1]/scale[1], 0.0,\nnormalTextureTransformMatrix[1][0]/scale[0], normalTextureTransformMatrix[1][1]/scale[1], 0.0,\n0.0, 0.0, 0.0 );\nrawNormal.xy = (normalTextureRotation * vec3(rawNormal.x, rawNormal.y, 1.0)).xy;`),x.code.add(s`return tangentSpace * rawNormal;\n}`))}export{T as ComputeNormalTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ColorMixModeEnum as e}from\"../../../../layers/support/symbolColorUtils.js\";import{ColorConversion as t}from\"./ColorConversion.glsl.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";function i(i){i.include(t),i.code.add(r`\n    vec3 mixExternalColor(vec3 internalColor, vec3 textureColor, vec3 externalColor, int mode) {\n      // workaround for artifacts in macOS using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      vec3 internalMixed = internalColor * textureColor;\n      vec3 allMixed = internalMixed * externalColor;\n\n      if (mode == ${r.int(e.Multiply)}) {\n        return allMixed;\n      }\n      if (mode == ${r.int(e.Ignore)}) {\n        return internalMixed;\n      }\n      if (mode == ${r.int(e.Replace)}) {\n        return externalColor;\n      }\n\n      // tint (or something invalid)\n      float vIn = rgb2v(internalMixed);\n      vec3 hsvTint = rgb2hsv(externalColor);\n      vec3 hsvOut = vec3(hsvTint.x, hsvTint.y, vIn * hsvTint.z);\n      return hsv2rgb(hsvOut);\n    }\n\n    float mixExternalOpacity(float internalOpacity, float textureOpacity, float externalOpacity, int mode) {\n      // workaround for artifacts in macOS using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      float internalMixed = internalOpacity * textureOpacity;\n      float allMixed = internalMixed * externalOpacity;\n\n      if (mode == ${r.int(e.Ignore)}) {\n        return internalMixed;\n      }\n      if (mode == ${r.int(e.Replace)}) {\n        return externalOpacity;\n      }\n\n      // multiply or tint (or something invalid)\n      return allMixed;\n    }\n  `)}export{i as MixExternalColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/glsl.js\";import{Texture2DBindUniform as s}from\"../../shaderModules/Texture2DBindUniform.js\";import{blurSizePixels as r}from\"../../../effects/ssao/SSAO.js\";function t(t,o){const n=t.fragment;o.receiveAmbientOcclusion?(n.uniforms.add(new s(\"ssaoTex\",(e=>e.ssao?.getTexture()))),n.constants.add(\"blurSizePixelsInverse\",\"float\",1/r),n.code.add(e`float evaluateAmbientOcclusionInverse() {\nvec2 ssaoTextureSizeInverse = 1.0 / vec2(textureSize(ssaoTex, 0));\nreturn texture(ssaoTex, gl_FragCoord.xy * blurSizePixelsInverse * ssaoTextureSizeInverse).r;\n}\nfloat evaluateAmbientOcclusion() {\nreturn 1.0 - evaluateAmbientOcclusionInverse();\n}`)):n.code.add(e`float evaluateAmbientOcclusionInverse() { return 1.0; }\nfloat evaluateAmbientOcclusion() { return 0.0; }`)}export{t as EvaluateAmbientOcclusion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as o}from\"../../../../webgl/Uniform.js\";class t extends o{constructor(o,t,e){super(o,\"mat4\",r.Draw,((r,e,s,m)=>r.setUniformMatrix4fv(o,t(e,s,m))),e)}}export{t as Matrix4sDrawUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{IDENTITY as e}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as s}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Rgba4FloatEncoding as a}from\"../util/RgbaFloat16Encoding.glsl.js\";import{Float4BindUniform as t}from\"../../shaderModules/Float4BindUniform.js\";import{glsl as o}from\"../../shaderModules/glsl.js\";import{IntegerBindUniform as i}from\"../../shaderModules/IntegerBindUniform.js\";import{Matrix4sDrawUniform as r}from\"../../shaderModules/Matrix4sDrawUniform.js\";import{Matrix4sPassUniform as d}from\"../../shaderModules/Matrix4sPassUniform.js\";import{Texture2DBindUniform as c}from\"../../shaderModules/Texture2DBindUniform.js\";import{NoParameters as p}from\"../../../../../webgl/NoParameters.js\";class n extends p{constructor(){super(...arguments),this.origin=s()}}class l extends n{}class v extends p{constructor(){super(...arguments),this.modelTransformation=e}}class h extends v{constructor(){super(...arguments),this.origin=s()}}function m(e,s){s.receiveShadows&&(e.fragment.uniforms.add(new d(\"shadowMapMatrix\",((e,s)=>s.shadowMap.getShadowMapMatrices(e.origin)),4)),f(e))}function x(e,s){s.receiveShadows&&(e.fragment.uniforms.add(new r(\"shadowMapMatrix\",((e,s)=>s.shadowMap.getShadowMapMatrices(e.origin)),4)),f(e))}function f(e){const s=e.fragment;s.include(a),s.uniforms.add(new c(\"shadowMap\",(e=>e.shadowMap.depthTexture)),new i(\"numCascades\",(e=>e.shadowMap.numCascades)),new t(\"cascadeDistances\",(e=>e.shadowMap.cascadeDistances))).code.add(o`int chooseCascade(float depth, out mat4 mat) {\nvec4 distance = cascadeDistances;\nint i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;\nmat = i == 0 ? shadowMapMatrix[0] : i == 1 ? shadowMapMatrix[1] : i == 2 ? shadowMapMatrix[2] : shadowMapMatrix[3];\nreturn i;\n}\nvec3 lightSpacePosition(vec3 _vpos, mat4 mat) {\nvec4 lv = mat * vec4(_vpos, 1.0);\nlv.xy /= lv.w;\nreturn 0.5 * lv.xyz + vec3(0.5);\n}\nvec2 cascadeCoordinates(int i, ivec2 textureSize, vec3 lvpos) {\nfloat xScale = float(textureSize.y) / float(textureSize.x);\nreturn vec2((float(i) + lvpos.x) * xScale, lvpos.y);\n}\nfloat readShadowMapDepth(ivec2 uv, sampler2D _depthTex) {\nreturn rgba4ToFloat(texelFetch(_depthTex, uv, 0));\n}\nfloat posIsInShadow(ivec2 uv, vec3 lvpos, sampler2D _depthTex) {\nreturn readShadowMapDepth(uv, _depthTex) < lvpos.z ? 1.0 : 0.0;\n}\nfloat filterShadow(vec2 uv, vec3 lvpos, ivec2 texSize, sampler2D _depthTex) {\nvec2 st = fract(uv * vec2(texSize) + vec2(0.5));\nivec2 base = ivec2(uv * vec2(texSize) - vec2(0.5));\nfloat s00 = posIsInShadow(ivec2(base.x, base.y), lvpos, _depthTex);\nfloat s10 = posIsInShadow(ivec2(base.x + 1, base.y), lvpos, _depthTex);\nfloat s11 = posIsInShadow(ivec2(base.x + 1, base.y + 1), lvpos, _depthTex);\nfloat s01 = posIsInShadow(ivec2(base.x, base.y + 1), lvpos, _depthTex);\nreturn mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n}\nfloat readShadowMap(const in vec3 _vpos, float _linearDepth) {\nmat4 mat;\nint i = chooseCascade(_linearDepth, mat);\nif (i >= numCascades) { return 0.0; }\nvec3 lvpos = lightSpacePosition(_vpos, mat);\nif (lvpos.z >= 1.0 || lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }\nivec2 size = textureSize(shadowMap, 0);\nvec2 uv = cascadeCoordinates(i, size, lvpos);\nreturn filterShadow(uv, lvpos, size, shadowMap);\n}`)}export{x as ReadShadowMapDraw,l as ReadShadowMapDrawParameters,v as ReadShadowMapParameters,m as ReadShadowMapPass,h as ReadShadowMapPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/glsl.js\";function a(a){a.code.add(o`const float MAX_RGBA4_FLOAT =\n15.0 / 16.0 +\n15.0 / 16.0 / 16.0 +\n15.0 / 16.0 / 16.0 / 16.0 +\n15.0 / 16.0 / 16.0 / 16.0 / 16.0;\nconst vec4 FIXED_POINT_FACTORS_RGBA4 = vec4(1.0, 16.0, 16.0 * 16.0, 16.0 * 16.0 * 16.0);\nvec4 floatToRgba4(const float value) {\nfloat valueInValidDomain = clamp(value, 0.0, MAX_RGBA4_FLOAT);\nvec4 fixedPointU4 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS_RGBA4) * 16.0);\nconst float toU4AsFloat = 1.0 / 15.0;\nreturn fixedPointU4 * toU4AsFloat;\n}\nconst vec4 RGBA4_2_FLOAT_FACTORS = vec4(\n15.0 / (16.0),\n15.0 / (16.0 * 16.0),\n15.0 / (16.0 * 16.0 * 16.0),\n15.0 / (16.0 * 16.0 * 16.0 * 16.0)\n);\nfloat rgba4ToFloat(vec4 rgba) {\nreturn dot(rgba, RGBA4_2_FLOAT_FACTORS);\n}`)}export{a as Rgba4FloatEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class e extends s{constructor(s,e){super(s,\"vec2\",r.Pass,((r,o,t)=>r.setUniform2fv(s,e(o,t))))}}export{e as Float2PassUniform};\n"],"names":["h","O","vertex","j","fragment","w","b","hasColorTexture","alphaDiscardMode","x","Opaque","output","C","normalType","V","hasColorTextureTransform","A","r","Depth","m","include","t","o","l","uniforms","add","f","e","texture","main","v","p","g","Shadow","ShadowHighlight","ShadowExcludeHighlight","ViewshedShadow","ObjectAndLayerIdColor","u","n","s","varyings","Normal","i","d","a","ScreenDerivative","Attribute","Compressed","Highlight","c","constructor","super","Draw","setUniform1f","hasSymbolColors","attributes","SYMBOLCOLOR","code","colorMixMode","hasVerticalOffset","hasScreenSizePerspective","spherical","minWorldLength","maxWorldLength","screenLength","verticalOffset","Math","tan","camera","fovY","fullViewport","pixelRatio","doubleSidedMode","None","View","WindingOrder","COUNT","projectionMatrix","fullWidth","fullHeight","depthTexture","colorTexture","blurSize","distance","max","projScale","float","outputs","int","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","_","z","B","k","G","U","W","offsetBackfaces","H","instancedColor","q","pbrMode","J","snowCover","K","Q","X","Schematic","S","I","INSTANCECOLOR","D","externalColor","$","N","R","receiveShadows","P","instancedDoublePrecision","L","T","get","E","ambient","diffuse","F","opacity","layerOpacity","y","M","textureAlphaPremultiplied","hasVertexColors","textureAlphaCutoff","Blend","Mask","MaskBlend","initializePipeline","colorWrite","arguments","this","intensity","consumes","required","produces","SSAO","isEnabled","_enableTime","_passParameters","_drawParameters","initialize","Uint8Array","from","atob","charCodeAt","wrapMode","CLAMP_TO_EDGE","pixelFormat","RGB","REPEAT","hasMipmap","width","height","noiseTexture","renderingContext","techniques","precompile","addHandles","destroy","render","bindParameters","find","_ref","name","getTexture","fboCache","round","compiled","performance","now","requestRender","UPDATE","acquire","RED","view","qualitySettings","fadeDuration","relativeElevation","min","normalTexture","computeScreenPixelSizeAtDist","RG","bindFramebuffer","fbo","setViewport","bindTechnique","screen","draw","release","setClearColor","clear","COLOR","setViewport4fv","prototype","constructOnly","Pass","setUniformMatrix4fv","hasModelTransformation","modelTransformation","instanced","INSTANCEMODELORIGINHI","INSTANCEMODELORIGINLO","INSTANCEMODEL","INSTANCEMODELNORMAL","viewInverseTransposeMatrix","hasVertexTangents","lightingSphericalHarmonicsOrder","lighting","sh","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","descriptor","abs","getRadius","Multiply","Ignore","Replace","Tint","transformNormalGlobalFromModel","transformNormalViewFromGlobal","toMapSpace","colorTextureTransformMatrix","hasNormalTextureTransform","textureCoordinateType","normalTextureTransformMatrix","hasEmissionTextureTransform","emissiveTextureTransformMatrix","hasOcclusionTextureTransform","occlusionTextureTransformMatrix","hasMetallicRoughnessTextureTransform","metallicRoughnessTextureTransformMatrix","NORMALCOMPRESSED","NORMAL","isSchematic","usePBR","mrrFactors","doubleSided","doubleSidedType","cullFace","Back","isInstanced","hasInstancedColor","emissiveFactor","receiveAmbientOcclusion","castShadows","origin","hasSlicePlane","offsetTransparentBackfaces","vvSize","vvColor","vvOpacity","vvSymbolAnchor","vvSymbolRotationMatrix","transparent","writeDepth","customDepthTest","Less","textureAlphaMode","renderOccluded","Occlude","isDecoration","slicePlaneLocalOrigin","length","undefined","type","_makePipeline","oitPass","hasOccludees","enableOffset","NONE","FrontFace","blending","culling","depthTest","func","depthWrite","drawBuffers","buffers","stencilWrite","stencilTest","polygonOffset","_occludeePipelineState","getPipeline","Lequal","LEQUAL","LESS","doublePrecisionRequiresObfuscation","Disabled","emissionSource","hasMetallicRoughnessTexture","hasOcclusionTexture","hasNormalTexture","terrainDepthTest","cullAboveTerrain","occlusionPass","hasVvInstancing","useCustomDTRExponentForWater","useFillLights","Texture","Default","objectAndLayerIdColorInstanced","discardInvisibleFragments","count","materialType","supportsEdges","Map","OPAQUE_MATERIAL","parameters","TRANSPARENT_MATERIAL","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","_vertexBufferLayout","vec3f","POSITION","vec2i16","glNormalized","vec4f","TANGENT","textureId","normalTextureId","metallicRoughnessTextureId","emissiveTextureId","occlusionTextureId","vec2f","UV0","vec4u8","OBJECTANDLAYERIDCOLOR","_configuration","isVisibleForOutput","visible","hasEmissions","getConfiguration","treeRendering","screenSizePerspective","ssao","Value","weather","weatherVisible","intersect","viewingMode","Global","Y","Local","eye","transform","inverseRotation","createGLMaterial","createBufferWriter","material","beginSlot","_material","setParameters","shadowMap","enabled","updateTexture","textureBindParameters","getTechnique","constants","globalFactor","WaterOnIntegratedMesh","Water","enableFillLights","mainLight","specularStrength","environmentStrength","Simplified","TerrainWithWater","Z","ee","re","oe","ie","ae","le","se","ne","te","de","ce","me","ge","ve","ue","be","screenSizePerspectiveAlignment","divisor","offset","minScaleFactor","bindType","textureNormal","scale","getShadowMapMatrices","numCascades","cascadeDistances","setUniform2fv"],"sourceRoot":""}