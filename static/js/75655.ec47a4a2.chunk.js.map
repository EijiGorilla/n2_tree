{"version":3,"file":"static/js/75655.ec47a4a2.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/EngineVisualElement.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{c as e,d as t,p as r,v as i}from\"../../../../chunks/vec32.js\";import{create as s,fromValues as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a,c as o}from\"../../../../chunks/vec42.js\";import{fromValues as l,clone as h}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{create as d,fromRay as _,getStart as c,getEnd as p}from\"../../../../geometry/support/clipRay.js\";import{intersectClipRay as u}from\"../../../../geometry/support/frustum.js\";import{create as f,fromPoints as m,pointAt as y}from\"../../../../geometry/support/lineSegment.js\";import{create as g,fromPoints as b}from\"../../../../geometry/support/ray.js\";import{EngineVisualElement as D}from\"./EngineVisualElement.js\";import{LaserlineVisualElement as O}from\"./LaserlineVisualElement.js\";import{drapedZ as w}from\"../../terrain/OverlayRenderer.js\";import{createPolylineGeometry as E}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as A}from\"../../webgl-engine/lib/Material.js\";import{RenderGeometry as j}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as R}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as C}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class G extends D{constructor(e){super(e),this._ray=g(),this._isWorldDown=!1,this._start=s(),this._end=n(1,0,0),this._width=1,this._color=l(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=l(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=M.LINE,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=A.OccludeAndTransparent,this._fadedExtensions=L,this._laserline=new O({view:this.view,isDecoration:e.isDecoration}),this.applyProperties(e)}destroy(){this._laserline.destroy(),super.destroy()}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:P,recreateGeometry:(e,t)=>this._recreateObject3DGeometry(e,t),cameraChanged:()=>this._updateGeometry()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:P,recreateGeometry:e=>this._recreateDrapedGeometry(e)}}updateVisibility(e){super.updateVisibility(e),this._laserline.visible=e}onAttachedChange(){this._laserline.attached=this._laserlineAttached}setStartEndFromWorldDownAtLocation(r){this._isWorldDown=!0,e(this._start,r),this.view.renderCoordsHelper.worldUpAtPosition(r,this._end),t(this._end,r,this._end),b(this._start,this._end,this._ray),this._updateGeometry()}get start(){return this._start}set start(t){this._isWorldDown=!1,r(this._start,t)||(e(this._start,t),b(this._start,this._end,this._ray),this._updateGeometry())}get end(){return this._end}set end(t){this._isWorldDown=!1,r(this._end,t)||(e(this._end,t),b(this._start,this._end,this._ray),this._updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){a(e,this._color)||(o(this._color,e),this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){a(e,this._innerColor)||(o(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const t=null!=e!=(null!=this._stipplePattern);this._stipplePattern=e,t?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){null!=e&&null!=this._stippleOffColor&&a(e,this._stippleOffColor)||(this._stippleOffColor=null!=e?h(e):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this.recreateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&null!=this._laserlineStyle&&this.attached&&!this.isDraped}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,this._laserline.attached=this._laserlineAttached,null!=e&&(this._laserline.style=e)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this._laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get _normalizedRenderOccluded(){return this.isDraped&&this._renderOccluded===A.OccludeAndTransparentStencil?A.OccludeAndTransparent:this._renderOccluded}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=e??L,this.recreateGeometry()}_updateMaterial(){const{materialParameters:e}=this;this.object3dResources.resources?.material.setParameters(e),this.drapedResources.resources?.material.setParameters(e)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,hasPolygonOffset:this._polygonOffset,renderOccluded:this._normalizedRenderOccluded,isDecoration:this.isDecoration,writeDepth:this._writeDepthEnabled}}_createObject3DResources(e){const t=new C(this.materialParameters),r=new Array;return this._createObject3DGeometry(t,e,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_recreateObject3DGeometry(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}_createObject3DGeometry(e,t,r){const i=this._createGeometry(e);r.push(i),t.addGeometry(i),this._updateVerticesObject3D(t)}_createDrapedResources(){const e=new C(this.materialParameters);return{material:e,geometries:[this._createDrapedGeometry(e)]}}_recreateDrapedGeometry(e){e.geometries=[this._createDrapedGeometry(e.material)]}_createDrapedGeometry(e){const t=this._createGeometry(e);return this._updateVerticesDraped(t),new j(t)}_createGeometry(e){const t=this.extensionType===M.FADED,r=t?[s(),s(),s(),s()]:[s(),s()];return E(e,r,null,t?[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]:null)}_updateGeometry(){if(this.isDraped)this.drapedResources.recreateGeometry();else{const e=this.object3dResources.object;e&&this._updateVerticesObject3D(e)}}_updateVerticesObject3D(e){const t=this._lineSegment;this._updateVertexAttributesObject3D(e,t),this._laserline.intersectsLine=t}_updateVerticesDraped(e){this._updateVertexAttributesDraped(e,this._lineSegment)}get _lineSegment(){return this._extensionType===M.FADED?this._updateLineSegmentFinite(V):this._updateLineSegmentInfinite(this._extensionType,V)}_updateLineSegmentFinite(e){return m(this._start,this._end,e)}_updateLineSegmentInfinite(e,t){const r=this.view.state.camera;switch(_(this._ray,x),e){case M.LINE:x.c0=-Number.MAX_VALUE;break;case M.RAY:case M.GROUND_RAY:{const e=this._ray.origin,t=this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,\"ground\")??0,r=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&r<t&&i(x.ray.direction,x.ray.direction),this._extensionType===M.GROUND_RAY&&null!=t&&(x.c1=Math.abs(r-t));break}}if(!u(r.frustum,x))return this._updateLineSegmentFinite(t);const s=c(x,v),n=p(x,S);return m(s,n,t)}_updateVertexAttributesObject3D(e,t){const r=e.geometries[0].getMutableAttribute(R.POSITION)?.data;if(!r)return;let i=0;for(const s of this._lineVertices(t))r[i++]=s[0],r[i++]=s[1],r[i++]=s[2];e.geometryVertexAttributeUpdated(e.geometries[0],R.POSITION)}_updateVertexAttributesDraped(e,t){const r=e.getMutableAttribute(R.POSITION)?.data;if(!r)return;let i=0;for(const s of this._lineVertices(t))r[i++]=s[0],r[i++]=s[1],r[i++]=w;e.invalidateBoundingInfo()}*_lineVertices(e){this.extensionType===M.FADED?(yield y(e,-this.fadedExtensions.start,v),yield y(e,0,v),yield y(e,1,v),yield y(e,1+this.fadedExtensions.end,v)):(yield y(e,0,v),yield y(e,1,v))}}function P(e){e.geometries=[]}const x=d(),v=s(),S=s(),V=f();var M;!function(e){e[e.LINE=0]=\"LINE\",e[e.RAY=1]=\"RAY\",e[e.GROUND_RAY=2]=\"GROUND_RAY\",e[e.FADED=3]=\"FADED\"}(M||(M={}));const T=1/3,L={start:T,end:T};export{G as ExtendedLineVisualElement,M as ExtensionType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import s from\"../../../../core/Identifiable.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{DrapeSourceType as i,DrapedRenderGroup as c}from\"../../layers/interfaces.js\";import{DirtyOperation as u}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{UpdatePolicy as n}from\"../../webgl-engine/lib/UpdatePolicy.js\";class d{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1,this._renderGroup=c.Outline}destroy(){this._destroyResources()}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}get renderGroup(){return this._renderGroup}set renderGroup(e){this._renderGroup=e;const r=this._resources?.layerView;r&&(r.renderGroup=e)}recreate(){this.attached&&this._createResources()}recreateGeometry(){this._resourceFactory.recreateGeometry?null!=this._resources&&(this._ensureRenderGeometriesRemoved(),this._resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?null==this._resources&&this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory.createResources(),r=new a({view:this._resourceFactory.view,renderGroup:this._renderGroup}),s=this._resourceFactory.view.basemapTerrain?.overlayManager;this._resources={layerView:new a({view:this._resourceFactory.view,renderGroup:this._renderGroup}),external:e,geometriesAdded:!1},s&&(this._resources.drapeSourceRenderer=s.registerGeometryDrapeSource(r)),this._syncGeometriesToRenderer()}_destroyResources(){if(null==this._resources)return;this._ensureRenderGeometriesRemoved();const e=this._resourceFactory.view.basemapTerrain?.overlayManager;e&&e.unregisterDrapeSource(this._resources.layerView),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){if(null==this._resources?.drapeSourceRenderer)return;if(!this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,u.UPDATE),this._resources.geometriesAdded=!1}_ensureRenderGeometriesAdded(){if(null==this._resources?.drapeSourceRenderer)return;if(this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,u.UPDATE),this._resources.geometriesAdded=!0}}let a=class extends(s.IdentifiableMixin(r)){constructor(e){super(e),this.drapeSourceType=i.Features,this.updatePolicy=n.SYNC,this.renderGroup=c.Outline}};e([t({constructOnly:!0})],a.prototype,\"view\",void 0),e([t({readOnly:!0})],a.prototype,\"drapeSourceType\",void 0),e([t()],a.prototype,\"renderGroup\",void 0),a=e([o(\"esri.views.3d.interactive.visualElements.DrapedVisualElementResources\")],a);export{d as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{watch as e,initial as s}from\"../../../../core/reactiveUtils.js\";import{ContentObjectType as r}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Object3D as t}from\"../../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as i}from\"../../webgl-engine/lib/WebGLLayer.js\";class c{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return null!=this._resources?this._resources.object:null}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const e=this._resourceFactory.view._stage;if(null==this._resources||!e)return;const s=this._resources.object;this._resources.external.forEach((s=>{s.type!==r.Mesh&&s.type!==r.Line&&s.type!==r.Point||e.remove(s)})),s.removeAllGeometries(),this._resourceFactory.recreateGeometry(this._resources.external,s,this._resources.layer),this._resources.external.forEach((s=>{s.type!==r.Mesh&&s.type!==r.Line&&s.type!==r.Point||e.add(s)}))}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const c=this._resourceFactory,a=c.view,h=a._stage;if(!h)return;const u=new i(h,{pickable:!1,updatePolicy:o.SYNC}),l=new t({castShadow:!1}),n=c.createResources(l,u);n.forEach((e=>{h.add(e),e.type===r.Texture&&e.load(h.renderView.renderingContext)})),h.add(l),u.add(l);const _=c.cameraChanged,y=_?e((()=>a.state.camera),(e=>_(e)),s):null;this._resources={layer:u,object:l,external:n,cameraHandle:y},this._syncVisible()}_destroyResources(){if(null==this._resources)return;const e=this._resourceFactory.view._stage;e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this._resources.external.forEach((s=>{e.remove(s),s.type===r.Texture&&s.unload()}))),this._resources.object.dispose(),this._resources.cameraHandle?.remove(),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncVisible(){null!=this._resources&&(this._resources.object.visible=this._visible)}}export{c as VisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{DrapedVisualElementResources as e}from\"./DrapedVisualElementResources.js\";import{VisualElement as s}from\"./VisualElement.js\";import{VisualElementResources as r}from\"./VisualElementResources.js\";class t extends s{constructor(s){super(s),this._isDraped=!1,this.object3dResources=new r(this.createObject3DResourceFactory(s.view)),this.drapedResources=new e(this.createDrapedResourceFactory(s.view)),this.isDraped=s.isDraped??!1}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.object3dResources.attached=this.attached&&!e,this.drapedResources.attached=this.attached&&e)}get renderGroup(){return this.drapedResources.renderGroup}set renderGroup(e){this.drapedResources.renderGroup=e}createResources(){this.object3dResources.attached=!this._isDraped,this.drapedResources.attached=this._isDraped}destroyResources(){this.object3dResources.attached=!1,this.drapedResources.attached=!1}recreate(){this.object3dResources.recreate(),this.drapedResources.recreate()}recreateGeometry(){this.object3dResources.recreateGeometry(),this.drapedResources.recreateGeometry()}destroy(){this.object3dResources.destroy(),this.drapedResources.destroy(),super.destroy()}updateVisibility(e){this.object3dResources.visible=e,this.drapedResources.visible=e}}export{t as EngineVisualElement};\n"],"names":["G","D","constructor","e","super","this","_ray","g","_isWorldDown","_start","s","_end","n","_width","_color","l","_polygonOffset","_writeDepthEnabled","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stipplePreferContinuous","_falloff","_extensionType","M","LINE","_laserlineStyle","_laserlineEnabled","_renderOccluded","A","OccludeAndTransparent","_fadedExtensions","L","_laserline","O","view","isDecoration","applyProperties","destroy","createObject3DResourceFactory","createResources","_createObject3DResources","destroyResources","P","recreateGeometry","t","_recreateObject3DGeometry","cameraChanged","_updateGeometry","createDrapedResourceFactory","_createDrapedResources","_recreateDrapedGeometry","updateVisibility","visible","onAttachedChange","attached","_laserlineAttached","setStartEndFromWorldDownAtLocation","r","renderCoordsHelper","worldUpAtPosition","b","start","end","width","_updateMaterial","color","a","o","polygonOffset","writeDepthEnabled","innerWidth","innerColor","stipplePattern","recreate","stippleOffColor","h","stipplePreferContinuous","falloff","extensionType","isDraped","laserlineStyle","style","laserlineEnabled","renderOccluded","_normalizedRenderOccluded","OccludeAndTransparentStencil","fadedExtensions","materialParameters","object3dResources","resources","material","setParameters","drapedResources","hasPolygonOffset","writeDepth","C","Array","_createObject3DGeometry","geometries","forEach","length","i","_createGeometry","push","addGeometry","_updateVerticesObject3D","_createDrapedGeometry","_updateVerticesDraped","j","FADED","E","object","_lineSegment","_updateVertexAttributesObject3D","intersectsLine","_updateVertexAttributesDraped","_updateLineSegmentFinite","V","_updateLineSegmentInfinite","m","state","camera","_","x","c0","Number","MAX_VALUE","RAY","GROUND_RAY","origin","elevationProvider","getElevation","spatialReference","getAltitude","ray","direction","c1","Math","abs","u","frustum","c","v","p","S","getMutableAttribute","R","POSITION","data","_lineVertices","geometryVertexAttributeUpdated","w","invalidateBoundingInfo","y","d","f","T","_resourceFactory","_resources","_visible","_attached","_renderGroup","Outline","_destroyResources","external","_syncGeometriesToRenderer","_createOrDestroyResources","renderGroup","layerView","_createResources","_ensureRenderGeometriesRemoved","basemapTerrain","overlayManager","geometriesAdded","drapeSourceRenderer","registerGeometryDrapeSource","unregisterDrapeSource","_ensureRenderGeometriesAdded","removeGeometries","UPDATE","addGeometries","IdentifiableMixin","drapeSourceType","Features","updatePolicy","SYNC","constructOnly","prototype","readOnly","_syncVisible","_stage","type","Mesh","Line","Point","remove","removeAllGeometries","layer","add","pickable","castShadow","Texture","load","renderView","renderingContext","cameraHandle","unload","dispose","_isDraped"],"sourceRoot":""}