"use strict";(self.webpackChunkn2_tree=self.webpackChunkn2_tree||[]).push([[10061,76030],{14185:(t,e,i)=>{i.d(e,{GF:()=>x,LZ:()=>w,N6:()=>_,_T:()=>M,eq:()=>v,zV:()=>T,zd:()=>S});var o=i(18690),n=i(53084),r=i(31633),s=i(20664),a=i(9392),l=i(70961),c=i(63391),d=i(66388),p=i(19247),h=i(65215),u=i(23701),y=i(5262),g=i(80963),f=i(42151);function m(t,e){const i=new p.default({x:t[0],y:t[1],spatialReference:e});return t.length>2&&(i.z=t[2]),i}function v(t,e){return new d.default({points:t,spatialReference:e})}function w(t,e,i){const o=new u.default({paths:t,spatialReference:e});return i&&(0,y._7)(o),o}function _(t,e,i){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const s=(0,n.clone)(t);s.forEach((t=>{const e=t[0],i=t[t.length-1];(0,o.aI)(e,i)&&1!==t.length||t.push(t[0])}));let a=new h.default({rings:s,spatialReference:e});return a.rings.forEach((t=>{(0,y.$3)(t)||t.reverse()})),i&&(0,y._7)(a),r&&a.isSelfIntersecting&&(0,g.fn)(e)&&(a=(0,c.simplify)(a)),a}function x(t,e,i){const n=e.mapToLocalMultiple(t),r=[],s={x:n[0].x,y:n[0].y},a=n[1].x,l=n[1].y,c=Math.round(a-s.x),d=Math.round(l-s.y),p=Math.max(Math.abs(c),Math.abs(d));if(i){const t={x:s.x+p,y:s.y+p},e={x:s.x-p,y:s.y-p};r.push((0,f.E5)(t.x,e.y),(0,f.E5)(e.x,e.y),(0,f.E5)(e.x,t.y),(0,f.E5)(t.x,t.y))}else{const t={x:c>0?s.x+p:s.x-p,y:d>0?s.y+p:s.y-p};r.push((0,f.E5)(s.x,s.y),(0,f.E5)(t.x,s.y),(0,f.E5)(t.x,t.y),(0,f.E5)(s.x,t.y))}return O(_([r.map((t=>e.localToMap(t))).filter(o.Ru)],e.spatialReference,e.doUnnormalization,!0),r,e)}function M(t,e,i){let n=e.mapToLocalMultiple(t);if(1===n.length){const t=48,e=n[0];n=[(0,f.E5)(e.x-t,e.y+t),(0,f.E5)(e.x+t,e.y-t),(0,f.E5)(e.x+t,e.y-t),(0,f.E5)(e.x-t,e.y+t)]}const r=[],s={x:n[0].x,y:n[0].y},a={x:n[1].x,y:n[1].y};if(i){const t=Math.round(a.x-s.x),e=Math.round(a.y-s.y);r.push((0,f.E5)(s.x-t,s.y-e),(0,f.E5)(a.x,s.y-e),(0,f.E5)(a.x,a.y),(0,f.E5)(s.x-t,a.y))}else r.push((0,f.E5)(s.x,s.y),(0,f.E5)(a.x,s.y),(0,f.E5)(a.x,a.y),(0,f.E5)(s.x,a.y));return O(_([r.map((t=>e.localToMap(t))).filter(o.Ru)],e.spatialReference,e.doUnnormalization,!0),r,e)}function O(t,e,i){const o=k(e[3],e[2],i),n=k(e[1],e[2],i),r=k(e[0],e[1],i),s=k(e[0],e[3],i);return{geometry:t,midpoints:null!=o&&null!=n&&null!=r&&null!=s?{top:o,right:n,bottom:r,left:s}:null}}function k(t,e,i){R[0]=t.x,R[1]=t.y,R[2]=0,Z[0]=e.x,Z[1]=e.y,Z[2]=0,(0,s.m)(R,R,Z,.5),b.x=R[0],b.y=Z[1],b.z=Z[2];const o=i.localToMap(b);return null!=o?m(o,i.spatialReference):null}const b=(0,f.E5)(0,0,0),R=(0,a.vt)(),Z=(0,a.vt)();function T(t,e,i,o){const n=e.mapToLocalMultiple(t);let s=null,a=null;if(i)s=n[0],a=n[1];else{const t=n[0],e=n[1],i=Math.round(e.x-t.x),o=Math.round(e.y-t.y),r=Math.max(Math.abs(i),Math.abs(o));s=(0,f.E5)(i>0?t.x+r/2:t.x-r/2,o>0?t.y+r/2:t.y-r/2),a=(0,f.E5)(Math.abs(i)>Math.abs(o)?s.x-r/2:s.x,Math.abs(i)>Math.abs(o)?s.y:s.y-r/2)}const d=e.localToMap(s),p=e.localToMap(a);if(null==d||null==p)return null;e.doUnnormalization&&(0,y.JM)([[d,p]],e.spatialReference);const h=m(d,e.spatialReference),u=m(p,e.spatialReference),v=(0,r.GA)(e.spatialReference);let w=0;if((0,g.fn)(e.spatialReference))w=v*(0,c.distance)(h,u,null);else{const t=s.x-a.x,e=s.y-a.y;w=v*Math.sqrt(t*t+e*e)*(o||1)}const x=new l.default({center:h,radius:w,radiusUnit:"meters",spatialReference:e.spatialReference});return{geometry:_(x.rings,x.spatialReference,!1),center:h,edge:u}}function S(t,e,i){const n=e.mapToLocalMultiple(t),r=n[0],s=n[1],a=Math.round(s.x-r.x),l=Math.round(s.y-r.y),c=(0,f.E5)(i?r.x:r.x+a/2,i?r.y:r.y+l/2),d=i?a:a/2,p=i?l:l/2,h=[],u=2*Math.PI/60;function y(t){const e=Math.cos(t),i=Math.sin(t);return(0,f.E5)(d*e+c.x,p*i+c.y)}for(let o=0;o<60;o++)h.push(y(o*u));h.push(h[0]);const{spatialReference:g,doUnnormalization:v}=e,w=_([h.map((t=>e.localToMap(t))).filter(o.Ru)],g,v,!1),x=e.localToMap(y(Math.PI/2)),M=e.localToMap(y(0)),O=e.localToMap(y(-Math.PI/2)),k=e.localToMap(y(Math.PI));return{geometry:w,midpoints:null!=x&&null!=M&&null!=O&&null!=k?{top:m(x,g),right:m(M,g),bottom:m(O,g),left:m(k,g)}:null}}},22292:(t,e,i)=>{i.d(e,{N:()=>vt,l:()=>xt});var o,n,r=i(35143),s=i(39356),a=i(91967),l=i(19276),c=i(68134),d=i(46053),p=(i(81806),i(76460),i(47249),i(85842)),h=i(19451);!function(t){t[t.NeverApplied=0]="NeverApplied",t[t.Applied=1]="Applied",t[t.Undone=2]="Undone"}(o||(o={})),function(t){t.UndoRedoUpdating="UndoRedoUpdating",t.UndoInvalidError="UndoInvalidError",t.RedoInvalidError="RedoInvalidError",t.ApplyInvalidError="ApplyInvalidError"}(n||(n={}));const u={[n.UndoRedoUpdating]:"Cannot perform operation whilst undo redo is updating",[n.UndoInvalidError]:"There are no items to Undo",[n.RedoInvalidError]:"There are no items to Redo",[n.ApplyInvalidError]:"Cannot apply an item that is already applied"};class y extends Error{constructor(){super(u[n.UndoRedoUpdating]),this.type="undo-redo-updating-error"}}class g extends Error{constructor(){super(u[n.UndoInvalidError]),this.type="undo-redo-undo-error"}}class f extends Error{constructor(){super(u[n.RedoInvalidError]),this.type="undo-redo-redo-error"}}class m extends Error{constructor(){super(u[n.ApplyInvalidError]),this.type="undo-redo-apply-error"}}var v,w;(w=v||(v={}))[w.Apply=0]="Apply",w[w.Undo=1]="Undo",w[w.Redo=2]="Redo";let _=class extends a.default{constructor(){super(...arguments),this.name="",this.tag=Symbol(),this.status=o.NeverApplied}get canUndo(){return this.status===o.Applied}get canRedo(){return this.status===o.Undone}async executeUndoRedoOperation(t){switch(t){case v.Apply:if(this.status!==o.NeverApplied)throw new m;return await this.apply(),void(this.status=o.Applied);case v.Undo:if(this.status!==o.Applied)throw new g;return await this.undo(),void(this.status=o.Undone);case v.Redo:if(this.status!==o.Undone)throw new g;return await this.redo(),void(this.status=o.Applied)}}};(0,r._)([(0,d.MZ)()],_.prototype,"name",void 0),(0,r._)([(0,d.MZ)()],_.prototype,"tag",void 0),_=(0,r._)([(0,p.$)("esri.undoredo.UndoableOperation")],_);let x=class extends a.default{constructor(){super(...arguments),this._stack=new l.default,this._stackPosition=-1,this._updatingHandles=new h.U}get updating(){return this._updatingHandles.updating}get canUndo(){return this.hasUndo&&!this.updating}get hasUndo(){return this._stackPosition>=0}get canRedo(){return this.hasRedo&&!this.updating}get hasRedo(){return this._stackPosition<this._stack.length-1}_truncateForwardStack(){this._stack.splice(this._stackPosition+1,this._stack.length-this._stackPosition).forEach((t=>t.destroy()))}_drainStack(){this._stack.drain((t=>t.destroy())),this._stackPosition=-1}async undo(){if(!this.hasUndo)throw new g;if(this.updating)throw new y;const t=this._stack.getItemAt(this._stackPosition);t&&await this._updatingHandles.addPromise((async()=>{await t.executeUndoRedoOperation(v.Undo),--this._stackPosition,t.canRedo||this._truncateForwardStack()})())}async redo(){if(!this.hasRedo)throw new f;if(this.updating)throw new y;const t=this._stack.getItemAt(this._stackPosition+1);if(!t)throw new f;await this._updatingHandles.addPromise((async()=>{await t.executeUndoRedoOperation(v.Redo),++this._stackPosition})())}peekUndo(){if(this.canUndo)return this._stack.getItemAt(this._stackPosition)}peekRedo(){if(this.canRedo)return this._stack.getItemAt(this._stackPosition+1)}async inject(t){if(this.updating)throw new y;await this._updatingHandles.addPromise((async()=>{t.status===o.NeverApplied&&await t.executeUndoRedoOperation(v.Apply),t.canUndo?(this._stack.splice(this._stackPosition+1,0,t),this._stackPosition++):this._stackPosition>-1&&(this._stack.splice(0,this._stackPosition+1).forEach((t=>t.destroy())),this._stackPosition=-1)})())}async add(t){if(this.updating)throw new y;await this._updatingHandles.addPromise((async()=>{t.status===o.NeverApplied&&await t.executeUndoRedoOperation(v.Apply),this._stackPosition>=-1&&this._truncateForwardStack(),t.canUndo?(this._stack.push(t),this._stackPosition=this._stack.length-1):this._drainStack()})())}async removeTagged(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.updating&&!e)return;await(0,c.whenOnce)((()=>!this.updating));const i=new l.default;for(let o=0;o<this._stack.length;o++){const e=this._stack.getItemAt(o);e&&(e.tag===t?(e.destroy(),o===this._stackPosition&&(this._stackPosition=i.length-1)):i.push(e))}this._stack=i,this._stackPosition>i.length-1&&(this._stackPosition=i.length-1)}async clear(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.updating&&!t)throw new y;await(0,c.whenOnce)((()=>!this.updating)),this._drainStack()}};(0,r._)([(0,d.MZ)()],x.prototype,"_stack",void 0),(0,r._)([(0,d.MZ)()],x.prototype,"_stackPosition",void 0),(0,r._)([(0,d.MZ)()],x.prototype,"updating",null),(0,r._)([(0,d.MZ)({readOnly:!0})],x.prototype,"canUndo",null),(0,r._)([(0,d.MZ)({readOnly:!0})],x.prototype,"hasUndo",null),(0,r._)([(0,d.MZ)({readOnly:!0})],x.prototype,"canRedo",null),(0,r._)([(0,d.MZ)({readOnly:!0})],x.prototype,"hasRedo",null),x=(0,r._)([(0,p.$)("esri.UndoRedo")],x);var M=i(98773),O=i(54099),k=i(54901),b=i(30726),R=i(58905),Z=i(63733),T=i(74e3);class S{constructor(){this.committedVertices=null,this.cursorVertex=null,this.full=null,this.outline=null,this.cursorEdge=null,this.circle=null,this.rectangle=null}}var U=i(14185),E=i(42151),I=i(24648),C=i(31633),P=i(12482),G=i(94277),V=i(76030),A=i(48851),z=i(95735),F=i(37159);let H=class extends F.w{constructor(t){super(t),this.type="draw-circle",this.radius=null,this.xSize=null,this.ySize=null,this.area=I.iT}get allFields(){return[]}};(0,r._)([(0,d.MZ)()],H.prototype,"type",void 0),(0,r._)([(0,d.MZ)()],H.prototype,"radius",void 0),(0,r._)([(0,d.MZ)()],H.prototype,"xSize",void 0),(0,r._)([(0,d.MZ)()],H.prototype,"ySize",void 0),(0,r._)([(0,d.MZ)()],H.prototype,"area",void 0),(0,r._)([(0,d.MZ)()],H.prototype,"helpMessage",void 0),(0,r._)([(0,d.MZ)()],H.prototype,"allFields",null),H=(0,r._)([(0,p.$)("esri.views.interactive.tooltip.infos.DrawCircleTooltipInfo")],H);var L=i(5512),W=i(65240);let N=class extends((0,W.B)(F.w)){constructor(t){super(t),this.type="draw-mesh",this.orientation=(0,L.LJ)({lockable:!1}),this.scale=(0,L.dy)({lockable:!1})}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation,this.orientation,this.scale]}};(0,r._)([(0,d.MZ)()],N.prototype,"helpMessage",void 0),(0,r._)([(0,d.MZ)()],N.prototype,"allFields",null),N=(0,r._)([(0,p.$)("esri.views.interactive.tooltip.infos.DrawMeshTooltipInfo")],N);let $=class extends((0,W.B)(F.w)){constructor(t){super(t),this.type="draw-multipoint"}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation]}};(0,r._)([(0,d.MZ)()],$.prototype,"helpMessage",void 0),(0,r._)([(0,d.MZ)()],$.prototype,"allFields",null),$=(0,r._)([(0,p.$)("esri.views.interactive.tooltip.infos.DrawMultipointTooltipInfo")],$);let D=class extends((0,W.B)(F.w)){constructor(t){super(t),this.type="draw-point"}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation]}};(0,r._)([(0,d.MZ)()],D.prototype,"helpMessage",void 0),(0,r._)([(0,d.MZ)()],D.prototype,"allFields",null),D=(0,r._)([(0,p.$)("esri.views.interactive.tooltip.infos.DrawPointTooltipInfo")],D);let B=class extends((0,W.B)(F.w)){constructor(t){super(t),this.type="draw-polygon",this.direction=(0,L.Gk)(),this.distance=(0,L.Ku)(),this.area=(0,L.Am)(),this.xyMode="direction-distance"}get allFields(){return[this.direction,this.distance,this.longitude,this.latitude,this.x,this.y,this.elevation,this.area]}};(0,r._)([(0,d.MZ)()],B.prototype,"xyMode",void 0),(0,r._)([(0,d.MZ)()],B.prototype,"helpMessage",void 0),(0,r._)([(0,d.MZ)()],B.prototype,"allFields",null),B=(0,r._)([(0,p.$)("esri.views.interactive.tooltip.infos.DrawPolygonTooltipInfo")],B);let j=class extends((0,W.B)(F.w)){constructor(t){super(t),this.type="draw-polyline",this.direction=(0,L.Gk)(),this.distance=(0,L.Ku)(),this.totalLength=(0,L.fr)(),this.xyMode="direction-distance"}get allFields(){return[this.direction,this.distance,this.longitude,this.latitude,this.x,this.y,this.elevation,this.totalLength]}};(0,r._)([(0,d.MZ)()],j.prototype,"helpMessage",void 0),(0,r._)([(0,d.MZ)()],j.prototype,"xyMode",void 0),(0,r._)([(0,d.MZ)()],j.prototype,"allFields",null),j=(0,r._)([(0,p.$)("esri.views.interactive.tooltip.infos.DrawPolylineTooltipInfo")],j);let Y=class extends F.w{constructor(t){super(t),this.type="draw-rectangle",this.xSize=I.r7,this.ySize=I.r7,this.area=I.iT}get allFields(){return[]}};(0,r._)([(0,d.MZ)()],Y.prototype,"type",void 0),(0,r._)([(0,d.MZ)()],Y.prototype,"xSize",void 0),(0,r._)([(0,d.MZ)()],Y.prototype,"ySize",void 0),(0,r._)([(0,d.MZ)()],Y.prototype,"area",void 0),(0,r._)([(0,d.MZ)()],Y.prototype,"helpMessage",void 0),(0,r._)([(0,d.MZ)()],Y.prototype,"allFields",null),Y=(0,r._)([(0,p.$)("esri.views.interactive.tooltip.infos.DrawRectangleTooltipInfo")],Y);var K=i(89646),q=i(28330),J=i(68655),Q=i(29772);function X(t){const{directionOptions:e,geometryType:i,sketchOptions:o,tooltipInfos:n}=t,r=e=>{const i=pt(t).mode,o=n[e].elevation;"relative-to-ground"===i||"relative-to-scene"===i||"on-the-ground"===i?o.lock(ut(t)):o.unlock()};switch(i){case"polygon":case"polyline":r(i),(t=>{if(e){const i=n[t].direction;i.committed=e.angle,i.unlockOnVertexPlacement=!1,o.values.directionMode=e.mode}})(i);break;case"point":case"mesh":r(i)}}function tt(t,e){const{drawOperation:i,view:o}=e,n=it(e),r=pt(e);if("2d"===o.type||!t||"absolute-height"!==r.mode||1!==i?.numCommittedVertices||!n||"draw-polyline"!==n.type&&"draw-polygon"!==n.type||n.elevation.locked)return;const[s,a,l]=t,c=function(t,e,i,o,n){const{view:r,drawOperation:s}=n;if("3d"!==r.type||!s)return;i??=0;const a=ht(n),l=pt(n),c=(0,P.Fo)(r,t,e,i,a,l,o);return(0,Q.Qc)(c,a)??ut(n)}(s,a,l,r,e);null!=c&&n.elevation.lock(c)}function et(t){it(t)?.allFields.forEach((t=>{t.unlockOnVertexPlacement&&t.unlock()}))}function it(t){let{geometryType:e,graphic:i,tooltipInfos:o}=t;return i?.geometry?.type!==ot[e]?"circle"===e||"rectangle"===e?o[e]:null:o[e]}const ot={point:"point",multipoint:"multipoint",mesh:"mesh",polyline:"polyline",polygon:"polygon",circle:"polygon",rectangle:"polygon",freehandPolygon:"polygon",freehandPolyline:"polyline"};function nt(t,e){switch(t?.type){case"draw-point":!function(t,e){const i=e.graphic?.geometry;"point"===i?.type&&(rt(t,i,e),t.helpMessage=(0,G.$)("point",i,e.drawOperation.drawingMode))}(t,e);break;case"draw-multipoint":!function(t,e){const i=e.graphic?.geometry;"multipoint"===i?.type&&(rt(t,i,e),t.helpMessage=(0,G.$)("multipoint",i,e.drawOperation.drawingMode))}(t,e);break;case"draw-polyline":!function(t,e){const{createOperationGeometry:i,drawOperation:o}=e,n=null!=i?i.full:null;n&&"polyline"!==n.type||(st(t,e),t.totalLength.actual=o.lastVertex?(n?(0,J.ob)(n):null)??I.r7:null,t.helpMessage=(0,G.$)("polyline",n,e.drawOperation.drawingMode))}(t,e);break;case"draw-polygon":!function(t,e){const{createOperationGeometry:i,drawOperation:o}=e,n=null!=i?i.full:null;n&&"polygon"!==n.type||(st(t,e),t.area.actual=o.lastVertex?(n?(0,q.n)(n):null)??I.iT:null,t.helpMessage=(0,G.$)("polygon",n,e.drawOperation.drawingMode))}(t,e);break;case"draw-rectangle":!function(t,e){t.sketchOptions=e.sketchOptions,t.xSize=ct(e),t.ySize=dt(e),t.area=lt(e),t.helpMessage=(0,G.$)("rectangle",e.graphic?.geometry,e.drawOperation.drawingMode)}(t,e);break;case"draw-circle":!function(t,e){const{forceUniformSize:i,sketchOptions:o}=e;t.sketchOptions=o,t.radius=i?function(t){let{createOperationGeometry:e}=t;return(null!=e?.circle?.center&&null!=e.circle.edge?(0,J.Kt)(e.circle.center,e.circle.edge):null)??I.r7}(e):null,t.xSize=i?null:ct(e),t.ySize=i?null:dt(e),t.area=lt(e),t.helpMessage=(0,G.$)("circle",e.graphic?.geometry,e.drawOperation.drawingMode)}(t,e);break;case"draw-mesh":!function(t,e){const{graphic:i,view:o}=e,n=i?.geometry;"3d"!==o.type||n&&"mesh"!==n.type||(rt(t,n?.origin,e),n&&(0,z.Ue)(t,n),t.helpMessage=(0,V.getDrawMeshHelpMessage)(i,o))}(t,e)}}function rt(t,e,i){const{drawOperation:o,view:n,sketchOptions:r}=i,{cursorVertex:s}=o;t.sketchOptions=r,t.viewType=n.type;const a="multipoint"===e?.type?e.getPoint(e.points.length-1):e;if(t.setLocationFromPoint(a,ht(i)),at(t.elevation,i),!s)return void(o.constraints=void 0);const l=s;o.constraints={context:yt(l,i),x:t.x.committed,y:t.y.committed,longitude:t.longitude.committed,latitude:t.latitude.committed,elevation:t.elevation.committed,distance:null,direction:null}}function st(t,e){const{drawOperation:i,sketchOptions:o,view:n}=e,{cursorVertex:r,lastVertex:s,secondToLastVertex:a}=i,l=o.values.effectiveDirectionMode;t.sketchOptions=o,t.viewType=n.type;const c=s&&r?(0,J.Kt)(s,r)??I.r7:null;if(t.distance.actual=c,t.distance.readOnly=null==s,t.direction.actual=null,t.direction.readOnly=!0,s&&r&&("absolute"===l||a)){const e=(0,K.uR)(a,s,r,l);t.direction.actual=e??I.n0,t.direction.readOnly=!1}t.setLocationFromPoint(r,ht(e)),at(t.elevation,e);const d=function(t,e){let{sketchOptions:i}=e;const o=i.tooltips.xyMode;return"auto"===o?t?"direction-distance":"coordinates":o}(s,e);t.xyMode=d,t.direction.visible="direction-distance"===d,t.distance.visible="direction-distance"===d,t.effectiveX.visible="coordinates"===d,t.effectiveY.visible="coordinates"===d;const p=r??s;i.constraints=p?{context:yt(p,e),x:t.x.committed,y:t.y.committed,longitude:t.longitude.committed,latitude:t.latitude.committed,elevation:t.elevation.committed,distance:t.distance.committed,direction:t.direction.committed}:void 0}function at(t,e){const{drawOperation:i}=e,o=i?.cursorVertex??i?.lastVertex;t.actual=(0,Q.Of)(o)??ut(e),t.visible=i.hasZ,t.readOnly=!1,t.showAsZ=!0}function lt(t){const e=t.createOperationGeometry?.full;return"polygon"!==e?.type?I.iT:(0,q.n)(e)??I.iT}function ct(t){const e=t.createOperationGeometry?.rectangle?.midpoints;return(null!=e?(0,J.Kt)(e.left,e.right):null)??I.r7}function dt(t){const e=t.createOperationGeometry?.rectangle?.midpoints;return(null!=e?(0,J.Kt)(e.top,e.bottom):null)??I.r7}function pt(t){return t.drawOperation.elevationInfo??P.qt}function ht(t){return t.drawOperation.coordinateHelper.spatialReference}function ut(t){const e=(0,C.G9)(ht(t));return(0,I.d_)(t.defaultZ*e,"meters")}function yt(t,e){return(0,A.hj)(t,e.view,ht(e),pt(e),e.drawOperation.coordinateHelper.hasZ(),e.sketchOptions.values.effectiveDirectionMode)}var gt=i(56829),ft=i(97513),mt=i(49281);let vt=class extends(O.A.EventedMixin(gt.g)){constructor(t){super(t),this._graphic=null,this._coordinateFormatterLoadTask=null,this._createOperationGeometry=null,this.defaultZ=0,this.directionOptions=null,this.elevationLockOnVertexAddDisabled=!1,this.geometryType=null,this.hasZ=!0,this.geometryToPlace=null,this.snappingManager=null,this.snapToScene=!1,this.sketchOptions=new ft.A}initialize(){const{view:t}=this;this.internalGraphicsLayer=new Z.default({listMode:"hide",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer);const e=this.drawOperation=this.makeDrawOperation();this.tooltipInfos=function(t,e){return{point:new D({sketchOptions:e,viewType:t}),multipoint:new $({sketchOptions:e,viewType:t}),polyline:new j({sketchOptions:e,viewType:t}),polygon:new B({sketchOptions:e,viewType:t}),mesh:new N({sketchOptions:e,viewType:t}),rectangle:new Y({sketchOptions:e}),circle:new H({sketchOptions:e})}}(t.type,this.sketchOptions);const i=(0,z.A)((()=>({view:t,options:this.sketchOptions.tooltips})));this.tooltip=i,X(this._tooltipsContext),this._coordinateFormatterLoadTask=(0,M.UT)((()=>(0,R.load)())),this.addHandles([e.on("vertex-add",(t=>this.onVertexAdd(t))),e.on("vertex-remove",(t=>this.onVertexRemove(t))),e.on("vertex-update",(t=>this.onVertexUpdate(t))),e.on("cursor-update",(t=>this.onCursorUpdate(t))),e.on("cursor-remove",(()=>this._updateGraphic())),e.on("complete",(t=>this.onComplete(t))),this._coordinateFormatterLoadTask,i.on("paste",(t=>(0,z.HA)(t,this.activeTooltipInfo))),(0,c.watch)((()=>this.cursor),(t=>{e.cursor=t}),c.syncAndInitial),(0,mt.fm)((()=>{const{activeTooltipInfo:t,sketchOptions:e}=this;nt(t,this._tooltipsContext),i.info=e.tooltips.effectiveEnabled?t:null})),(0,mt.fm)((()=>{e.constraintZ=function(t){const{geometryType:e,tooltipInfos:i}=t;switch(e){case"point":case"multipoint":case"mesh":case"polyline":case"polygon":{const o=i[e].elevation.committed;if(!o)return;return(0,I.l3)(o,"meters")/(0,C.G9)(ht(t))}default:return}}(this._tooltipsContext)}),c.sync)]),this.finishToolCreation()}destroy(){this.drawOperation=(0,b.pR)(this.drawOperation),this.tooltip=(0,b.pR)(this.tooltip),this._destroyAllVisualizations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=(0,b.pR)(this.internalGraphicsLayer),this._set("view",null)}get _drawSpatialReference(){return this.drawOperation.coordinateHelper.spatialReference}get _tooltipsContext(){return{createOperationGeometry:this._createOperationGeometry,defaultZ:this.defaultZ,directionOptions:this.directionOptions,drawOperation:this.drawOperation,forceUniformSize:this.forceUniformSize,geometryType:this.geometryType,graphic:this.graphic,sketchOptions:this.sketchOptions,tooltipInfos:this.tooltipInfos,view:this.view}}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(t){this._set("centered",t),this._updateGraphic()}get cursor(){return this._get("cursor")}set cursor(t){this._set("cursor",t)}set enabled(t){this.drawOperation.interactive=t,this._set("enabled",t)}set forceUniformSize(t){this._set("forceUniformSize",t),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(t){this._set("graphicSymbol",t),null!=this._graphic&&(this._graphic.symbol=t)}set mode(t){const e=this.drawOperation;e&&(e.drawingMode=t),this._set("mode",t)}get updating(){return this.drawOperation?.updating??!1}get undoRedo(){const{view:{type:t,map:e}}=this;return"2d"===t&&e&&"undoRedo"in e&&e.undoRedo instanceof x?e.undoRedo:null}set undoRedo(t){this._override("undoRedo",t)}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(t){this.destroyed||(0,z.wG)(t,this.tooltip)||this.drawOperation.onInputEvent(t)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo(),0===this.drawOperation.numCommittedVertices&&X(this._tooltipsContext)}_destroyAllVisualizations(){this.removeHandles(_t.outline),this.removeHandles(_t.regularVertices),this.removeHandles(_t.activeVertex),this.removeHandles(_t.activeEdge),this.removeHandles(wt)}_createOrUpdateGraphic(t){if(null!=this._graphic)return this.updateGraphicGeometry(t),this._graphic;const e=new s.default({...this.graphicProperties,symbol:this.graphicSymbol});return this._graphic=e,this.updateGraphicGeometry(t),this.internalGraphicsLayer.add(e),this.addHandles(this.initializeGraphic(e)),this.notifyChange("graphic"),this.addHandles((0,k.hA)((()=>{this.internalGraphicsLayer.remove(e),this._graphic===e&&(this._graphic=null)})),wt),e}updateGraphicGeometry(t){this._graphic.geometry=t}_getCreateOperationGeometry(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{operationComplete:!1};if(null==this.drawOperation)return;const{coordinateHelper:e,view:i,visualizationCursorVertex:o,lastVertex:n,committedVertices:r,geometryIncludingUncommittedVertices:s,numCommittedVertices:a}=this.drawOperation;if(!(a>0||null!=o))return;const l=t.operationComplete?r:s,c=l.length,d=null!=o?e.pointToArray(o):null,p=this._drawSpatialReference,h="3d"===i.type&&"global"===i.viewingMode,u=new S;u.committedVertices=r,u.cursorVertex=d;const{geometryType:y}=this;switch(y){case"point":case"mesh":u.full=e.arrayToPoint(l[0]);break;case"multipoint":u.full=c>0?(0,U.eq)(l,p):null;break;case"polyline":case"polygon":c>0&&(u.full="polygon"===y?(0,U.N6)([l],p,h,!0):(0,U.LZ)([l],p,h),u.cursorEdge=null!=d&&n&&!(0,T.CI)(o,n)?(0,U.LZ)([[d,e.pointToArray(n)]],p,h):null,u.outline=c>1?u.full:null);break;case"circle":case"rectangle":{if(u.committedVertices=u.cursorVertex=null,!c)break;const e=(0,E.ZP)(i,l[0]),o=l[0],n=e.makeMapPoint(o[0]+Mt*i.resolution,o[1]);"circle"===y?1===c&&t.operationComplete?u.circle=(0,U.zV)([o,n],e,!0):2===c&&(this.forceUniformSize?u.circle=(0,U.zV)(l,e,this.centered):u.rectangle=(0,U.zd)(l,e,this.centered)):1===c&&t.operationComplete?u.rectangle=(0,U.GF)([o,n],e,!0):2===c&&(u.rectangle=this.forceUniformSize?(0,U.GF)(l,e,this.centered):(0,U._T)(l,e,this.centered)),u.full=null!=u.circle?u.circle.geometry:u.rectangle?.geometry,u.outline="polygon"===u.full?.type?u.full:null;break}default:return null}return u}initializeGraphic(t){return(0,k.hA)()}onComplete(t){if(!this.drawOperation)return;this._updateGraphic();let e=null;if(this.drawOperation.isCompleted){const t=this._getCreateOperationGeometry({operationComplete:!0});null!=t&&(e=this._createOrUpdateGraphic(t.full))}this._createOperationGeometry=null,this.emit("complete",{graphic:e,...t})}onCursorUpdate(t){this._updateGraphic(),this.emit("cursor-update",t)}onDeactivate(){const{drawOperation:t}=this;t&&(t.isCompleted||t.cancel())}onOutlineChanged(t){return(0,k.hA)()}onCursorEdgeChanged(t){return(0,k.hA)()}onVertexAdd(t){et(this._tooltipsContext),this._updateGraphic(),this.elevationLockOnVertexAddDisabled||tt(t.vertices.at(0)?.coordinates,this._tooltipsContext),this.emit("vertex-add",t)}onVertexRemove(t){et(this._tooltipsContext),this._updateGraphic(),this.emit("vertex-remove",t)}onVertexUpdate(t){this._updateGraphic(),this.emit("vertex-update",t)}_updateGraphic(){const t=this._getCreateOperationGeometry();this._createOperationGeometry=t,null!=t?(null!=t.cursorEdge?this.addHandles(this.onCursorEdgeChanged(t.cursorEdge),_t.activeEdge):this.removeHandles(_t.activeEdge),null!=t.outline?this.addHandles(this.onOutlineChanged(t.outline),_t.outline):this.removeHandles(_t.outline),null!=t.committedVertices?this.addHandles(this.onRegularVerticesChanged(t.committedVertices),_t.regularVertices):this.removeHandles(_t.regularVertices),null!=t.cursorVertex?this.addHandles(this.onActiveVertexChanged(t.cursorVertex),_t.activeVertex):this.removeHandles(_t.activeVertex),null!=t.full?this._createOrUpdateGraphic(t.full):this.removeHandles(wt)):this._destroyAllVisualizations()}get activeTooltipInfo(){return this._coordinateFormatterLoadTask?.finished?it(this._tooltipsContext):null}};(0,r._)([(0,d.MZ)()],vt.prototype,"_coordinateFormatterLoadTask",void 0),(0,r._)([(0,d.MZ)()],vt.prototype,"_createOperationGeometry",void 0),(0,r._)([(0,d.MZ)()],vt.prototype,"_tooltipsContext",null),(0,r._)([(0,d.MZ)({value:!0})],vt.prototype,"centered",null),(0,r._)([(0,d.MZ)()],vt.prototype,"cursor",null),(0,r._)([(0,d.MZ)({nonNullable:!0})],vt.prototype,"defaultZ",void 0),(0,r._)([(0,d.MZ)({constructOnly:!0})],vt.prototype,"directionOptions",void 0),(0,r._)([(0,d.MZ)()],vt.prototype,"drawOperation",void 0),(0,r._)([(0,d.MZ)()],vt.prototype,"elevationLockOnVertexAddDisabled",void 0),(0,r._)([(0,d.MZ)({value:!0})],vt.prototype,"enabled",null),(0,r._)([(0,d.MZ)({value:!0})],vt.prototype,"forceUniformSize",null),(0,r._)([(0,d.MZ)({constructOnly:!0})],vt.prototype,"geometryType",void 0),(0,r._)([(0,d.MZ)()],vt.prototype,"graphic",null),(0,r._)([(0,d.MZ)({constructOnly:!0})],vt.prototype,"graphicProperties",void 0),(0,r._)([(0,d.MZ)()],vt.prototype,"graphicSymbol",null),(0,r._)([(0,d.MZ)({constructOnly:!0})],vt.prototype,"hasZ",void 0),(0,r._)([(0,d.MZ)({constructOnly:!0})],vt.prototype,"geometryToPlace",void 0),(0,r._)([(0,d.MZ)()],vt.prototype,"mode",null),(0,r._)([(0,d.MZ)()],vt.prototype,"snappingManager",void 0),(0,r._)([(0,d.MZ)()],vt.prototype,"snapToScene",void 0),(0,r._)([(0,d.MZ)()],vt.prototype,"tooltip",void 0),(0,r._)([(0,d.MZ)()],vt.prototype,"tooltipInfos",void 0),(0,r._)([(0,d.MZ)({constructOnly:!0,type:ft.A})],vt.prototype,"sketchOptions",void 0),(0,r._)([(0,d.MZ)()],vt.prototype,"updating",null),(0,r._)([(0,d.MZ)({constructOnly:!0,nonNullable:!0})],vt.prototype,"view",void 0),(0,r._)([(0,d.MZ)({constructOnly:!0})],vt.prototype,"undoRedo",null),(0,r._)([(0,d.MZ)()],vt.prototype,"activeTooltipInfo",null),vt=(0,r._)([(0,p.$)("esri.views.draw.DrawGraphicTool")],vt);const wt=Symbol("create-operation-graphic"),_t={outline:Symbol("outline-visual"),regularVertices:Symbol("regular-vertices-visual"),activeVertex:Symbol("active-vertex-visual"),activeEdge:Symbol("active-edge-visual")};function xt(t){switch(t){case"point":case"polyline":case"polygon":case"multipoint":return t;case"circle":case"rectangle":return"segment";case"mesh":return"point"}}const Mt=48},30120:(t,e,i)=>{i.d(e,{Bb:()=>h,G3:()=>g,fJ:()=>u});var o=i(19555),n=i(20664),r=i(9392),s=i(79650),a=i(75762),l=i(87823),c=i(14721),d=i(51230),p=i(86210);function h(t,e){return y(t,e,!1)}function u(t,e){return y(t,e,!0)}function y(t,e,i){if(t instanceof p.D){if(t.operation instanceof l.a)return function(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=i?-1:1,a=(0,r.fA)(o*t.dx,o*t.dy,o*t.dz);(0,n.g)(e.origin,e.origin,a),(0,s.u)(e)}(t.operation,e,i),!0;if(t.operation instanceof c.m)return function(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=i?-t.angle:t.angle;(0,n.L)(e.basis1,e.basis1,r.uY,o),(0,n.L)(e.basis2,e.basis2,r.uY,o),(0,s.u)(e)}(t.operation,e,i),!0;if(t.operation instanceof d.j)return function(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=i?1/t.factor1:t.factor1,a=i?1/t.factor2:t.factor2;(0,n.h)(e.basis1,e.basis1,r),(0,n.h)(e.basis2,e.basis2,a),(0,o.Vj)(e.origin,e.origin,t.origin,t.axis1,r),(0,o.Vj)(e.origin,e.origin,t.origin,t.axis2,a),(0,s.u)(e)}(t.operation,e,i),!0}return!1}function g(t,e,i,r){let l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];r||(r=(0,s.d)());const c=(0,o.hZ)(a.oG.get(),t[1],-t[0]),d=(0,o.hZ)(a.oG.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),p=(0,o.hZ)(a.oG.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),h=a.oG.get(),u=e.allVertices;u.forEach((e=>{let{pos:i}=e;(0,o.hZ)(h,(0,o.Om)(t,i),(0,o.Om)(c,i)),(0,o.jk)(d,d,h),(0,o.T9)(p,p,h)}));const y=1e-6,g=(0,o.hZ)(a.oG.get(),p[0]-d[0]<y?i/2:0,p[1]-d[1]<y?i/2:0);(0,o.Re)(d,d,g),(0,o.WQ)(p,p,g);const f=l?u.reduce(((t,e)=>t+(e.pos[2]??0)),0)/u.length:0;return(0,o.hs)(r.basis1,t,(p[0]-d[0])/2),(0,o.hs)(r.basis2,c,(p[1]-d[1])/2),(0,n.i)(r.origin,d[0]*t[0]+d[1]*c[0],d[0]*t[1]+d[1]*c[1],f),(0,n.g)(r.origin,r.origin,r.basis1),(0,n.g)(r.origin,r.origin,r.basis2),(0,s.u)(r),r}},42151:(t,e,i)=>{i.d(e,{E5:()=>u,ZP:()=>m,vz:()=>g});var o=i(18690),n=i(94967),r=i(99809),s=i(60008),a=i(4336),l=i(20664),c=i(9392),d=i(19247),p=i(5568);function h(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null!=i?[t,e,i]:[t,e]}function u(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null!=i?{x:t,y:e,z:i}:{x:t,y:e}}class y{constructor(t){this.spatialReference=t}mapToLocalMultiple(t){return t.map((t=>this.mapToLocal(t))).filter(o.Ru)}get doUnnormalization(){return!1}}class g extends y{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e),this._defaultZ=i,this.transform=(0,r.vt)(),this.transformInv=(0,r.vt)(),this.transform=(0,r.o8)(t),(0,n.B8)(this.transformInv,this.transform)}makeMapPoint(t,e){return h(t,e,this._defaultZ)}mapToLocal(t){return u(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return h(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this._defaultZ)}}class f extends y{constructor(t,e){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=(0,c.vt)(),this.tangentFrameUpWS=(0,c.vt)(),this.tangentFrameRightWS=(0,c.vt)(),this.tangentFrameForwardWS=(0,c.vt)(),this.localFrameRightWS=(0,c.vt)(),this.localFrameUpWS=(0,c.vt)(),this.worldToLocalTransform=(0,a.vt)(),this.localToWorldTransform=(0,a.vt)(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=e,this.defaultZ=e.hasZ?e.z:null;const i=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,p._.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,p._.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,p._.Z,this.tangentFrameForwardWS);const o=(0,c.vt)();(0,l.h)(o,this.tangentFrameForwardWS,(0,l.f)(i,this.tangentFrameForwardWS)),(0,l.d)(this.localFrameRightWS,i,o),(0,l.n)(this.localFrameRightWS,this.localFrameRightWS),(0,l.e)(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),(0,s.Yc)(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),(0,s.B8)(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return"global"===this.view.viewingMode}makeMapPoint(t,e){return h(t,e,this.defaultZ)}mapToLocal(t){const e=(0,c.vt)();this.view.renderCoordsHelper.toRenderCoords(new d.default({x:t[0],y:t[1],spatialReference:this.spatialReference}),e),(0,l.w)(e,e,this.worldToLocalTransform);const i=this.view.renderCoordsHelper.fromRenderCoords(e,new d.default({spatialReference:this.view.spatialReference}));return null!=i?u(i.x/this.scale,i.y/this.scale):null}localToMap(t){const e=(0,c.vt)();this.view.renderCoordsHelper.toRenderCoords(new d.default({x:t.x*this.scale,y:t.y*this.scale,spatialReference:this.spatialReference}),e),(0,l.w)(e,e,this.localToWorldTransform);const i=this.view.renderCoordsHelper.fromRenderCoords(e,new d.default({spatialReference:this.view.spatialReference}));return null!=i?h(i.x,i.y,this.defaultZ):null}}function m(t,e){if("2d"===t.type)return new g(t.state.transform,t.spatialReference,e.length>2?e[2]:null);if("3d"===t.type){const i=e.length>2?new d.default({x:e[0],y:e[1],z:e[2],spatialReference:t.spatialReference}):new d.default({x:e[0],y:e[1],spatialReference:t.spatialReference});return new f(t,i)}return null}},56061:(t,e,i)=>{i.d(e,{t:()=>n,x:()=>o});const o=["freehand","hybrid","click"],n="click"},60767:(t,e,i)=>{i.d(e,{A:()=>r});var o=i(99486),n=i(99702);class r{constructor(t){this._observable=new n.I,this._set=new Set(t)}get size(){return(0,o.gc)(this._observable),this._set.size}add(t){const e=this._set.size;return this._set.add(t),this._set.size!==e&&this._observable.notify(),this}clear(){this._set.size>0&&(this._set.clear(),this._observable.notify())}delete(t){const e=this._set.delete(t);return e&&this._observable.notify(),e}entries(){return(0,o.gc)(this._observable),this._set.entries()}forEach(t,e){(0,o.gc)(this._observable),this._set.forEach(((i,o)=>t.call(e,i,o,this)),e)}has(t){return(0,o.gc)(this._observable),this._set.has(t)}keys(){return(0,o.gc)(this._observable),this._set.keys()}values(){return(0,o.gc)(this._observable),this._set.values()}[Symbol.iterator](){return(0,o.gc)(this._observable),this._set[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._set[Symbol.toStringTag]}}},70961:(t,e,i)=>{i.r(e),i.d(e,{default:()=>f});var o,n=i(35143),r=i(31633),s=i(46053),a=(i(81806),i(76460),i(47249),i(85842)),l=i(34111),c=i(19247),d=i(65215),p=i(13312),h=i(7137),u=i(45417),y=i(85996);let g=o=class extends d.default{constructor(t){super(t),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit="meters"}initialize(){const t=this.center,e=this.numberOfPoints;if(this.hasZ=t?.hasZ??!1,0!==this.rings.length||!t)return;const i=(0,r.oU)(this.radius,this.radiusUnit,"meters"),o=t.spatialReference;let n,s="geographic";if(o.isWebMercator?s="webMercator":(null!=(o.wkid&&y.A[o.wkid])||(o.wkt2||o.wkt)&&(0,r.x1)(o.wkt2||o.wkt))&&(s="projected"),this.geodesic){let o;switch(s){case"webMercator":o=(0,u.webMercatorToGeographic)(t);break;case"projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case"geographic":o=t}n=this._createGeodesicCircle(o,i,e),"webMercator"===s&&(n=(0,u.geographicToWebMercator)(n))}else{let o;"webMercator"===s||"projected"===s?o=i/(0,r.Ao)(t.spatialReference):"geographic"===s&&(o=(0,r.vl)(i,"meters",(0,l.tO)(t.spatialReference).radius)),n=this._createPlanarCircle(t,o,e)}this.spatialReference=n.spatialReference,this.addRing(n.rings[0])}clone(){const{center:t,numberOfPoints:e,radius:i,radiusUnit:n,geodesic:r}=this;return new o({center:t?.clone(),numberOfPoints:e,radius:i,radiusUnit:n,geodesic:r})}_createGeodesicCircle(t,e,i){const o=[],n=[t.x,t.y];for(let r=0;r<360;r+=360/i){const i=this.hasZ?[0,0,t.z??0]:[0,0];(0,h.directGeodeticSolver)(i,n,r,e,p.default.WGS84),o.push(i)}return o.push(o[0]),new d.default({rings:[o]})}_createPlanarCircle(t,e,i){const o=[],n=2*Math.PI/i;for(let r=0;r<i;++r){const i=n*r,s=[t.x+Math.cos(-i)*e,t.y+Math.sin(-i)*e];this.hasZ&&s.push(t.z??0),o.push(s)}return o.push(o[0]),new d.default({spatialReference:t.spatialReference,rings:[o]})}};(0,n._)([(0,s.MZ)({type:c.default})],g.prototype,"center",void 0),(0,n._)([(0,s.MZ)()],g.prototype,"geodesic",void 0),(0,n._)([(0,s.MZ)()],g.prototype,"numberOfPoints",void 0),(0,n._)([(0,s.MZ)()],g.prototype,"radius",void 0),(0,n._)([(0,s.MZ)()],g.prototype,"radiusUnit",void 0),g=o=(0,n._)([(0,a.$)("esri.geometry.Circle")],g);const f=g},76030:(t,e,i)=>{i.r(e),i.d(e,{getDrawMeshHelpMessage:()=>a});var o=i(31633),n=i(20664),r=i(9392),s=i(12482);function a(t,e){const i=t?.geometry;if(!t||"mesh"!==i?.type||!e)return;const{renderCoordsHelper:r,elevationProvider:a}=e,{camera:h}=e.state,{extent:u}=i,{center:y,spatialReference:g}=u,f=(0,o.GA)(g),m=(0,o.G9)(g),v=(0,o.GA)(r.spatialReference),w=u.width*f,_=u.height*m,x=(u.zmax??0)*m,M=x-(u.zmin??0)*m,O=Math.max(w,_,M)/v,{x:k,y:b}=y,R=y.z??0;(0,n.i)(p,k,b,R),r.toRenderCoords(p,g,p);const Z=O/h.computeScreenPixelSizeAt(p);if(Z>h.width*c)return"meshTooClose";if(Z<l)return"meshTooFar";const T=(0,s.bh)(t),{absoluteZ:S}=(0,s.Q5)(k,b,x,g,e,T);return S<(a.getElevation(k,b,R,g,"ground")??0)*m+M*d?"meshUnderground":"mesh"}const l=20,c=1,d=.1,p=(0,r.vt)()},94277:(t,e,i)=>{function o(t,e,i){if(null==t)return"noTool";switch(t){case"point":return"point";case"multipoint":return"multipoint";case"polyline":return function(t,e){const i=null!=t&&"polyline"===t.type&&t.paths.length?t.paths[0].length:0;return"freehand"===e?i<2?"freehandStart":"freehandEnd":i<2?"polylineZeroVertices":"polylineOneVertex"}(e,i);case"polygon":return function(t,e){const i=null!=t&&"polygon"===t.type&&t.rings.length?t.rings[0].length:0;if(i<3)switch(e){case"freehand":return"freehandStart";case"hybrid":return"polygonZeroVerticesHybrid";default:return"polygonZeroVertices"}else if(i<4)return"freehand"===e?"freehandEnd":"polygonOneVertex";return"polygonTwoVertices"}(e,i);case"rectangle":case"circle":return function(t,e){if((null!=t&&"polygon"===t.type&&t.rings.length?t.rings[0].length:0)<3)switch(e){case"freehand":return"freehandStart";case"click":return"shapeStartClick";default:return"shapeStartHybrid"}switch(e){case"freehand":return"freehandEnd";case"click":return"shapeEndClick";default:return"shapeEndHybrid"}}(e,i);default:return}}i.d(e,{$:()=>o})}}]);
//# sourceMappingURL=10061.0df4f4eb.chunk.js.map