{"version":3,"file":"static/js/71423.38e7f966.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightToSingleTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightApplyTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightBlurTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/RenderPassIdentifier.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js","../node_modules/@arcgis/core/views/3d/terrain/interfaces.js","../node_modules/@arcgis/core/views/3d/environment/RainyWeather.js","../node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/TextureCubeBindUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Integer2PassUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js","../node_modules/@arcgis/core/chunks/SingleHighlightBlur.glsl.js","../node_modules/@arcgis/core/views/3d/environment/Clouds.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js","../node_modules/@arcgis/core/geometry/support/axisAngleDegrees.js","../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../node_modules/@arcgis/core/views/3d/environment/weather.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js","../node_modules/@arcgis/core/chunks/HighlightApply.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ToneMapping.glsl.js","../node_modules/@arcgis/core/chunks/SingleHighlightApply.glsl.js","../node_modules/@arcgis/core/chunks/HighlightToSingle.glsl.js","../node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js","../node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js","../node_modules/@arcgis/core/core/NestedMap.js","../node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js","../node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js","../node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{generateUID as t}from\"../../../../core/uid.js\";import{copy as r,multiply as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as s}from\"../../../../chunks/vec32.js\";import{N as o,c as n,a as h}from\"../../../../chunks/sphere.js\";import{maxScale as a}from\"../../support/mathUtils.js\";class g{constructor(r,i={}){this.geometry=r,this.screenToWorldRatio=1,this._transformation=e(),this._shaderTransformation=null,this._boundingSphere=null,this.id=t(),this.layerUid=i.layerUid,this.graphicUid=i.graphicUid,this.castShadow=i.castShadow??!1,i.objectShaderTransformation&&this.objectShaderTransformationChanged(i.objectShaderTransformation)}get transformation(){return this._transformation}set transformation(t){r(this._transformation,t),this._boundingSphere=null}get boundingInfo(){return this.geometry.boundingInfo}objectShaderTransformationChanged(t){null==t?this._shaderTransformation=null:(this._shaderTransformation??=e(),i(this._shaderTransformation,t,this.geometry.transformation)),this._boundingSphere=null}get boundingSphere(){return this.boundingInfo?(null==this._boundingSphere&&(this._boundingSphere??=n(),s(h(this._boundingSphere),this.boundingInfo.center,this.shaderTransformation),this._boundingSphere[3]=this.boundingInfo.radius*a(this.shaderTransformation)),this._boundingSphere):o}get material(){return this.geometry.material}get type(){return this.geometry.type}get shaderTransformation(){return this._shaderTransformation??this.transformation}get attributes(){return this.geometry.attributes}get highlight(){return this.geometry.highlights}foreachHighlightOptions(t){this.geometry.foreachHighlightOptions(t)}get hasHighlights(){return this.geometry.hasHighlights}get occludees(){return this.geometry.occludees}get visible(){return this.geometry.visible}set visible(t){this.geometry.visible=t}}class m extends g{}export{g as RenderGeometry,m as ValidatedRenderGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as e,offset as t,copy as s}from\"../../../geometry/support/aaBoundingRect.js\";import{fromValues as i}from\"../webgl-engine/lib/LocalOriginFactory.js\";class n{constructor(){this._extent=e(),this.resolution=0,this.renderLocalOrigin=i(0,0,0,\"O\"),this.pixelRatio=1,this.mapUnitsPerPixel=1,this.canvasGeometries=new r}get extent(){return this._extent}setupGeometryViewsCyclical(e){this.setupGeometryView();const s=.001*e.range;if(this._extent[0]-s<=e.min){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];t(this._extent,e.range,0,s)}if(this._extent[2]+s>=e.max){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];t(this._extent,-e.range,0,s)}}setupGeometryView(){this.canvasGeometries.numViews=1,s(this.canvasGeometries.extents[0],this._extent)}hasSomeSizedView(){for(let e=0;e<this.canvasGeometries.numViews;e++){const t=this.canvasGeometries.extents[e];if(t[0]!==t[2]&&t[1]!==t[3])return!0}return!1}}class r{constructor(){this.extents=[e(),e(),e()],this.numViews=0}}export{n as Overlay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e}from\"../../../core/maybe.js\";class t{constructor(e,t,h){this._fbos=e,this._format=t,this._name=h}get valid(){return null!=this._handle?.getTexture()}dispose(){this._handle=e(this._handle)}get texture(){return this._handle?.getTexture()}bind(e,t,h){this._handle&&this._handle.fbo?.width===t&&this._handle.fbo?.height===h||(this._handle?.release(),this._handle=this._fbos.acquire(t,h,this._name,this._format)),e.bindFramebuffer(this._handle?.fbo)}generateMipMap(){this._handle?.getTexture()?.descriptor?.hasMipmap&&this._handle?.getTexture()?.generateMipmap()}}export{t as OverlayFramebufferObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{OverlayContent as e}from\"./OverlayContent.js\";import{OverlayFramebufferObject as r}from\"./OverlayFramebufferObject.js\";import{ColorFormat as o}from\"../webgl/formats.js\";import{ShaderOutput as t}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as l}from\"../webgl-engine/effects/geometry/olidUtils.js\";class s{constructor(e,t,l,s,i=o.RGBA_MIPMAP){this.output=l,this.content=s,this.fbo=new r(e,i,t)}get valid(){return this.fbo.valid}}class i{constructor(r){this.targets=[new s(r,\"overlay color\",t.Color,e.Color),new s(r,\"overlay IM color\",t.Color,e.ColorNoRasterImage),new s(r,\"overlay highlight\",t.Highlight,e.Highlight,o.RG),new s(r,\"overlay water\",t.Normal,e.WaterNormal),new s(r,\"overlay occluded\",t.Color,e.Occluded)],l()&&this.targets.push(new s(r,\"overlay olid\",t.ObjectAndLayerIdColor,e.ObjectAndLayerIdColor,o.RGBA))}getTexture(e){return this.targets[e]?.fbo.texture}dispose(){for(const e of this.targets)e.fbo.dispose()}computeValidity(){return this.targets.reduce(((e,r,o)=>r.valid?e|=1<<o:e),0)}}export{i as OverlayRenderTargets,s as RenderTargetDescriptor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../chunks/TextureOnly.glsl.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{makePipelineState as i,premultipliedAlphaToPremultipliedAlpha as l,defaultColorWrite as s}from\"../../../webgl/renderState.js\";class t extends o{constructor(o,i){super(o,i,new r(e,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\"))))}initializePipeline(e){return e.hasAlpha?i({blending:l,colorWrite:s}):i({colorWrite:s})}}export{t as TextureTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as e,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class r extends e{constructor(){super(...arguments),this.hasAlpha=!1}}s([o()],r.prototype,\"hasAlpha\",void 0);export{r as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../chunks/OverlayCompositing.glsl.js\";class s extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"./OverlayCompositing.glsl.js\"))))}}export{s as OverlayCompositingTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import\"../../../core/has.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{disposeMaybe as s}from\"../../../core/maybe.js\";import i from\"../../../core/PooledArray.js\";import{watch as n,syncAndInitial as o,on as a,initial as h}from\"../../../core/reactiveUtils.js\";import{someSet as l}from\"../../../core/SetUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ortho as u,fromTranslation as p}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{i as g}from\"../../../chunks/vec32.js\";import{ones as _}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{DrapeTargetType as m,DrapeSourceType as y,DrapedRenderGroup as f}from\"../layers/interfaces.js\";import{debugFlags as R}from\"../support/debugFlags.js\";import{OverlayIndex as b}from\"./interfaces.js\";import{Overlay as T}from\"./Overlay.js\";import{OverlayContent as w}from\"./OverlayContent.js\";import{OverlayRenderTargets as D}from\"./OverlayRenderTargets.js\";import v from\"../webgl/RenderCamera.js\";import{ShaderOutput as x}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{OverlayMode as O}from\"../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js\";import{T as S}from\"../../../chunks/TextureOnly.glsl.js\";import{SyncRenderPlugin as C}from\"../webgl-engine/effects/RenderPlugin.js\";import{trackHighlightOptions as E,renderHighlightBuffer as P}from\"../webgl-engine/effects/highlight/Highlight.js\";import{RenderRequestType as j}from\"../webgl-engine/lib/basicInterfaces.js\";import{GLMaterialRepository as A}from\"../webgl-engine/lib/GLMaterialRepository.js\";import{GridLocalOriginFactory as M}from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import{RenderOccludedFlag as W}from\"../webgl-engine/lib/Material.js\";import{OITPass as I}from\"../webgl-engine/lib/OITPass.js\";import{OverlayRenderContext as q,defaultRenderOccludedMask as N}from\"../webgl-engine/lib/RenderContext.js\";import{RenderSlot as F}from\"../webgl-engine/lib/RenderSlot.js\";import{ShadowMap as L}from\"../webgl-engine/lib/ShadowMap.js\";import{TextureTechnique as V}from\"../webgl-engine/lib/TextureTechnique.js\";import{TextureTechniqueConfiguration as H}from\"../webgl-engine/lib/TextureTechniqueConfiguration.js\";import{Update as G}from\"../webgl-engine/lib/Update.js\";import{UpdatePolicy as k}from\"../webgl-engine/lib/UpdatePolicy.js\";import{AmbientLight as U}from\"../webgl-engine/lighting/Lightsources.js\";import{O as B}from\"../../../chunks/OverlayCompositing.glsl.js\";import{OverlayCompositingTechnique as z}from\"../webgl-engine/shaders/OverlayCompositingTechnique.js\";import{TaskPriority as Y,noBudget as X}from\"../../support/Scheduler.js\";import{FramebufferBit as K,TextureSamplingMode as J}from\"../../webgl/enums.js\";import{Texture as Q}from\"../../webgl/Texture.js\";import{TextureDescriptor as Z}from\"../../webgl/TextureDescriptor.js\";let $=class extends C{constructor(e){super(e),this._overlays=null,this._renderTargets=null,this._overlayParameters=new B,this.hasHighlights=!1,this._hasWater=!1,this._renderers=new Map,this._sortedDrapeSourceRenderersDirty=!1,this._sortedRenderers=new i,this._passParameters=new S,this._materials=null,this._screenToWorldRatio=1,this._localOriginFactory=null,this.unloadedMemory=0,this.ignoresMemoryFactor=!1,this._camera=new v,this.events=new r,this.longitudeCyclical=null,this.produces=new Map([[F.DRAPED_MATERIAL,e=>e!==x.Highlight||this.hasHighlights],[F.DRAPED_WATER,()=>this._hasWater]]),this._hasTargetWithoutRasterImage=!1,this._hasDrapedFeatureSource=!1,this._hasDrapedRasterSource=!1}initialize(){const e=this._view,r=e._stage,t=r.renderer.fboCache,{waterTextures:s,textures:i}=r.renderView;this._renderContext=new q(this._rctx,new L(t,e.state.viewingMode)),this.addHandles([n((()=>s.updating),(()=>this.events.emit(\"content-changed\")),o),n((()=>this.spatialReference),(e=>this._localOriginFactory=new M(e)),o),a((()=>e.allLayerViews),\"after-changes\",(()=>this._sortedDrapeSourceRenderersDirty=!0)),n((()=>E(e.state.highlights)),(()=>this._sortedDrapeSourceRenderersDirty=!0),h),n((()=>e.state.highlights),(r=>{this._bindParameters.highlights=r,this._bindParameters.highlightOrderMap=e.state.highlightOrderMap,this._updateHighlights()}),h),e.resourceController.scheduler.registerTask(Y.STAGE,this)]),this._materials=new A(i,this._techniques,(()=>{this.notifyChange(\"rendersOccludedDraped\"),this.events.emit(\"content-changed\"),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\")}),(()=>this.events.emit(\"content-changed\")));const{_bindParameters:l,_camera:d}=this;d.near=1,d.far=1e4,d.relativeElevation=null,l.slot=F.DRAPED_MATERIAL,l.mainDepth=null,l.camera=d,l.oitPass=I.NONE,l.updateLighting([new U(_())],0,0,G.Immediate)}destroy(){this._renderers.forEach((e=>e.destroy())),this._renderers.clear(),this._passParameters.texture=s(this._passParameters.texture),this.disposeOverlays()}get _bindParameters(){return this._renderContext.bind}get _rctx(){return this._stage.renderView.renderingContext}get _view(){return this.parent.view}get _stage(){return this.parent.view._stage}get spatialReference(){return this.parent.spatialReference}get _techniques(){return this._stage.renderView.techniques}get rctx(){return this._rctx}get materials(){return this._materials}get screenToWorldRatio(){return this._screenToWorldRatio}get localOriginFactory(){return this._localOriginFactory}get pluginContext(){return this._pluginContext}initializeRenderContext(e){this._pluginContext=e,this._techniques.precompile(z)}uninitializeRenderContext(){}acquireTechniques(){return[]}render(){}get updating(){return this._sortedDrapeSourceRenderersDirty||t(this._renderers,(e=>e.updating))}get hasOverlays(){return null!=this._overlays&&null!=this._renderTargets}getMaterialRenderer(e){for(const r of this._renderers.values()){const t=r.getMaterialRenderer(e);if(t)return t}return null}get layers(){return this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers(),this._sortedRenderers.map((e=>e.drapeSource.layer)).filter((e=>!!e))}_updateHighlights(){const e=this._view.state;this._renderers.forEach((r=>r.updateHighlights(e.highlightOrderMap)))}createDrapeSourceRenderer(e,r,t){const s=this._renderers.get(e);null!=s&&s.destroy();const i=new r({...t,rendererContext:this,drapeSource:e});return this._renderers.set(e,i),this._sortedDrapeSourceRenderersDirty=!0,\"fullOpacity\"in e&&this.addHandles(n((()=>e.fullOpacity),(()=>this.events.emit(\"content-changed\"))),e),i}removeDrapeSourceRenderer(e){if(null==e)return;const r=this._renderers.get(e);null!=r&&(this._sortedDrapeSourceRenderersDirty=!0,this._renderers.delete(e),this.removeHandles(e),r.destroy())}computeValidity(){return this._renderTargets?.computeValidity()??0}releaseRenderTargets(){this._renderTargets?.dispose()}get overlays(){return this._overlays??[]}ensureDrapeTargets(e){this._hasTargetWithoutRasterImage=!!this._overlays&&l(e,(e=>e.drapeTargetType===m.WithoutRasterImage))}ensureDrapeSources(e){this._overlays?(this._hasDrapedFeatureSource=l(e,(e=>e.drapeSourceType===y.Features)),this._hasDrapedRasterSource=l(e,(e=>e.drapeSourceType===y.RasterImage))):this._hasDrapedFeatureSource=this._hasDrapedRasterSource=!1}get _needsColorWithoutRasterImage(){return this._hasDrapedRasterSource&&this._hasDrapedFeatureSource&&this._hasTargetWithoutRasterImage}ensureOverlays(e,r,t=this._bindParameters.overlayStretch){null==this._overlays&&(this._renderTargets=new D(this._stage.renderer.fboCache),this._overlays=[new T,new T]),this.ensureDrapeTargets(e),this.ensureDrapeSources(r),this._bindParameters.overlayStretch=t}disposeOverlays(){this._overlays=null,this._renderTargets=s(this._renderTargets),this.events.emit(\"textures-disposed\")}getTexture(e){if(null!=e)return e===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage&&this._hasDrapedFeatureSource?this._renderTargets?.getTexture(w.Color):this._renderTargets?.getTexture(e)}get running(){return this.updating}runTask(e){this._processDrapeSources(e,(()=>!0))}_processDrapeSources(e,r){let s=!1;for(const[t,i]of this._renderers){if(e.done)break;(t.destroyed||r(t))&&(i.commitChanges(this._view.state.highlightOrderMap)&&(s=!0,e.madeProgress()))}this._sortedDrapeSourceRenderersDirty&&(this._sortedDrapeSourceRenderersDirty=!1,s=!0,this._updateSortedDrapeSourceRenderers()),s&&(null!=this._overlays&&0===this._renderers.size&&this.disposeOverlays(),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\"),this.events.emit(\"content-changed\"),this.hasHighlights=t(this._renderers,(e=>e.hasHighlights)),this.notifyChange(\"rendersOccludedDraped\"))}hasHighlightOptions(e){return t(this._renderers,(r=>r.hasHighlightOptions(e)))}processSyncDrapeSources(){this._processDrapeSources(X,(e=>e.updatePolicy===k.SYNC))}get isEmpty(){return!R.OVERLAY_DRAW_DEBUG_TEXTURE&&!t(this._renderers,(e=>!e.isEmpty))}get hasWater(){const e=t(this._renderers,(e=>e.hasWater));return e!==this._hasWater&&(this._hasWater=e,this.events.emit(\"has-water\")),this._hasWater}get rendersOccludedDraped(){const e=this._renderContext.renderOccludedMask;this._renderContext.renderOccludedMask=se,++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,this._renderContext.renderOccludedMask=e,r}renders(e){if(R.OVERLAY_DRAW_DEBUG_TEXTURE&&e!==w.Occluded&&e!==w.Highlight)return!0;++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,r}get mode(){return this.isEmpty?O.Disabled:this.hasWater&&this.renders(w.WaterNormal)?O.EnabledWithWater:this._renderTargets?.getTexture(w.Color)?O.Enabled:O.Disabled}updateAnimation(e){let r=!1;return this._renderers.forEach((t=>r=t.updateAnimation(e)||r)),r&&this.parent.requestRender(j.BACKGROUND),r}updateDrapeSourceOrder(){this._sortedDrapeSourceRenderersDirty=!0}precompileShaders(e){if(this._renderTargets){this._bindParameters.alignPixelEnabled=e.alignPixelEnabled,++this._techniques.precompiling;for(const e of this._renderTargets.targets){if(e.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=e.output;this._renderContext.output=r,this._bindParameters.slot=r===x.Normal?F.DRAPED_WATER:F.DRAPED_MATERIAL,e.content===w.Occluded&&(this._renderContext.renderOccludedMask=se),this._sortedRenderers.forAll((({drapeSource:r,renderer:t})=>{e.content===w.ColorNoRasterImage&&r.drapeSourceType===y.RasterImage||t.precompile(this._renderContext)})),this._renderContext.renderOccludedMask=N}--this._techniques.precompiling}}drawOverlays(e){if(this._overlays&&this._renderTargets){for(const e of this._overlays)this.longitudeCyclical?e.setupGeometryViewsCyclical(this.longitudeCyclical):e.setupGeometryView();this._bindParameters.alignPixelEnabled=e.alignPixelEnabled;for(const e of this._renderTargets.targets){if(e.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=this._drawTarget(b.INNER,e),t=this._drawTarget(b.OUTER,e);(r||t)&&e.fbo.generateMipMap()}}}_drawTarget(e,r){const t=this._overlays[e],s=t.canvasGeometries;if(0===s.numViews)return!1;const i=this._view.state.contentPixelRatio;this._screenToWorldRatio=i*t.mapUnitsPerPixel/this._bindParameters.overlayStretch;const n=r.output;if(this.isEmpty||n===x.Normal&&!this.hasWater||!t.hasSomeSizedView())return!1;const{_rctx:o,_camera:a,_renderContext:h,_bindParameters:l}=this;if(a.pixelRatio=t.pixelRatio*i,h.output=n,l.screenToWorldRatio=this._screenToWorldRatio,l.screenToPCSRatio=this._screenToWorldRatio*this.parent.worldToPCSRatio,l.slot=n===x.Normal?F.DRAPED_WATER:F.DRAPED_MATERIAL,r.content===w.Occluded&&(h.renderOccludedMask=se),!this.renders(r.content))return h.renderOccludedMask=N,!1;const{resolution:d}=t,c=e===b.INNER?0:d;o.setViewport(c,0,d,d),this._bindTargetFBO(r),e===b.INNER&&(o.setClearColor(0,0,0,0),o.clear(K.COLOR));if(R.OVERLAY_DRAW_DEBUG_TEXTURE&&r.content!==w.Occluded&&r.content!==w.Highlight){this._techniques.precompile(V,ie);const r=this._techniques.get(V,ie);for(let i=0;i<s.numViews;i++)this._setViewParameters(s.extents[i],t),this._ensureDebugPatternResources(t.resolution,re[e]),o.bindTechnique(r,l,this._passParameters),o.screen.draw()}if(r.output===x.Highlight){const{fboCache:t}=this._stage.renderer,s=this._resolution;this._bindTargetFBO(r),P(o,t,{width:s,height:s},l,(()=>this._renderAllGeometry(e,r)),c)}else this._renderAllGeometry(e,r);return o.bindFramebuffer(null),h.renderOccludedMask=N,!0}_renderAllGeometry(e,r){const t=this._overlays[e],s=t.canvasGeometries;this._sortedRenderers.forAll((({drapeSource:i,renderer:n})=>{if(r.content===w.ColorNoRasterImage&&i.drapeSourceType===y.RasterImage)return;const{fullOpacity:o}=i,a=null!=o&&o<1&&r.output===x.Color&&this._bindTemporaryFBO();for(let e=0;e<s.numViews;e++)this._setViewParameters(s.extents[e],t),n.render(this._renderContext);if(a){this._bindTargetFBO(r),this._overlayParameters.texture=a.getTexture(),this._overlayParameters.opacity=o,this._overlayParameters.overlayIndex=e;const t=this._techniques.get(z);this._rctx.bindTechnique(t,this._bindParameters,this._overlayParameters),this._rctx.screen.draw(),a.release()}}))}_bindTargetFBO(e){const r=this._resolution,t=2*r;e.fbo.bind(this._rctx,t,r)}_bindTemporaryFBO(){const e=this._resolution,r=2*e,t=this._stage.renderer.fboCache,s=t.acquire(r,e,\"overlay tmp\");return t.rctx.bindFramebuffer(s.fbo),t.rctx.clear(K.COLOR),s}get _resolution(){return this._overlays?.[b.INNER].resolution??0}notifyContentChanged(){this.events.emit(\"content-changed\")}intersect(e,r,t,s){this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers();let i=0;for(const{renderer:n}of this._sortedRenderers)i=n.intersect?.(e,r,t,s,i)??i}_updateSortedDrapeSourceRenderers(){if(this._sortedRenderers.clear(),0===this._renderers.size)return;const e=this._view.map.allLayers,r=e.length;this._renderers.forEach(((t,s)=>{const i=e.indexOf(s.layer),n=i>=0,o=s.renderGroup??(n?f.MapLayer:f.ViewLayer),a=r*o+(n?i:0);this._sortedRenderers.push(new ee(s,t,a))})),this._sortedRenderers.sort(((e,r)=>e.index-r.index))}_setViewParameters(e,r){const t=this._camera;t.viewport=[0,0,r.resolution,r.resolution],u(t.projectionMatrix,0,e[2]-e[0],0,e[3]-e[1],t.near,t.far),p(t.viewMatrix,[-e[0],-e[1],0])}_ensureDebugPatternResources(e,r){if(g(this._passParameters.color,r[0],r[1],r[2]),this._passParameters.texture)return;const t=new Uint8Array(e*e*4);let s=0;for(let n=0;n<e;n++)for(let r=0;r<e;r++){const i=Math.floor(r/10),o=Math.floor(n/10);i<2||o<2||10*i>e-20||10*o>e-20?(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=255):(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=1&i&&1&o?1&r^1&n?0:255:1&i^1&o?0:128)}const i=new Z(e);i.samplingMode=J.NEAREST,this._passParameters.texture=new Q(this._rctx,i,t)}get test(){}};e([d()],$.prototype,\"hasHighlights\",void 0),e([d()],$.prototype,\"_sortedDrapeSourceRenderersDirty\",void 0),e([d({constructOnly:!0})],$.prototype,\"parent\",void 0),e([d({readOnly:!0})],$.prototype,\"_techniques\",null),e([d({type:Boolean,readOnly:!0})],$.prototype,\"updating\",null),e([d()],$.prototype,\"isEmpty\",null),e([d({readOnly:!0})],$.prototype,\"rendersOccludedDraped\",null),$=e([c(\"esri.views.3d.terrain.OverlayRenderer\")],$);class ee{constructor(e,r,t){this.drapeSource=e,this.renderer=r,this.index=t}}const re=[[1,.5,.5],[.5,.5,1]],te=-2,se=W.OccludeAndTransparent,ie=new H;ie.hasAlpha=!0;export{$ as OverlayRenderer,te as drapedZ,se as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{H as i}from\"../../../../../chunks/HighlightApply.glsl.js\";import{makePipelineState as o,premultipliedAlphaToPremultipliedAlpha as s,defaultColorWrite as l}from\"../../../../webgl/renderState.js\";class t extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightApply.glsl.js\"))))}initializePipeline(){return o({blending:s,colorWrite:l})}}export{t as HighlightApplyTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{makePipelineState as s,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"../../shaders/HighlightDownsample.glsl.js\"))))}initializePipeline(){return s({colorWrite:i})}}export{l as HighlightDownsampleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{defaultOccludedFactor as t}from\"../../../../support/HighlightDefaults.js\";import{NoParameters as o}from\"../../../../webgl/NoParameters.js\";class e extends o{constructor(){super(...arguments),this.occludedFactor=t,this.verticalCellCount=0,this.horizontalCellCount=0,this.highlightLevel=0,this.pixelRatio=1}}export{e as HighlightPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{H as i}from\"../../../../../chunks/HighlightToSingle.glsl.js\";import{makePipelineState as o,defaultColorWrite as s}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightToSingle.glsl.js\"))))}initializePipeline(){return o({colorWrite:s})}}export{l as HighlightToSingleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{S as i}from\"../../../../../chunks/SingleHighlightApply.glsl.js\";import{makePipelineState as l,premultipliedAlphaToPremultipliedAlpha as o,defaultColorWrite as s}from\"../../../../webgl/renderState.js\";class t extends r{constructor(r,l){super(r,l,new e(i,(()=>import(\"../../shaders/SingleHighlightApply.glsl.js\"))))}initializePipeline(){return l({blending:o,colorWrite:s})}}export{t as SingleHighlightApplyTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as i}from\"../../../../../chunks/SingleHighlightBlur.glsl.js\";import{makePipelineState as l,defaultColorWrite as o}from\"../../../../webgl/renderState.js\";class s extends r{constructor(r,l){super(r,l,new e(i,(()=>import(\"../../shaders/SingleHighlightBlur.glsl.js\"))))}initializePipeline(){return l({colorWrite:o})}}export{s as SingleHighlightBlurTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{releaseMaybe as t,disposeMaybe as i}from\"../../../../../core/maybe.js\";import{watch as r,initial as s}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{set as l}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{ZEROS as n}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{InternalRenderCategory as a}from\"../../../webgl.js\";import{ColorFormat as g}from\"../../../webgl/formats.js\";import c from\"../../../webgl/RenderNode.js\";import{HighlightApplyTechnique as u}from\"./HighlightApplyTechnique.js\";import{HighlightDownsampleTechnique as m}from\"./HighlightDownsampleTechnique.js\";import{HighlightPassParameters as p}from\"./HighlightPassParameters.js\";import{HighlightToSingleTechnique as d}from\"./HighlightToSingleTechnique.js\";import{SingleHighlightApplyTechnique as f}from\"./SingleHighlightApplyTechnique.js\";import{SingleHighlightBlurTechnique as b}from\"./SingleHighlightBlurTechnique.js\";import{RenderRequestType as T}from\"../../lib/basicInterfaces.js\";import{Default3D as w}from\"../../lib/DefaultVertexAttributeLocations.js\";import{NoVertex as x}from\"../../lib/DefaultVertexBufferLayouts.js\";import{VertexArrayObject as _}from\"../../lib/VertexArrayObject.js\";import{H as C,g as v}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{S as j}from\"../../../../../chunks/SingleHighlightBlur.glsl.js\";import{BufferObject as H}from\"../../../../webgl/BufferObject.js\";import{PixelFormat as q,TextureSamplingMode as P,FramebufferBit as R,Usage as D,TextureType as O,PrimitiveType as S,DataType as A}from\"../../../../webgl/enums.js\";import{Texture as E}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as y}from\"../../../../webgl/TextureDescriptor.js\";let I=class extends c{constructor(){super(...arguments),this.produces=a.HIGHLIGHTS,this.consumes={required:[a.HIGHLIGHTS,\"highlights\"]},this._useMultipleHighlights=!1,this._downsampleDrawParameters=new C,this._passParameters=new p,this._singleHighlightBlurDrawParameters=new j,this._grid=new M}initialize(){this.addHandles([r((()=>this._updateOptionsTexture()),(()=>{}),s)])}destroy(){this._grid.coverage=t(this._grid.coverage),this._grid.vao=i(this._grid.vao),this._passParameters.highlightOptionsTexture=t(this._passParameters.highlightOptionsTexture)}_updateOptionsTexture(){if(null==this._passParameters.highlightOptionsTexture){const e=new y(16,2);e.internalFormat=q.RGBA,e.samplingMode=P.NEAREST,this._passParameters.highlightOptionsTexture=new E(this.renderingContext,e,null)}this._passParameters.highlightOptionsTexture.setData(U(this.view.state.highlights)),this.requestRender(T.UPDATE)}precompile(){this.techniques.precompile(m),this._useMultipleHighlights?this.techniques.precompile(u):(this.techniques.precompile(d),this.techniques.precompile(b),this.techniques.precompile(f))}render(e){const t=e.find((({name:e})=>e===a.HIGHLIGHTS)),{techniques:i,bindParameters:r,_passParameters:s,renderingContext:o}=this;if(!r.decorations)return t;const h=i.get(m);if(!h.compiled)return this.requestRender(T.UPDATE),t;const l=e.find((({name:e})=>\"highlights\"===e)).getTexture(),n=()=>{this._gridUpdateResources(l);const e=this._gridComputeCoverage(h,l,r),{horizontalCellCount:t,verticalCellCount:i}=e;return s.horizontalCellCount=t,s.verticalCellCount=i,s.coverageTexture=e.coverage?.getTexture(),e},g=e=>{const t=e.verticalCellCount*e.horizontalCellCount;o.bindVAO(e.vao),o.drawElementsInstanced(S.TRIANGLES,6,A.UNSIGNED_BYTE,0,t)},{camera:c}=r,u=()=>{o.bindFramebuffer(t.fbo),o.setViewport4fv(c.fullViewport)};return this._useMultipleHighlights?this._renderMultiple(l,n,g,u):this._renderSingle(l,n,g,u),s.highlightTexture=null,s.coverageTexture=null,t}_renderMultiple(e,t,i,r){const{techniques:s,bindParameters:o,_passParameters:h,renderingContext:l}=this,n=s.get(u);if(!n.compiled)return void this.requestRender(T.UPDATE);const a=t();h.highlightTexture=e,h.pixelRatio=o.camera.pixelRatio,l.bindTechnique(n,o,h),r(),i(a)}_renderSingle(e,t,i,r){const{fboCache:s,techniques:o,bindParameters:h,_passParameters:n,renderingContext:a}=this,c=o.get(d),u=o.get(b),m=o.get(f);if(!m.compiled||!u.compiled||!c.compiled)return void this.requestRender(T.UPDATE);const p=t(),{width:w,height:x}=e.descriptor;n.highlightTexture=e;const{camera:_}=h,{fullWidth:C,fullHeight:v,pixelRatio:j}=_,H=Math.ceil(C/j),q=Math.ceil(v/j),{_singleHighlightBlurDrawParameters:P}=this,D=this.view._stage.renderView.renderer,{highlights:O}=h;for(let d=0;d<O.length;++d){const{name:e}=O[d];if(!D.hasHighlightOptions(e))continue;n.highlightLevel=d,a.setClearColor(0,0,0,0);const t=s.acquire(w,x,\"single highlight\",g.RG);a.bindFramebuffer(t.fbo),a.setViewport(0,0,w,x),a.clear(R.COLOR),a.bindTechnique(c,h,n),i(p),P.blurInput=t.getTexture(),l(P.blurSize,1/H,0);const o=s.acquire(H,q,\"single highlight blur h\",g.RG);a.unbindTexture(o.fbo?.colorTexture),a.bindFramebuffer(o.fbo),a.setViewport(0,0,H,q),a.clear(R.COLOR),a.bindTechnique(u,h,n,P),i(p),t.release(),l(P.blurSize,0,1/q),n.singleHighlightBlurTexture=o.getTexture(),r(),a.bindTechnique(m,h,n,P),i(p),o.release()}}_gridUpdateResources(e){const t=this._grid,{width:i,height:r}=e.descriptor;if(t.horizontalCellCount=Math.ceil(i/v),t.verticalCellCount=Math.ceil(r/v),t.vao)return;const s=this.renderingContext,o=H.createIndex(s,D.STATIC_DRAW,F);t.vao=new _(s,w,new Map([[\"geometry\",x]]),new Map([[\"geometry\",H.createVertex(s,D.STATIC_DRAW)]]),o)}_gridComputeCoverage(e,t,i){const r=this.renderingContext,s=this._grid,o=t.descriptor,h=Math.ceil(o.width/v),l=Math.ceil(o.height/v);this._downsampleDrawParameters.input=t,s.coverage?.release();const n=this.fboCache.acquire(h,l,\"highlight coverage\",g.RG);return s.coverage=n,r.bindFramebuffer(n.fbo),r.bindTechnique(e,i,this._passParameters,this._downsampleDrawParameters),r.setViewport(0,0,h,l),r.screen.draw(),s}get test(){}};e([o()],I.prototype,\"produces\",void 0),e([o()],I.prototype,\"consumes\",void 0),I=e([h(\"esri.views.3d.webgl-engine.effects.highlight.Highlight\")],I);class M{constructor(){this.coverage=null,this.vao=null,this.verticalCellCount=0,this.horizontalCellCount=0,this.viewportWidth=0,this.viewportHeight=0}}function U(e){const t=new Uint8Array(128);let i=0;for(const r of e){const e=4*i,s=4*i+64;++i;const{color:o}=r,h=r.haloColor??o;t[e+0]=o.r,t[e+1]=o.g,t[e+2]=o.b,t[e+3]=r.fillOpacity*o.a*255,t[s+0]=h.r,t[s+1]=h.g,t[s+2]=h.b,t[s+3]=r.haloOpacity*h.a*255}return t}let G=0;function L(e){let t=0;for(const r of e){const{name:e}=r;t+=e.length;const{color:i,fillOpacity:s,haloColor:o,haloOpacity:h}=r;t+=i.r+i.g+i.b+i.a+s,t+=o?o.r+o.g+o.b+o.a+h:0}const i=e.at(0);if(i){const{shadowOpacity:e,shadowDifference:r,shadowColor:s}=i;t+=e+r+s.r+s.g+s.b+s.a}return G+++(t>=0?0:1)}const F=new Uint8Array([0,1,2,2,1,3]);function V(e,t,i,r,s,o=0){const h=r.highlights,a=h.length>1?t.acquire(i.width,i.height,\"highlight mix\",g.RG):null;if(a){const t=e.getBoundFramebufferObject();e.bindFramebuffer(a.fbo),e.clearFramebuffer(n),e.bindFramebuffer(t)}const c=a?.getTexture();r.highlightMixTexture=c,l(r.highlightMixOrigin,o,0),h.forEach(((t,h)=>{h>0&&(e.bindTexture(c,E.TEXTURE_UNIT_FOR_UPDATES),e.gl.copyTexSubImage2D(O.TEXTURE_2D,0,0,0,o,0,i.width,i.height),e.bindTexture(null,E.TEXTURE_UNIT_FOR_UPDATES)),e.clear(R.DEPTH),r.highlightLevel=h,s()})),r.highlightLevel=null,r.highlightMixTexture=null,a?.release()}export{I as Highlight,V as renderHighlightBuffer,L as trackHighlightOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.Material=0]=\"Material\",a[a.ShadowMap=1]=\"ShadowMap\",a[a.Highlight=2]=\"Highlight\",a[a.ViewshedShadowMap=3]=\"ViewshedShadowMap\"}(a||(a={}));export{a as RenderPassIdentifier};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{CloudsParameters as h}from\"../../environment/CloudsParameters.js\";import e from\"../../webgl/RenderCamera.js\";import{HUDRenderStyle as s}from\"../core/shaderLibrary/hud/HUDRenderStyle.js\";import{OITPass as r}from\"./OITPass.js\";import{RenderSlot as g}from\"./RenderSlot.js\";import{Update as n}from\"./Update.js\";import{SceneLighting as l}from\"../lighting/SceneLighting.js\";class a{constructor(i,t){this.width=i,this.height=t}}class o{constructor(i){this.shadowMap=i,this.slot=g.OPAQUE_MATERIAL,this.slicePlane=null,this.hasOccludees=!1,this.enableFillLights=!0,this.oitPass=r.NONE,this.alignPixelEnabled=!1,this.decorations=!0,this.overlayStretch=1,this.viewshedEnabled=!1,this._camera=new e,this._inverseViewport=t(),this._oldLighting=new l,this._newLighting=new l,this._fadedLighting=new l,this._lighting=this._newLighting,this.ssr=new c,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.highlights=new Array,this.highlightOrderMap=new Map,this.highlightMixOrigin=t(),this.highlightMixTexture=null,this.hudRenderStyle=s.Occluded,this.hudOccludedFragmentOpacity=1,this.clouds=new h,this.shadowHighlightsVisible=!1}get camera(){return this._camera}set camera(i){this._camera=i,this._inverseViewport[0]=1/i.fullViewport[2],this._inverseViewport[1]=1/i.fullViewport[3]}get inverseViewport(){return this._inverseViewport}get lighting(){return this._lighting}fadeLighting(){switch(this.clouds.fadeFactor){case 0:this._lighting=this._oldLighting;break;default:this._fadedLighting.lerpLighting(this._oldLighting,this._newLighting,this.clouds.fadeFactor),this._lighting=this._fadedLighting;break;case 1:this._lighting=this._newLighting,this._oldLighting.copyFrom(this._newLighting)}}updateLighting(i,t,h,e){this._oldLighting.copyFrom(this.lighting),this._newLighting.noonFactor=t,this._newLighting.globalFactor=h,this._newLighting.set(i),e===n.FadeWithWeather&&this.clouds.requestFade(),this.fadeLighting()}get highlight(){return null==this.highlightLevel?null:this.highlights[this.highlightLevel]}}class c{constructor(){this.fadeFactor=1,this.reprojectionMatrix=i()}}export{o as BindParameters,a as ViewportSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{VertexAttribute as e}from\"./VertexAttribute.js\";import{DataType as r}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as t}from\"../../../webgl/VertexElementDescriptor.js\";const O=[],o=[new t(e.POSITION,3,r.FLOAT,0,12)],m=[new t(e.POSITION,2,r.FLOAT,0,8)],n=[new t(e.POSITION,2,r.FLOAT,0,16),new t(e.UV0,2,r.FLOAT,8,16)];export{O as NoVertex,m as Pos2,n as Pos2Tex,o as Pos3};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{hasArea as o,width as r,height as t}from\"../../../../../../geometry/support/aaBoundingRect.js\";import{OverlayIndex as a}from\"../../../../terrain/interfaces.js\";import{OverlayContent as l}from\"../../../../terrain/OverlayContent.js\";import{RenderPassIdentifier as i}from\"../../renderPasses/RenderPassIdentifier.js\";import{isColorOrColorEmission as n,ShaderOutput as v}from\"../ShaderOutput.js\";import{addMainLightDirection as d,addMainLightIntensity as s}from\"../shading/MainLighting.glsl.js\";import{PBRMode as c}from\"../shading/PhysicallyBasedRenderingParameters.glsl.js\";import{Water as x}from\"../shading/Water.glsl.js\";import{Float4DrawUniform as u}from\"../../shaderModules/Float4DrawUniform.js\";import{FloatPassUniform as y}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as m}from\"../../shaderModules/glsl.js\";import{Texture2DPassUniform as p}from\"../../shaderModules/Texture2DPassUniform.js\";import{Uniform as f}from\"../../../../../webgl/Uniform.js\";var C;function g(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new u(\"overlayTexOffset\",((e,o)=>b(e,o))),new u(\"overlayTexScale\",((e,o)=>V(e,o)))),t.constants.add(\"overlayOpacity\",\"float\",1),t.uniforms.add(new p(\"ovColorTex\",((e,o)=>T(e,o)))),h(e,o)}function O(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new w(\"overlayTexOffset\"),new w(\"overlayTexScale\")),t.uniforms.add(new y(\"overlayOpacity\",(e=>e.overlayOpacity)),new p(\"ovColorTex\",((e,o)=>o.overlay?.getTexture(e.overlayContent)))),h(e,o)}function h(e,o){const r=o.pbrMode===c.Water||o.pbrMode===c.WaterOnIntegratedMesh||o.pbrMode===c.TerrainWithWater;r&&e.include(x,o);const{vertex:t,fragment:a}=e;e.varyings.add(\"vtcOverlay\",\"vec4\"),t.code.add(m`void setOverlayVTC(in vec2 uv) {\nvtcOverlay = vec4(uv, uv) * overlayTexScale + overlayTexOffset;\n}`),a.code.add(m`bool isValid(vec2 uv, vec2 dxdy) {\nreturn (uv.x >= 0.0 + dxdy.x) && (uv.x <= 1.0 - dxdy.x) && (uv.y >= 0.0 + dxdy.y) && (uv.y <= 1.0 - dxdy.y);\n}\nvec4 getOverlayColor(sampler2D ov0Tex, vec4 texCoords) {\nvec4 color0 = texture(ov0Tex, vec2(texCoords.x * 0.5, texCoords.y));\nvec4 color1 = texture(ov0Tex, vec2(texCoords.z * 0.5 + 0.5, texCoords.w));\nbool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));\nbool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));\nreturn mix(color1 * float(isValid1), color0, float(isValid0));\n}`),a.code.add(m`vec4 getCombinedOverlayColor() {\nreturn overlayOpacity * getOverlayColor(ovColorTex, vtcOverlay);\n}`),a.code.add(m`vec4 getOverlayColorTexel() {\nvec4 texCoords = vtcOverlay;\nvec2 texDim =  vec2(textureSize(ovColorTex, 0));\nvec4 color0 = texelFetch(ovColorTex, ivec2(vec2(texCoords.x * 0.5, texCoords.y) * texDim), 0);\nvec4 color1 = texelFetch(ovColorTex, ivec2(vec2(texCoords.z * 0.5 + 0.5, texCoords.w) * texDim), 0);\nbool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));\nbool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));\nreturn mix(color1 * float(isValid1), color0, float(isValid0));\n}`),a.code.add(m`vec2 getAllOverlayHighlightValuesEncoded() {\nvec4 texCoords = vtcOverlay;\nvec2 uvInner = texCoords.xy;\nvec2 uvOuter = texCoords.zw;\nbool isValidInner = isValid(uvInner, fwidth(uvInner));\nbool isValidOuter = isValid(uvOuter, vec2(0.0, 0.0));\nvec2 texelCoordInner = uvInner * vec2(0.5, 1.0);\nvec2 texelCoordOuter = uvOuter * vec2(0.5, 1.0) + vec2(0.5,0.0);\nvec2 texDim =  vec2(textureSize(ovColorTex, 0));\nvec2 texelValueInner = texelFetch(ovColorTex, ivec2(texelCoordInner * texDim), 0).rg;\nvec2 texelValueOuter = texelFetch(ovColorTex, ivec2(texelCoordOuter * texDim), 0).rg;\nreturn\nisValidInner ? texelValueInner :\nisValidOuter ? texelValueOuter :\nvec2(0.0);\n}`),r&&(d(a),s(a),a.code.add(m`vec4 getOverlayWaterColor(vec4 maskInput, vec4 colorInput, vec3 vposEyeDir,\nfloat shadow, vec3 localUp, mat3 tbn, vec3 position, vec3 positionWorld) {\nvec3 n = normalize(tbn *  (2.0 * maskInput.rgb - vec3(1.0)));\nvec3 v = vposEyeDir;\nvec3 final = getSeaColor(n, v, mainLightDirection, colorInput.rgb, mainLightIntensity, localUp, 1.0 - shadow, maskInput.w, position, positionWorld);\nreturn vec4(final, colorInput.w);\n}`))}function T(e,o){return e.identifier===i.Material&&n(e.output)?o.overlay?.getTexture(l.ColorNoRasterImage):e.identifier===i.Material&&e.output===v.ObjectAndLayerIdColor?o.overlay?.getTexture(l.ObjectAndLayerIdColor):e.identifier===i.Highlight?o.overlay?.getTexture(l.Highlight):null}function b(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(I[0]=e.toMapSpace[0]/r(i)-i[0]/r(i),I[1]=e.toMapSpace[1]/t(i)-i[1]/t(i));const n=l.overlay?.overlays[a.OUTER]?.extent;return o(n)&&(I[2]=e.toMapSpace[0]/r(n)-n[0]/r(n),I[3]=e.toMapSpace[1]/t(n)-n[1]/t(n)),I}function V(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(I[0]=e.toMapSpace[2]/r(i),I[1]=e.toMapSpace[3]/t(i));const n=l.overlay?.overlays[a.OUTER]?.extent;return o(n)&&(I[2]=e.toMapSpace[2]/r(n),I[3]=e.toMapSpace[3]/t(n)),I}!function(e){e[e.Disabled=0]=\"Disabled\",e[e.Enabled=1]=\"Enabled\",e[e.EnabledWithWater=2]=\"EnabledWithWater\",e[e.COUNT=3]=\"COUNT\"}(C||(C={}));const I=e();class w extends f{constructor(e){super(e,\"vec4\")}}export{g as OverlayIM,C as OverlayMode,O as OverlayTerrain,T as getIMColorTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar E,A,O;!function(E){E[E.INNER=0]=\"INNER\",E[E.OUTER=1]=\"OUTER\"}(E||(E={})),function(E){E[E.REGULAR=0]=\"REGULAR\",E[E.HAS_NORTH_POLE=1]=\"HAS_NORTH_POLE\",E[E.HAS_SOUTH_POLE=2]=\"HAS_SOUTH_POLE\",E[E.HAS_BOTH_POLES=3]=\"HAS_BOTH_POLES\"}(A||(A={})),function(E){E[E.FADING=0]=\"FADING\",E[E.IMMEDIATE=1]=\"IMMEDIATE\",E[E.UNFADED=2]=\"UNFADED\"}(O||(O={}));export{E as OverlayIndex,A as PatchType,O as TextureUpdate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";var s;let p=s=class extends r{constructor(o){super(o),this.type=\"rainy\",this.cloudCover=.5,this.precipitation=.5}clone(){return new s({cloudCover:this.cloudCover,precipitation:this.precipitation})}};o([t({rainy:\"rainy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),p=s=o([i(\"esri.views.3d.environment.RainyWeather\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DDrawUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";import{NoParameters as r}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as l}from\"../views/webgl/ShaderBuilder.js\";class u extends r{}function o(){const r=new l,{outputs:u,fragment:o}=r;return r.include(e),o.uniforms.add(new i(\"textureInput\",(e=>e.input))),o.constants.add(\"outlineWidth\",\"int\",Math.ceil(n)),o.constants.add(\"cellSize\",\"int\",c),u.add(\"fragGrid\",\"vec2\"),o.main.add(t`ivec2 inputTextureSize = textureSize(textureInput, 0);\nivec2 cellBottomLeftCornerInput = ivec2(floor(gl_FragCoord.xy) * vec2(cellSize));\nivec2 coordMid =  cellBottomLeftCornerInput + ivec2(cellSize >> 1);\nuvec2 centreTexel = uvec2( texelFetch(textureInput, coordMid, 0).rg * 255.0) & uvec2(0x55u);\nfloat marginSquare = float(outlineWidth*outlineWidth);\nuvec2 outputValue = centreTexel & uvec2(0x55u);\nfor(int y = -outlineWidth; y <= cellSize + outlineWidth; y+=2) {\nint dy = y < 0 ? -y : y > cellSize ? y-cellSize : 0;\nint xMargin = dy > 0 ? int(ceil(sqrt(marginSquare - float(dy*dy)))) : outlineWidth;\nfor(int x = -xMargin; x <= cellSize + xMargin; x+=2) {\nivec2 coord = cellBottomLeftCornerInput + ivec2(x, y);\nuvec2[4] texels = uvec2[4] (\nuvec2(texelFetch(textureInput,coord+ivec2(0,0),0).rg * 255.0) & uvec2(0x55u),\nuvec2(texelFetch(textureInput,coord+ivec2(1,0),0).rg * 255.0) & uvec2(0x55u),\nuvec2(texelFetch(textureInput,coord+ivec2(0,1),0).rg * 255.0) & uvec2(0x55u),\nuvec2(texelFetch(textureInput,coord+ivec2(1,1),0).rg * 255.0) & uvec2(0x55u)\n);\nif (texels[0] == texels[1] && texels[1] == texels[2] && texels[2] == texels[3] && texels[3] ==  centreTexel) {\ncontinue;\n}\nfor (int i=0; i<4; ++i){\noutputValue |= ((texels[i] ^ centreTexel) << 1);\noutputValue |= texels[i];\n}\n}\n}\nfragGrid = vec2(outputValue) / 255.0;`),r}const c=32,n=9,a=.4,s=Object.freeze(Object.defineProperty({__proto__:null,HighlightDownsampleDrawParameters:u,blurSize:a,build:o,gridCellPixelSize:c,outlineSize:n},Symbol.toStringTag,{value:\"Module\"}));export{u as H,s as a,a as b,o as c,c as g,n as o};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Milliseconds as r}from\"../../../../core/time.js\";import e from\"../../webgl/RenderCamera.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{BindParameters as s}from\"./BindParameters.js\";import{RenderOccludedFlag as i}from\"./Material.js\";class a{constructor(r,i){this.rctx=r,this.lastFrameCamera=new e,this.output=t.Color,this.renderOccludedMask=o,this.bind=new s(i),this.bind.alignPixelEnabled=!0}}class n extends a{constructor(e,t,s){super(e,t),this.techniques=s,this.time=r(0)}}const o=i.Occlude|i.OccludeAndTransparent|i.OccludeAndTransparentStencil;export{a as OverlayRenderContext,n as RenderContext,o as defaultRenderOccludedMask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var p;let c=p=class extends r{constructor(o){super(o),this.type=\"foggy\",this.fogStrength=.5}clone(){return new p({fogStrength:this.fogStrength})}};o([t({foggy:\"foggy\"}),e({json:{write:{isRequired:!0}}})],c.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,\"fogStrength\",void 0),c=p=o([s(\"esri.views.3d.environment.FoggyWeather\")],c);const i=c;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BindType as e}from\"../../../../webgl/BindType.js\";import{Uniform as r}from\"../../../../webgl/Uniform.js\";class o extends r{constructor(r,o){super(r,\"samplerCube\",e.Bind,((e,s)=>e.bindTexture(r,o(s))))}}export{o as TextureCubeBindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromValues as o}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{earth as t}from\"../../../../../../geometry/support/Ellipsoid.js\";import{CloudsTextureChannels as e}from\"../../../../environment/Clouds.js\";import{FadeState as a}from\"../../../../environment/CloudsParameters.js\";import{cloudsHeight as r}from\"../../../../environment/weather.js\";import{addMainLightDirection as i,addMainLightIntensity as c}from\"../shading/MainLighting.glsl.js\";import{BooleanBindUniform as d}from\"../../shaderModules/BooleanBindUniform.js\";import{Float3BindUniform as n}from\"../../shaderModules/Float3BindUniform.js\";import{FloatBindUniform as l}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as s}from\"../../shaderModules/glsl.js\";import{Matrix4BindUniform as u}from\"../../shaderModules/Matrix4BindUniform.js\";import{TextureCubeBindUniform as m}from\"../../shaderModules/TextureCubeBindUniform.js\";function h(t){const r=t.fragment;r.constants.add(\"radiusCloudsSquared\",\"float\",C).code.add(s`vec3 intersectWithCloudLayer(vec3 dir, vec3 cameraPosition, vec3 spherePos) {\nfloat B = 2.0 * dot(cameraPosition, dir);\nfloat C = dot(cameraPosition, cameraPosition) - radiusCloudsSquared;\nfloat det = B * B - 4.0 * C;\nfloat pointIntDist = max(0.0, 0.5 *(-B + sqrt(det)));\nreturn (cameraPosition + dir * pointIntDist) - spherePos;\n}`),r.uniforms.add(new l(\"radiusCurvatureCorrection\",(({clouds:o})=>o.parallax.radiusCurvatureCorrection))).code.add(s`vec3 correctForPlanetCurvature(vec3 dir) {\ndir.z = dir.z * (1.0 - radiusCurvatureCorrection) + radiusCurvatureCorrection;\nreturn dir;\n}`),r.code.add(s`vec3 rotateDirectionToAnchorPoint(mat4 rotMat, vec3 inVec) {\nreturn (rotMat * vec4(inVec, 0.0)).xyz;\n}`),i(r),c(r);const h=o(.28,.175,.035);r.constants.add(\"RIM_COLOR\",\"vec3\",h);const v=.3,f=140,p=.2,g=10,w=.3;r.code.add(s`\n    vec3 calculateCloudColor(vec3 cameraPosition, vec3 worldSpaceRay, vec4 clouds) {\n      float upDotLight = dot(cameraPosition, mainLightDirection);\n      float dirDotLight = max(dot(worldSpaceRay, mainLightDirection), 0.0);\n      float sunsetTransition = clamp(pow(max(upDotLight, 0.0), ${s.float(v)}), 0.0, 1.0);\n\n      // Base color of the clouds that depends on lighting of the sun and sky\n      vec3 ambientLight = calculateAmbientIrradiance(cameraPosition,  0.0);\n      vec3 combinedLight = clamp((mainLightIntensity + ambientLight )/PI, vec3(0.0), vec3(1.0));\n      vec3 baseCloudColor = pow(combinedLight * pow(clouds.xyz, vec3(GAMMA)), vec3(INV_GAMMA));\n\n      // Rim light around the edge of the clouds simulating scattering of the direct lun light\n      float scatteringMod = max(clouds.a < 0.5 ? clouds.a / 0.5 : - clouds.a / 0.5 + 2.0, 0.0);\n      float rimLightIntensity = 0.5 + 0.5 * pow(max(upDotLight, 0.0), 0.35);\n      vec3 directSunScattering = RIM_COLOR * rimLightIntensity * (pow(dirDotLight, ${s.float(f)})) * scatteringMod;\n\n      // Brighten the clouds around the sun at the sunsets\n      float additionalLight = ${s.float(p)} * pow(dirDotLight, ${s.float(g)}) * (1. - pow(sunsetTransition, ${s.float(w)})) ;\n\n      return vec3(baseCloudColor * (1.0 + additionalLight) + directSunScattering);\n    }\n  `),r.uniforms.add(new d(\"readChannelsRG\",(o=>o.clouds.readChannels===e.RG)),new m(\"cubeMap\",(o=>o.clouds.data?.cubeMap?.colorTexture??null))).code.add(s`vec4 sampleCloud(vec3 rayDir, bool readOtherChannel) {\nvec4 s = texture(cubeMap, rayDir);\nbool readRG = readChannelsRG ^^ readOtherChannel;\ns = readRG ? vec4(vec3(s.r), s.g) : vec4(vec3(s.b), s.a);\nreturn length(s) == 0.0 ? vec4(s.rgb, 1.0) : s;\n}`),r.uniforms.add(new n(\"anchorPoint\",(o=>o.clouds.parallax.anchorPoint)),new n(\"anchorPointNew\",(o=>o.clouds.parallaxNew.anchorPoint)),new u(\"rotationClouds\",(o=>o.clouds.parallax.transform)),new u(\"rotationCloudsNew\",(o=>o.clouds.parallaxNew.transform)),new l(\"cloudsOpacity\",(o=>o.clouds.opacity)),new l(\"fadeFactor\",(o=>o.clouds.fadeFactor)),new d(\"crossFade\",(o=>o.clouds.fadeState===a.CROSS_FADE))).code.add(s`vec4 renderClouds(vec3 worldRay, vec3 cameraPosition) {\nvec3 intersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPoint);\nvec3 worldRayRotated = rotateDirectionToAnchorPoint(rotationClouds, normalize(intersectionPoint));\nvec3 worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);\nvec4 cloudData = sampleCloud(worldRayRotatedCorrected, crossFade);\nvec3 cameraPositionN = normalize(cameraPosition);\nvec4 cloudColor = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);\nif(crossFade) {\nintersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPointNew);\nworldRayRotated = rotateDirectionToAnchorPoint(rotationCloudsNew, normalize(intersectionPoint));\nworldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);\ncloudData = sampleCloud(worldRayRotatedCorrected, false);\nvec4 cloudColorNew = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);\ncloudColor = mix(cloudColor, cloudColorNew, fadeFactor);\n}\nfloat totalTransmittance = length(cloudColor.rgb) == 0.0 ?\n1.0 :\nclamp(cloudColor.a * cloudsOpacity + (1.0 - cloudsOpacity), 0.0 , 1.0);\nreturn vec4(cloudColor.rgb, totalTransmittance);\n}`)}const C=(t.radius+r)**2;export{h as CloudsParallaxShading};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar o;!function(o){o[o.Color=0]=\"Color\",o[o.ColorNoRasterImage=1]=\"ColorNoRasterImage\",o[o.Highlight=2]=\"Highlight\",o[o.WaterNormal=3]=\"WaterNormal\",o[o.Occluded=4]=\"Occluded\",o[o.ObjectAndLayerIdColor=5]=\"ObjectAndLayerIdColor\"}(o||(o={}));export{o as OverlayContent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{disposeMaybe as t}from\"../../../../core/maybe.js\";import{NestedMap as r}from\"../../../../core/NestedMap.js\";import{assert as i}from\"./Util.js\";class s{constructor(e,t,i,s){this._textures=e,this._techniques=t,this.materialChanged=i,this.requestRender=s,this._id2glMaterialRef=new r}dispose(){this._textures.destroy()}acquire(e,t,r){this._ownMaterial(e);const i=e.produces.get(t);if(!i?.(r))return null;let s=this._id2glMaterialRef.get(r,e.id);if(null==s){const t=e.createGLMaterial({material:e,techniques:this._techniques,textures:this._textures,output:r});s=new a(t),this._id2glMaterialRef.set(r,e.id,s)}return s.ref(),s.glMaterial}release(e,r){const i=this._id2glMaterialRef.get(r,e.id);null!=i&&(i.unref(),i.referenced||(t(i.glMaterial),this._id2glMaterialRef.delete(r,e.id)))}_ownMaterial(t){t.repository&&t.repository!==this&&e.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRepository\").error(\"Material is already owned by a different material repository\"),t.repository=this}}class a{constructor(e){this.glMaterial=e,this._refCnt=0}ref(){++this._refCnt}unref(){--this._refCnt,i(this._refCnt>=0)}get referenced(){return this._refCnt>0}}export{s as GLMaterialRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/glsl.js\";function o(o){o.fragment.code.add(t`float normals2FoamIntensity(vec3 n, float waveStrength){\nfloat normalizationFactor =  max(0.015, waveStrength);\nreturn max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);\n}`)}function n(o){o.fragment.code.add(t`vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){\nreturn foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;\n}`)}export{n as FoamColor,o as FoamIntensity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class e extends s{constructor(s,e){super(s,\"ivec2\",r.Pass,((r,o,i)=>r.setUniform2iv(s,e(o,i))))}}export{e as Integer2PassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as e}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as l}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{glsl as i}from\"../shaderModules/glsl.js\";import{Integer2PassUniform as t}from\"../shaderModules/Integer2PassUniform.js\";import{IntegerPassUniform as o}from\"../shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as n}from\"../shaderModules/Texture2DPassUniform.js\";import{g as c}from\"../../../../../chunks/HighlightDownsample.glsl.js\";function s(l){const{vertex:s}=l;s.uniforms.add(new n(\"coverageTexture\",(e=>e.coverageTexture)),new t(\"highlightRenderCellCount\",(l=>e(r,l.horizontalCellCount,l.verticalCellCount))),new t(\"highlightTextureResolution\",(({highlightTexture:l})=>e(r,l.descriptor.width,l.descriptor.height))),new o(\"highlightLevel\",(e=>e.highlightLevel))).constants.add(\"cellSize\",\"int\",c),l.varyings.add(\"sUV\",\"vec2\"),l.varyings.add(\"vOutlinePossible\",\"float\"),s.code.add(i`const ivec2 cellVertices[4] = ivec2[4](ivec2(0,0), ivec2(1,0), ivec2(0,1), ivec2(1,1));`).main.add(i`int cellIndex = gl_InstanceID;\nint cellX = cellIndex % highlightRenderCellCount[0];\nint cellY = (cellIndex - cellX) / highlightRenderCellCount[0];\nivec2 cellPos = ivec2(cellX, cellY);\nuvec2 covTexel = uvec2(texelFetch(coverageTexture, cellPos, 0).rg * 255.0);\nint channelIndex = (highlightLevel >> 2) & 3;\nuint channelValue = covTexel[channelIndex];\nint highlightIndex = (highlightLevel & 3) << 1;\nbool covered = ((channelValue >> highlightIndex) & 1u) == 1u;\nif (!covered) {\ngl_Position = vec4(0.0);\nreturn;\n}\nvOutlinePossible = (((channelValue >> highlightIndex) & 2u) == 2u) ? 1.0 : 0.0;\nivec2 iPosInCell = cellVertices[gl_VertexID];\nvec2 sPos = vec2(cellPos * cellSize + iPosInCell * (cellSize));\nvec2 vPos = sPos / vec2(highlightTextureResolution);\nsUV = vPos;\ngl_Position = vec4(2.0 * vPos - vec2(1.0), 0.0, 1.0);`)}const r=l();export{s as HighlightCellGridScreenSpacePass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{HighlightCellGridScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{Float2DrawUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DDrawUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";import{NoParameters as s}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as u}from\"../views/webgl/ShaderBuilder.js\";class n extends s{constructor(){super(...arguments),this.blurSize=e()}}function o(){const e=new u;return e.include(r),e.outputs.add(\"fragSingleHighlight\",\"vec2\",0),e.fragment.uniforms.add(new t(\"blurSize\",(e=>e.blurSize)),new l(\"blurInput\",(e=>e.blurInput))).main.add(i`vec2 highlightTextureSize = vec2(textureSize(blurInput,0));\nvec2 center = texture(blurInput, sUV).rg;\nif (vOutlinePossible == 0.0) {\nfragSingleHighlight = center;\n} else {\nvec2 sum = center * 0.204164;\nsum += texture(blurInput, sUV + blurSize * 1.407333).rg * 0.304005;\nsum += texture(blurInput, sUV - blurSize * 1.407333).rg * 0.304005;\nsum += texture(blurInput, sUV + blurSize * 3.294215).rg * 0.093913;\nsum += texture(blurInput, sUV - blurSize * 3.294215).rg * 0.093913;\nfragSingleHighlight = sum;\n}`),e}const g=Object.freeze(Object.defineProperty({__proto__:null,SingleHighlightBlurDrawParameters:n,build:o},Symbol.toStringTag,{value:\"Module\"}));export{n as S,g as a,o as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar n,e;function d(n){return null!=n&&!n.running}!function(n){n[n.Idle=0]=\"Idle\",n[n.Rendering=1]=\"Rendering\",n[n.Ready=2]=\"Ready\",n[n.Fading=3]=\"Fading\"}(n||(n={})),function(n){n[n.RG=0]=\"RG\",n[n.BA=1]=\"BA\",n[n.COUNT=2]=\"COUNT\"}(e||(e={}));export{e as CloudsTextureChannels,n as CubeMapState,d as ensureClouds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.Immediate=0]=\"Immediate\",e[e.FadeWithWeather=1]=\"FadeWithWeather\"}(e||(e={}));export{e as Update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{rad2deg as r,deg2rad as t}from\"../../core/mathUtils.js\";import{getRotation as n}from\"../../core/libs/gl-matrix-2/math/mat4.js\";import{getAxisAngle as o,setAxisAngle as i,multiply as u}from\"../../core/libs/gl-matrix-2/math/quat.js\";import{create as c}from\"../../core/libs/gl-matrix-2/factories/quatf64.js\";import{c as e,e as f,n as s,r as m}from\"../../chunks/vec32.js\";import{UNIT_X as a,UNIT_Y as l,UNIT_Z as p}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";function j(r=B){return[r[0],r[1],r[2],r[3]]}function x(r,t,n,o){return h(r,t,n,o,E)}function b(r,t){return h(r[0],r[1],r[2],t,E)}function g(r,t=j()){return h(r[0],r[1],r[2],r[3],t)}function h(r,t,n,o,i=j()){return i[0]=r,i[1]=t,i[2]=n,i[3]=o,i}function q(r,t,n=j()){return e(w(n),r),n[3]=t,n}function v(r,t,n){return f(n,r,t),s(n,n),n[3]=-m(r,t),n}function k(t,i=j()){const u=n(C,t);return A(i,r(o(i,u))),i}function U(t,n,c=j()){return i(C,w(t),z(t)),i(D,w(n),z(n)),u(C,D,C),A(c,r(o(w(c),C)))}function d(r,t,n,o=j()){return q(a,r,F),q(l,t,G),q(p,n,H),U(F,G,F),U(F,H,o),o}function w(r){return r}function y(r){return r[3]}function z(r){return t(r[3])}function A(r,t){return r[3]=t,r}const B=[0,0,1,0],C=c(),D=c(),E=j(),F=j(),G=j(),H=j();export{y as angle,z as angleRad,w as axis,U as compose,d as composeAxes,g as copy,j as create,q as fromAxisAndAngle,k as fromMatrix,v as fromPoints,h as fromValues,A as setAngle,B as up,x as wrap,b as wrapAxisAngle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{Float3PassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{NoParameters as l}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as i}from\"../views/webgl/ShaderBuilder.js\";class a extends l{constructor(){super(...arguments),this.color=e(1,1,1)}}function n(){const e=new i;return e.include(r),e.fragment.uniforms.add(new t(\"tex\",(e=>e.texture)),new o(\"uColor\",(e=>e.color))),e.fragment.main.add(s`vec4 texColor = texture(tex, uv);\nfragColor = texColor * vec4(uColor, 1.0);`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,TextureOnlyPassParameters:a,build:n},Symbol.toStringTag,{value:\"Module\"}));export{a as T,m as a,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"./CloudyWeather.js\";import r from\"./FoggyWeather.js\";import o from\"./RainyWeather.js\";import t from\"./SnowyWeather.js\";import y from\"./SunnyWeather.js\";const n={key:\"type\",base:y,typeMap:{sunny:y,cloudy:e,rainy:o,snowy:t,foggy:r}},a=Object.keys(n.typeMap);function s(e,r){return!!a.includes(e)||(r.error(`\"${e}\" is not a valid weather type`),!1)}const p=1e4,i=1e5;export{i as cloudsHeight,p as heightLimit,s as validateWeatherType,n as weatherTypes,a as weatherTypesArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar E,I;!function(E){E[E.ADD=0]=\"ADD\",E[E.UPDATE=1]=\"UPDATE\",E[E.REMOVE=2]=\"REMOVE\"}(E||(E={})),function(E){E[E.NONE=0]=\"NONE\",E[E.VISIBILITY=1]=\"VISIBILITY\",E[E.GEOMETRY=2]=\"GEOMETRY\",E[E.TRANSFORMATION=4]=\"TRANSFORMATION\",E[E.HIGHLIGHT=8]=\"HIGHLIGHT\",E[E.OCCLUDEE=16]=\"OCCLUDEE\"}(I||(I={}));export{E as DirtyOperation,I as DirtyState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReadDepth as e}from\"../output/ReadDepth.glsl.js\";import{Float2BindUniform as t}from\"../../shaderModules/Float2BindUniform.js\";import{FloatBindUniform as o}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";import{Matrix4BindUniform as i}from\"../../shaderModules/Matrix4BindUniform.js\";import{Texture2DBindUniform as a}from\"../../shaderModules/Texture2DBindUniform.js\";function d(d,n){if(!n.screenSpaceReflections)return;const c=d.fragment;c.include(e),c.uniforms.add(new t(\"nearFar\",(e=>e.camera.nearFar)),new a(\"depthMap\",(e=>e.depth?.attachment)),new i(\"proj\",(e=>e.camera.projectionMatrix)),new o(\"invResolutionHeight\",(e=>1/e.camera.height)),new i(\"reprojectionMatrix\",(e=>e.ssr.reprojectionMatrix))).code.add(r`\n  vec2 reprojectionCoordinate(vec3 projectionCoordinate)\n  {\n    vec4 zw = proj * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);\n    vec4 reprojectedCoord = reprojectionMatrix * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);\n    reprojectedCoord.xy /= reprojectedCoord.w;\n    return reprojectedCoord.xy * 0.5 + 0.5;\n  }\n\n  const int maxSteps = ${n.highStepCount?\"150\":\"75\"};\n\n  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)\n  {\n    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);\n    projectedCoord.xy /= projectedCoord.w;\n    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;\n    return projectedCoord;\n  }\n\n  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)\n  {\n    vec3 viewPos = startPosition;\n    vec3 viewPosEnd = startPosition;\n\n    // Project the start position to the screen\n    vec4 projectedCoordStart = applyProjectionMat(proj, viewPos);\n    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space\n    float k0 = 1.0/ projectedCoordStart.w;\n\n    // advance the position in the direction of the reflection\n    viewPos += dir;\n\n    vec4 projectedCoordVanishingPoint = applyProjectionMat(proj, dir);\n\n    // Project the advanced position to the screen\n    vec4 projectedCoordEnd = applyProjectionMat(proj, viewPos);\n    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space\n    float k1 = 1.0/ projectedCoordEnd.w;\n\n    // calculate the reflection direction in the screen space\n    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);\n    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);\n\n    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);\n\n    float projectedCoordDirLength = length(projectedCoordDir);\n    float maxSt = float(maxSteps);\n\n    // normalize the projection direction depending on maximum steps\n    // this determines how blocky the reflection looks\n    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);\n\n    // Normalize the homogeneous camera space coordinates\n    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);\n    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);\n\n    // initialize the variables for ray marching\n    vec2 P = projectedCoordStart.xy;\n    vec3 Q = Q0;\n    float k = k0;\n    float rayStartZ = -startPosition.z; // estimated ray start depth value\n    float rayEndZ = -startPosition.z;   // estimated ray end depth value\n    float prevEstimateZ = -startPosition.z;\n    float rayDiffZ = 0.0;\n    float dDepth;\n    float depth;\n    float rayDiffZOld = 0.0;\n\n    // early outs\n    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)\n      return vec3(P, 0.0);\n    float dDepthBefore = 0.0;\n\n    for(int i = 0; i < maxSteps-1; i++)\n    {\n      depth = -linearDepthFromTexture(depthMap, P); // get linear depth from the depth buffer\n\n      // estimate depth of the marching ray\n      rayStartZ = prevEstimateZ;\n      dDepth = -rayStartZ - depth;\n      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));\n      rayDiffZ = rayEndZ- rayStartZ;\n      prevEstimateZ = rayEndZ;\n\n      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )\n      {\n        return vec3(P, 0.);\n      }\n\n      // If we detect a hit - return the intersection point, two conditions:\n      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth\n      //  - if difference between dDepth and rayDiffZOld is not too large\n      //  - if difference between dDepth and 0.025/abs(k) is not too large\n      //  - if the sampled depth is not behind far plane or in front of near plane\n\n      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)\n      {\n        float weight = dDepth / (dDepth - dDepthBefore);\n        vec2 Pf = mix(P - dP, P, 1.0 - weight);\n        if (abs(Pf.y - projectedCoordStart.y) > invResolutionHeight) {\n          return vec3(Pf, depth);\n        }\n        else {\n          return vec3(P, depth);\n        }\n      }\n\n      // continue with ray marching\n      P = clamp(P + dP, vec2(0.0), vec2(0.999));\n      Q.z += dQ.z;\n      k += dk;\n      rayDiffZOld = rayDiffZ;\n      dDepthBefore = dDepth;\n    }\n    return vec3(P, 0.0);\n  }\n  `)}export{d as ScreenSpaceReflections};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{FoamColor as e}from\"./FoamRendering.glsl.js\";import{Gamma as o}from\"./Gamma.glsl.js\";import{PhysicallyBasedRenderingWater as t}from\"./PhysicallyBasedRendering.glsl.js\";import{distanceFadeStart as r,distanceFadeEnd as i}from\"./ScreenSpaceConstants.js\";import{ScreenSpaceReflections as n}from\"./ScreenSpaceReflections.glsl.js\";import{CloudsParallaxShading as a}from\"../util/CloudsParallaxShading.glsl.js\";import{FloatBindUniform as l}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as d}from\"../../shaderModules/glsl.js\";import{Matrix4BindUniform as c}from\"../../shaderModules/Matrix4BindUniform.js\";import{Texture2DBindUniform as s}from\"../../shaderModules/Texture2DBindUniform.js\";import{ToneMapping as f}from\"../../../shaders/ToneMapping.glsl.js\";function m(m,v){m.include(t,v),m.include(o),m.include(e),v.cloudReflections&&m.include(a),m.include(n,v);const u=m.fragment;u.include(f),u.constants.add(\"fresnelSky\",\"vec3\",[.02,1,15]),u.constants.add(\"fresnelMaterial\",\"vec2\",[.02,.1]),u.constants.add(\"roughness\",\"float\",.015),u.constants.add(\"foamIntensityExternal\",\"float\",1.7),u.constants.add(\"ssrIntensity\",\"float\",.65),u.constants.add(\"ssrHeightFadeStart\",\"float\",r),u.constants.add(\"ssrHeightFadeEnd\",\"float\",i),u.constants.add(\"waterDiffusion\",\"float\",.92),u.constants.add(\"waterSeaColorMod\",\"float\",.8),u.constants.add(\"correctionViewingPowerFactor\",\"float\",.4),u.constants.add(\"skyZenitColor\",\"vec3\",[.52,.68,.9]),u.constants.add(\"skyColor\",\"vec3\",[.67,.79,.9]),u.constants.add(\"cloudFresnelModifier\",\"vec2\",[1.2,.01]),u.code.add(d`PBRShadingWater shadingInfo;\nvec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {\nfloat exponent = pow((1.0 - cosTheta), fresnelSky[2]);\nreturn mix(zenit, horizon, exponent);\n}`),u.uniforms.add(new l(\"lightingSpecularStrength\",(e=>e.lighting.mainLight.specularStrength)),new l(\"lightingEnvironmentStrength\",(e=>e.lighting.mainLight.environmentStrength))),u.code.add(d`vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 viewPosition, vec3 position) {\nfloat reflectionHit = 0.0;\nfloat reflectionHitDiffused = 0.0;\nvec3 seaWaterColor = linearizeGamma(color);\nvec3 h = normalize(l + v);\nshadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);\nshadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);\nshadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);\nshadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);\nshadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);\nfloat upDotV = max(dot(localUp,v), 0.0);\nvec3 skyHorizon = linearizeGamma(skyColor);\nvec3 skyZenit = linearizeGamma(skyZenitColor);\nvec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );\nfloat upDotL = max(dot(localUp,l),0.0);\nfloat daytimeMod = 0.1 + upDotL * 0.9;\nskyColor *= daytimeMod;\nfloat shadowModifier = clamp(shadow, 0.8, 1.0);\nvec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);\nvec3 reflSky = lightingEnvironmentStrength * fresnelModifier * skyColor * shadowModifier;\nvec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;\nvec3 specular = vec3(0.0);\nif(upDotV > 0.0 && upDotL > 0.0) {\nvec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);\nvec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;\nfloat NdotL = clamp(dot(n, l), 0.0, 1.0);\nspecular = lightingSpecularStrength * NdotL * incidentLight * specularSun;\n}\nvec3 foam = vec3(0.0);\nif(upDotV > 0.0) {\nfoam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);\n}\nfloat correctionViewingFactor = pow(max(dot(v, localUp), 0.0), correctionViewingPowerFactor);\nvec3 normalCorrectedClouds = mix(localUp, n, correctionViewingFactor);\nvec3 reflectedWorld = normalize(reflect(-v, normalCorrectedClouds));`),v.cloudReflections&&u.uniforms.add(new l(\"cloudsOpacity\",(e=>e.clouds.opacity))).code.add(d`vec4 cloudsColor = renderClouds(reflectedWorld, position);\ncloudsColor.a = 1.0 - cloudsColor.a;\ncloudsColor = pow(cloudsColor, vec4(GAMMA));\ncloudsColor *= clamp(fresnelModifier.y * cloudFresnelModifier[0] - cloudFresnelModifier[1], 0.0, 1.0) * cloudsOpacity;`),v.screenSpaceReflections?u.uniforms.add(new c(\"view\",(e=>e.camera.viewMatrix)),new s(\"lastFrameColorTexture\",(e=>e.ssr.lastFrameColor?.getTexture())),new l(\"fadeFactorSSR\",(e=>e.ssr.fadeFactor))).code.add(d`vec3 viewDir = normalize(viewPosition);\nvec4 viewNormalVectorCoordinate = view * vec4(n, 0.0);\nvec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);\nvec4 viewUp = view * vec4(localUp, 0.0);\nvec3 viewNormalCorrectedSSR = mix(viewUp.xyz, viewNormal, correctionViewingFactor);\nvec3 reflected = normalize(reflect(viewDir, viewNormalCorrectedSSR));\nvec3 hitCoordinate = screenSpaceIntersection(reflected, viewPosition, viewDir, viewUp.xyz);\nvec3 reflectedColor = vec3(0.0);\nif (hitCoordinate.z > 0.0)\n{\nvec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);\nvec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));\nfloat heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -viewPosition.z);\nreflectionHit = clamp(1.0 - (1.3 * dCoords.y), 0.0, 1.0) * heightMod * fadeFactorSSR;\nreflectionHitDiffused = waterDiffusion * reflectionHit;\nreflectedColor = linearizeGamma(texture(lastFrameColorTexture, reprojectedCoordinate).xyz) *\nreflectionHitDiffused * fresnelModifier.y * ssrIntensity;\n}\nfloat seaColorMod =  mix(waterSeaColorMod, waterSeaColorMod * 0.5, reflectionHitDiffused);\nvec3 waterRenderedColor = tonemapACES((1.0 - reflectionHitDiffused) * reflSky + reflectedColor +\nreflSea * seaColorMod + specular + foam);`):u.code.add(d`vec3 waterRenderedColor = tonemapACES(reflSky + reflSea * waterSeaColorMod + specular + foam);`),v.cloudReflections?v.screenSpaceReflections?u.code.add(d`return waterRenderedColor * (1.0 - (1.0 - reflectionHit) * cloudsColor.a) + (1.0 - reflectionHit) * cloudsColor.xyz;\n}`):u.code.add(d`return waterRenderedColor * (1.0 - cloudsColor.a) + cloudsColor.xyz;\n}`):u.code.add(d`return waterRenderedColor;\n}`)}export{m as Water};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Accessor.js\";import{ShaderOutput as r}from\"../core/shaderLibrary/ShaderOutput.js\";const t={required:[]},s={required:[r.Depth]};class n extends e{precompile(e){return!!this.acquireTechniques(e)}consumes(){return t}get usedMemory(){return 0}get isDecoration(){return!1}get running(){return!1}modify(e){}get numGeometries(){return 0}get hasOccludees(){return!1}get hasEmissions(){return!1}forEachGeometry(e){}queryRenderOccludedState(e){return!1}}class u extends n{}class o extends n{}export{o as AsyncRenderPlugin,s as ConsumesDepth,t as ConsumesNone,u as SyncRenderPlugin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as l}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerBindUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/IntegerBindUniform.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as r}from\"../views/webgl/ShaderBuilder.js\";function a(){const a=new r;a.include(e);const{fragment:c}=a;return c.uniforms.add(new n(\"highlightTexture\",(e=>e.highlightTexture)),new n(\"highlightOptionsTexture\",(e=>e.highlightOptionsTexture)),new i(\"pixelRatio\",(e=>e.pixelRatio)),new i(\"occludedIntensityFactor\",(e=>e.occludedFactor)),new o(\"maxHighlightLevel\",(e=>e.highlights.length-1))),c.constants.add(\"pixelSampleScale\",\"float\",1),a.include(l),c.code.add(t`const float pascal17[9] = float[9](12870.0, 11440.0, 8008.0, 4368.0, 1820.0, 560.0, 120.0, 16.0, 1.0);\nconst float denom17 =  65536.0;\nfloat colorWeight[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nfloat colorOcclusion[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nfloat weights[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nvoid applyTexel(vec2 texel, float weight) {\nif (texel != vec2(0.0)){\nint maxChannel = (maxHighlightLevel >> 2) & 1;\nfor (int channelIndex = 0; channelIndex <= maxChannel; ++channelIndex){\nuint channel = readChannel(texel, channelIndex << 2);\nint firstIndex = channelIndex << 2;\nint maxIndex  = min(firstIndex + 3, maxHighlightLevel);\nfor (int highlightIndex = firstIndex; highlightIndex <= maxIndex; ++highlightIndex ) {\nuint v = readChannelBits(channel, highlightIndex);\nif ((v & 1u) == 1u){\ncolorWeight[highlightIndex] += weight;\nif ((v & 2u) == 2u){\ncolorOcclusion[highlightIndex] += weight;\n}\n}\n}\n}\n}\n}\nvec2 readTexel(ivec2 iuv, int du, int dv) {\nreturn texelFetch(highlightTexture, iuv + ivec2(du, dv), 0).rg;\n}\nvoid readAndApplyTexel(ivec2 iuv, int du, int dv, float weight) {\nvec2 texel = readTexel(iuv, du, dv);\napplyTexel(texel, weight);\n}\nvoid readAndApply2TexelsU(ivec2 iuv, int du, int dv, float weight) {\nreadAndApplyTexel(iuv, -du, dv, weight);\nreadAndApplyTexel(iuv, +du, dv, weight);\n}\nfloat getWeight(int pixelDistance) {\nfloat scaledDistance = float(pixelDistance) * pixelSampleScale / pixelRatio;\nfloat d0f = floor(scaledDistance);\nint d0 = int(d0f);\nif (d0 >= 8){\nreturn 0.0;\n}\nfloat w0 = pascal17[d0];\nfloat w1 = pascal17[d0+1];\nfloat f =  scaledDistance - d0f;\nreturn mix(w0, w1, f);\n}`),c.main.add(t`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));\nivec2 iuv = ivec2(sUV * highlightTextureSize);\nvec2 centerTexel = texelFetch(highlightTexture, iuv, 0).rg;\nbool outlinePossible = false;\nif (vOutlinePossible > 0.0){\nfor (int highlightLevel=0; highlightLevel<= maxHighlightLevel; ++highlightLevel) {\nif ((readLevelBits(centerTexel,highlightLevel) & 1u) == 0u) {\noutlinePossible = true;\nbreak;\n}\n}\n}\nif (outlinePossible) {\nint maxPixelDistance = clamp(int(8.0 * pixelRatio / pixelSampleScale), 2, 16);\nfloat weightSum = 0.0;\nfor(int y = 0; y <= maxPixelDistance; ++y) {\nfloat w = getWeight(y);\nweights[y] = w;\nweightSum += w * (y == 0 ? 1.0 : 2.0);\n}\nfor(int y = 0; y <= maxPixelDistance; ++y) {\nweights[y] = weights[y] / weightSum;\n}\nfloat weight0 = weights[0];\napplyTexel(centerTexel, weight0 * weight0);\nfor(int y = 0; y <= maxPixelDistance; y += 1) {\nfloat yFactor = weights[y];\nif (y != 0) {\nfloat xFactor = weight0;\nfloat weight = xFactor * yFactor;\nif (weight > 0.0) {\nreadAndApplyTexel(iuv, 0, +y, weight);\nreadAndApplyTexel(iuv, 0, -y, weight);\n}\n}\nfor(int x = 1; x <= maxPixelDistance; x += 1) {\nfloat xFactor = weights[x];\nfloat weight = xFactor * yFactor;\nif (weight > 0.0) {\nreadAndApply2TexelsU(iuv, x, +y, weight);\nif (y != 0){\nreadAndApply2TexelsU(iuv, x, -y, weight);\n}\n}\n}\n}\n} else {\napplyTexel(centerTexel, 1.0);\n}\nint frontColorIndex = 999;\nint maxColorIndex = 0;\nfor (int i = 0; i <= maxHighlightLevel; ++i) {\nif (colorWeight[i] > 0.0){\nfrontColorIndex = min(frontColorIndex, i);\nmaxColorIndex = max(maxColorIndex, i);\n}\n}\nif (frontColorIndex == 999){\nfragColor = vec4(0.0);\nreturn;\n}\nvec4 accumulatedColor = vec4(0.0);\nfor (int curColorIndex = frontColorIndex; curColorIndex <= maxColorIndex; ++curColorIndex) {\nfloat curColorWeight = colorWeight[curColorIndex];\nif (curColorWeight <= 0.01){\ncontinue;\n}\nuint vc = readLevelBits(centerTexel, curColorIndex);\nbool centerFilled = (vc & 1u) == 1u;\nbool centerOccluded = (vc & 3u) == 3u;\nfloat curColorOcclusion = colorOcclusion[curColorIndex];\nbool occluded = centerFilled ? centerOccluded : curColorOcclusion > 0.5 * curColorWeight;\nint colorChannel = centerFilled ? 0 : 1;\nvec4 colorBase = texelFetch(highlightOptionsTexture, ivec2(curColorIndex, colorChannel), 0);\nfloat occlusionFactor = occluded ? occludedIntensityFactor : 1.0;\nfloat outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, 0.03, curColorWeight);\nfloat intensity = colorBase.a * occlusionFactor * outlineFactor;\nvec3 currentColor = colorBase.rgb;\nfloat a0 = accumulatedColor.a;\nfloat a1 = intensity;\nfloat alpha = clamp(a0 + a1 - a0 * a1, 0.0, 1.0);\nif (alpha > 0.001){\nvec3 blendedColor = ((1.0 - a1) * a0 * accumulatedColor.rgb + a1 * currentColor) / alpha;\naccumulatedColor = vec4(blendedColor, alpha);\n}\n}\nfragColor = accumulatedColor;`),a}const c=Object.freeze(Object.defineProperty({__proto__:null,build:a},Symbol.toStringTag,{value:\"Module\"}));export{c as H,a as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../core/shaderModules/glsl.js\";function o(o){o.code.add(e`vec3 tonemapACES(vec3 x) {\nreturn clamp((x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14), 0.0, 1.0);\n}`)}export{o as ToneMapping};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as t}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{Float2DrawUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{o as g,b as u}from\"./HighlightDownsample.glsl.js\";import{ShaderBuilder as h}from\"../views/webgl/ShaderBuilder.js\";function s(){const s=new h;s.include(e);const{fragment:c}=s;return c.uniforms.add(new n(\"blurInput\",(e=>e.singleHighlightBlurTexture)),new i(\"blurSize\",(e=>e.blurSize)),new n(\"highlightTexture\",(e=>e.highlightTexture)),new n(\"highlightOptionsTexture\",(e=>e.highlightOptionsTexture)),new o(\"highlightLevel\",(e=>e.highlightLevel)),new l(\"occludedIntensityFactor\",(e=>e.occludedFactor))),c.constants.add(\"inner\",\"float\",1-(g-u)/g),s.include(t),c.main.add(r`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));\nvec2 uv = sUV;\nvec2 center = texture(blurInput, uv).rg;\nvec2 blurredHighlightValue = (vOutlinePossible == 0.0)\n? center\n: center * 0.204164\n+ texture(blurInput, uv + blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv - blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv + blurSize * 3.294215).rg * 0.093913\n+ texture(blurInput, uv - blurSize * 3.294215).rg * 0.093913;\nfloat highlightIntensity = blurredHighlightValue.r;\nfloat occlusionWeight = blurredHighlightValue.g;\nif (highlightIntensity <= 0.01) {\ndiscard;\n}\nvec4 fillColor    = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 0), 0);\nvec4 outlineColor = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 1), 0);\nvec2 centerTexel = texelFetch(highlightTexture, ivec2(uv * highlightTextureSize), 0).rg;\nuint centerBits = readLevelBits(centerTexel, highlightLevel);\nbool centerFilled = (centerBits & 1u) == 1u;\nbool centerOccluded = (centerBits & 3u) == 3u;\nbool occluded = centerOccluded || (0.5 * highlightIntensity < occlusionWeight);\nfloat occlusionFactor = occluded ? occludedIntensityFactor : 1.0;\nfloat outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, inner, highlightIntensity);\nfloat fillFactor = centerFilled ? 1.0 : 0.0;\nvec4 baseColor = mix(outlineColor, fillColor, fillFactor);\nfloat intensity = baseColor.a * occlusionFactor * outlineFactor;\nfragColor = vec4(baseColor.rgb, intensity);`),s}const c=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:\"Module\"}));export{c as S,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as i}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as t}from\"../views/webgl/ShaderBuilder.js\";function s(){const s=new t;s.include(e),s.include(i);const{fragment:h}=s;return s.outputs.add(\"fragSingleHighlight\",\"vec2\",0),h.uniforms.add(new g(\"highlightTexture\",(e=>e.highlightTexture)),new l(\"highlightLevel\",(e=>e.highlightLevel))),h.main.add(r`ivec2 iuv = ivec2(gl_FragCoord.xy);\nvec2 inputTexel = texelFetch(highlightTexture, iuv, 0).rg;\nuint bits = readLevelBits(inputTexel, highlightLevel);\nbool hasHighlight = (bits & 1u) == 1u;\nbool hasOccluded  = (bits & 2u) == 2u;\nfragSingleHighlight = vec2(hasHighlight ? 1.0 : 0.0, hasOccluded ? 1.0 : 0.0);`),s}const h=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:\"Module\"}));export{h as H,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{neverReached as a}from\"../../../core/compilerUtils.js\";import{clamp as t}from\"../../../core/mathUtils.js\";import{signal as e}from\"../../../core/signal.js\";import{rotate as s}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as r}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{k as h,n as o,h as n,c,l as d,d as l}from\"../../../chunks/vec32.js\";import{create as _,fromValues as u}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as F,fromPoints as f,axis as p}from\"../../../geometry/support/axisAngleDegrees.js\";import{earth as S}from\"../../../geometry/support/Ellipsoid.js\";import{CloudsTextureChannels as m,ensureClouds as E,CubeMapState as D}from\"./Clouds.js\";import{heightLimit as P}from\"./weather.js\";class x{constructor(){this.startTime=0,this._data=e(null),this._readChannels=m.RG,this.parallax=new O,this.parallaxNew=new O,this._anchorPoint=_(),this._fadeState=e(A.HIDE),this._fadeFactor=e(1)}get data(){return this._data.value}set data(a){this._data.value=a}get readChannels(){return this._readChannels}get fadeState(){return this._fadeState.value}get fadeFactor(){return this._fadeFactor.value}get opacity(){switch(this.fadeState){case A.HIDE:return 0;case A.FADE_OUT:return 1-this.fadeFactor;case A.FADE_IN:return this.fadeFactor;case A.SHOW:case A.CROSS_FADE:return 1}}fade(a,e,s){this.isFading&&this.fadeFactor<1&&(this._fadeFactor.value=s?t((e-this.startTime)/(H*s),0,1):1,1===this.fadeFactor&&this._endFade()),this._evaluateState(a,e),this._updateParallax(a)}_evaluateState(a,t){const e=a.relativeElevation,s=this._updateAnchorPoint(a);(e>1.7*P||e<-1e4||s>I)&&this.opacity>0?this._startFade(A.HIDE,t):this.isFading||(e>P||e<-.35*P||s>w*I?this.opacity>0&&this._startFade(A.FADE_OUT,t):E(this.data)&&(0===this.opacity?this._startFade(A.FADE_IN,t):this.data.state===D.Ready&&(this.fadeState===A.SHOW?this._startFade(A.CROSS_FADE,t):this._startFade(A.SHOW,t))))}_updateParallax(a){const t=h(a.eye);this.parallax.radiusCurvatureCorrection=.84*Math.sqrt(Math.max(t-S.radius*S.radius,0))/Math.sqrt(t),f(C,this.parallax.anchorPoint,v),s(this.parallax.transform,i,v[3],p(v)),f(C,this.parallaxNew.anchorPoint,v),s(this.parallaxNew.transform,i,v[3],p(v))}_updateAnchorPoint(a){return o(this._anchorPoint,a.eye),n(this._anchorPoint,this._anchorPoint,S.radius),this.fadeState===A.HIDE&&this.data?.state===D.Ready?(c(this.parallax.anchorPoint,this._anchorPoint),0):d(l(g,this.parallax.anchorPoint,this._anchorPoint))}requestFade(){this._fadeFactor.value=0}_startFade(a,t){switch(this._fadeState.value=a,this.startTime=t,a){case A.CROSS_FADE:this.requestFade(),this._switchReadChannels(),c(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_IN:this.requestFade(),this._switchReadChannels(),c(this.parallax.anchorPoint,this._anchorPoint),c(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_OUT:this.requestFade();break;case A.SHOW:this._switchReadChannels(),c(this.parallax.anchorPoint,this._anchorPoint),c(this.parallaxNew.anchorPoint,this._anchorPoint),this._endFade();break;case A.HIDE:this._endFade()}}_endFade(){switch(this._fadeFactor.value=1,this.data&&this.data.state!==D.Ready&&(this.data.state=D.Idle),this.fadeState){case A.CROSS_FADE:c(this.parallax.anchorPoint,this.parallaxNew.anchorPoint),this._fadeState.value=A.SHOW;break;case A.FADE_IN:this._fadeState.value=A.SHOW;break;case A.FADE_OUT:this._fadeState.value=A.HIDE;break;case A.SHOW:case A.HIDE:break;default:a(this.fadeState)}}_switchReadChannels(){this.data?.state===D.Ready&&(this._readChannels=1-this._readChannels,this.data.state=D.Fading)}get isFading(){return this.fadeState===A.FADE_OUT||this.fadeState===A.FADE_IN||this.fadeState===A.CROSS_FADE}}var A;!function(a){a[a.HIDE=0]=\"HIDE\",a[a.FADE_IN=1]=\"FADE_IN\",a[a.SHOW=2]=\"SHOW\",a[a.CROSS_FADE=3]=\"CROSS_FADE\",a[a.FADE_OUT=4]=\"FADE_OUT\"}(A||(A={}));class O{constructor(){this.anchorPoint=_(),this.radiusCurvatureCorrection=0,this.transform=r()}}const C=u(0,0,1),v=F(),g=_(),H=1.25,w=.5,I=2e5;export{x as CloudsParameters,A as FadeState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let n=c=class extends r{constructor(o){super(o),this.type=\"sunny\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({sunny:\"sunny\"}),e({json:{write:{isRequired:!0}}})],n.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],n.prototype,\"cloudCover\",void 0),n=c=o([t(\"esri.views.3d.environment.SunnyWeather\")],n);const p=n;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{VertexArrayObject as e}from\"../../../webgl/VertexArrayObject.js\";class r extends e{}export{r as VertexArrayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get(t,e){return this._outer.get(t)?.get(e)}getInner(t){return this._outer.get(t)}set(t,e,r){const o=this._outer.get(t);o?o.set(e,r):this._outer.set(t,new Map([[e,r]]))}delete(t,e){const r=this._outer.get(t);r&&(r.delete(e),0===r.size&&this._outer.delete(t))}forEach(t){this._outer.forEach(((e,r)=>t(e,r)))}forAll(t){for(const e of this._outer.values())for(const r of e.values())t(r)}}export{t as NestedMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{OverlayIndex as e}from\"../views/3d/terrain/interfaces.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as a}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{NoParameters as i}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as n}from\"../views/webgl/ShaderBuilder.js\";class d extends i{constructor(){super(...arguments),this.overlayIndex=e.INNER,this.opacity=1}}function l(){const e=new n;return e.include(r),e.fragment.uniforms.add(new t(\"tex\",(e=>e.texture))),e.fragment.uniforms.add(new a(\"overlayIdx\",(e=>e.overlayIndex))),e.fragment.uniforms.add(new o(\"opacity\",(e=>e.opacity))),e.fragment.main.add(s`vec2 overlayUV = overlayIdx == 0 ? vec2(uv.x * 0.5, uv.y) : vec2(uv.x * 0.5 + 0.5, uv.y);\nfragColor = texture(tex, overlayUV) * opacity;`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,OverlayCompositingPassParameters:d,build:l},Symbol.toStringTag,{value:\"Module\"}));export{d as O,m as a,l as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let p=c=class extends r{constructor(o){super(o),this.type=\"cloudy\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({cloudy:\"cloudy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),p=c=o([t(\"esri.views.3d.environment.CloudyWeather\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import s from\"../../webgl/RenderCamera.js\";let i=class extends s{constructor(){super(...arguments),this._projectionMatrix=t()}get projectionMatrix(){return this._projectionMatrix}};r([o()],i.prototype,\"_projectionMatrix\",void 0),r([o({readOnly:!0})],i.prototype,\"projectionMatrix\",null),i=r([e(\"esri.views.3d.webgl-engine.lib.CascadeCamera\")],i);export{i as CascadeCamera};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as t,lerp as s,acosClamped as e}from\"../../../../core/mathUtils.js\";import{releaseMaybe as i}from\"../../../../core/maybe.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{translate as r,multiply as h,invert as o,lookAt as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as c,create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as d,add as m,scale as u,lerp as _,squaredDistance as f,subtract as g,dot as p,negate as x,normalize as b,copy as w}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as M}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{p as C,c as j,v as T,t as y,i as D}from\"../../../../chunks/vec32.js\";import{create as H}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as v,t as S}from\"../../../../chunks/vec42.js\";import{create as R}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ViewingMode as O}from\"../../../ViewingMode.js\";import{ColorFormat as E,DepthFormat as U}from\"../../webgl/formats.js\";import{CascadeCamera as F}from\"./CascadeCamera.js\";import{applyTextureResizeModulo as L,applyTextureResizeFloorModulo as Q}from\"./textureUtils.js\";import{assert as V,logWithBase as N,verify as A,rayRay2D as B}from\"./Util.js\";import{TextureType as I,FramebufferBit as W}from\"../../../webgl/enums.js\";import{Texture as z}from\"../../../webgl/Texture.js\";var P;!function(t){t[t.Highlight=0]=\"Highlight\",t[t.ExcludeHighlight=1]=\"ExcludeHighlight\"}(P||(P={}));class q{constructor(){this.camera=new F,this.lightMat=l()}}class G{constructor(){this.maxNumCascadesHighQuality=4,this.maxNumCascadesLowQuality=4,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.splitSchemeLambda=0}}class X{constructor(t,s){this._fbos=t,this._viewingMode=s,this._enabled=!1,this._snapshots=new Array,this._textureHeight=0,this._numCascades=1,this.settings=new G,this._projectionView=l(),this._projectionViewInverse=l(),this._modelViewLight=l(),this._cascadeDistances=[0,0,0,0,0],this._usedCascadeDistances=R(),this._cascades=[new q,new q,new q,new q],this._lastOrigin=null,this._maxTextureWidth=Math.min(has(\"esri-mobile\")?4096:16384,t.rctx.parameters.maxTextureSize)}dispose(){this.enabled=!1,this.disposeOffscreenBuffers()}get depthTexture(){return this._handle?.getTexture()}get _textureWidth(){return this._textureHeight*this._numCascades}get numCascades(){return this._numCascades}get cascadeDistances(){return v(this._usedCascadeDistances,this._cascadeDistances[0],this._numCascades>1?this._cascadeDistances[1]:1/0,this._numCascades>2?this._cascadeDistances[2]:1/0,this._numCascades>3?this._cascadeDistances[3]:1/0)}disposeOffscreenBuffers(){this._handle=i(this._handle),this._discardSnapshots()}set maxCascades(s){this.settings.maxNumCascadesHighQuality=t(Math.floor(s),1,4)}get maxCascades(){return this.settings.maxNumCascadesHighQuality}set enabled(t){this._enabled=t,t||this.disposeOffscreenBuffers()}get enabled(){return this._enabled}get ready(){return this._enabled&&null!=this.depthTexture}get cascades(){for(let t=0;t<this._numCascades;++t)it[t]=this._cascades[t];return it.length=this._numCascades,it}start(t,s,e,i,a){V(this.enabled);const{near:r,far:h}=Tt(e);this._computeCascadeDistances(r,h,i),this._textureHeight=this._computeTextureHeight(t,a,i),this._setupMatrices(t,s);const{viewMatrix:o,projectionMatrix:n}=t;for(let c=0;c<this._numCascades;++c)this._constructCascade(c,n,o,s);this._lastOrigin=null,this.clear()}finish(){V(this.enabled),this._handle?.detachDepth()}getShadowMapMatrices(t){if(!this._lastOrigin||!C(t,this._lastOrigin)){this._lastOrigin=this._lastOrigin||H(),j(this._lastOrigin,t);for(let s=0;s<this._numCascades;++s){r(at,this._cascades[s].lightMat,t);for(let t=0;t<16;++t)rt[16*s+t]=at[t]}}return rt}moveSnapshot(t){V(this.enabled),this._handle?.detachDepth(),this._snapshots[t]?.release(),this._snapshots[t]=this._handle,this._handle=null,this.clear()}copySnapshot(t){const s=this._handle?.getTexture()?.descriptor;if(!this.enabled||!s)return;this._snapshots[t]?.release();const{width:e,height:i}=s,a=t===P.Highlight?\"shadow highlight snapshot\":\"shadow no highlight snapshot\";this._snapshots[t]=this._fbos.acquire(e,i,a,E.RGBA4);const r=this._fbos.rctx;this._bindFbo();const h=r.bindTexture(this._snapshots[t]?.getTexture(),z.TEXTURE_UNIT_FOR_UPDATES);r.gl.copyTexSubImage2D(I.TEXTURE_2D,0,0,0,0,0,e,i),r.bindTexture(h,z.TEXTURE_UNIT_FOR_UPDATES)}getSnapshot(t){return this.enabled?this._snapshots[t]?.getTexture():null}clear(){const t=this._fbos.rctx;this._ensureFbo(),this._bindFbo(),t.setClearColor(1,1,1,1),t.clear(W.COLOR|W.DEPTH)}_computeTextureHeight(t,s,e){const i=Math.min(window.devicePixelRatio,s)/t.pixelRatio,a=e?this.settings.textureSizeModHighQuality:this.settings.textureSizeModLowQuality,r=L(Math.floor(Math.max(t.fullWidth,t.fullHeight)*i*a)),h=Math.min(this._maxTextureWidth,this._numCascades*r);return Q(h/this._numCascades)}_ensureFbo(){this._handle?.fbo?.width===this._textureWidth&&this._handle?.fbo.height===this._textureHeight||(this._handle?.release(),this._handle=this._fbos.acquire(this._textureWidth,this._textureHeight,\"shadow map\",E.RGBA4)),this._handle?.acquireDepth(U.DEPTH16_BUFFER)}_discardSnapshot(t){this._snapshots[t]=i(this._snapshots[t])}_discardSnapshots(){for(let t=0;t<this._snapshots.length;++t)this._discardSnapshot(t);this._snapshots.length=0}_bindFbo(){this._fbos.rctx.bindFramebuffer(this._handle?.fbo)}_constructCascade(t,s,e,i){const a=this._cascades[t],o=-this._cascadeDistances[t],n=-this._cascadeDistances[t+1],c=(s[10]*o+s[14])/Math.abs(s[11]*o+s[15]),l=(s[10]*n+s[14])/Math.abs(s[11]*n+s[15]);V(c<l);for(let r=0;r<8;++r){v(J,r%4==0||r%4==3?-1:1,r%4==0||r%4==1?-1:1,r<4?c:l,1);const t=K[r];S(t,J,this._projectionViewInverse),t[0]/=t[3],t[1]/=t[3],t[2]/=t[3]}T(et,K[0]),a.camera.viewMatrix=r(k,this._modelViewLight,et);for(let r=0;r<8;++r)y(K[r],K[r],a.camera.viewMatrix);let d=K[0][2],m=K[0][2];for(let r=1;r<8;++r)d=Math.min(d,K[r][2]),m=Math.max(m,K[r][2]);d-=200,m+=200,a.camera.near=-m,a.camera.far=-d,jt(e,i,d,m,a.camera),h(a.lightMat,a.camera.projectionMatrix,a.camera.viewMatrix);const u=this._textureHeight;a.camera.viewport=[t*u,0,u,u]}_setupMatrices(t,s){h(this._projectionView,t.projectionMatrix,t.viewMatrix),o(this._projectionViewInverse,this._projectionView);const e=this._viewingMode===O.Global?t.eye:D(et,0,0,1);n(this._modelViewLight,[0,0,0],[-s[0],-s[1],-s[2]],e)}_computeCascadeDistances(t,e,i){const a=i?this.settings.maxNumCascadesHighQuality:this.settings.maxNumCascadesLowQuality;this._numCascades=Math.min(1+Math.floor(N(e/t,4)),a);const r=(e-t)/this._numCascades,h=(e/t)**(1/this._numCascades);let o=t,n=t;for(let c=0;c<this._numCascades+1;++c)this._cascadeDistances[c]=s(o,n,this.settings.splitSchemeLambda),o*=h,n+=r}get test(){}}const k=l(),J=R(),K=[];for(let yt=0;yt<8;++yt)K.push(R());const Y=M(),Z=M(),$=M(),tt=M(),st=M(),et=H(),it=[],at=l(),rt=c.concat(c,c,c,c),ht=M(),ot=M(),nt=[M(),M(),M(),M()],ct=M(),lt=M(),dt=M(),mt=M(),ut=M(),_t=M(),ft=M();function gt(t,s,e,i,a,r,h,o){d(ht,0,0);for(let d=0;d<4;++d)m(ht,ht,t[d]);u(ht,ht,.25),d(ot,0,0);for(let d=4;d<8;++d)m(ot,ot,t[d]);u(ot,ot,.25),_(nt[0],t[4],t[5],.5),_(nt[1],t[5],t[6],.5),_(nt[2],t[6],t[7],.5),_(nt[3],t[7],t[4],.5);let n=0,c=f(nt[0],ht);for(let d=1;d<4;++d){const t=f(nt[d],ht);t<c&&(c=t,n=d)}g(ct,nt[n],t[n+4]);const l=ct[0];let M,C;ct[0]=-ct[1],ct[1]=l,g(lt,ot,ht),p(lt,ct)<0&&x(ct,ct),_(ct,ct,lt,e),b(ct,ct),M=C=p(g(dt,t[0],ht),ct);for(let d=1;d<8;++d){const s=p(g(dt,t[d],ht),ct);s<M?M=s:s>C&&(C=s)}w(i,ht),u(dt,ct,M-s),m(i,i,dt);let j=-1,T=1,y=0,D=0;for(let d=0;d<8;++d){g(mt,t[d],i),b(mt,mt);const s=ct[0]*mt[1]-ct[1]*mt[0];s>0?s>j&&(j=s,y=d):s<T&&(T=s,D=d)}A(j>0,\"leftArea\"),A(T<0,\"rightArea\"),u(ut,ct,M),m(ut,ut,ht),u(_t,ct,C),m(_t,_t,ht),ft[0]=-ct[1],ft[1]=ct[0];const H=B(i,t[D],_t,m(dt,_t,ft),1,a),v=B(i,t[y],_t,dt,1,r),S=B(i,t[y],ut,m(dt,ut,ft),1,h),R=B(i,t[D],ut,dt,1,o);A(H,\"rayRay\"),A(v,\"rayRay\"),A(S,\"rayRay\"),A(R,\"rayRay\")}function pt(t,s){return 3*s+t}const xt=M();function bt(t,s){return d(xt,t[s],t[s+3]),xt}const wt=M(),Mt=a();function Ct(t,s,e,i,a){g(wt,e,i),u(wt,wt,.5),Mt[0]=wt[0],Mt[1]=wt[1],Mt[2]=0,Mt[3]=wt[1],Mt[4]=-wt[0],Mt[5]=0,Mt[6]=wt[0]*wt[0]+wt[1]*wt[1],Mt[7]=wt[0]*wt[1]-wt[1]*wt[0],Mt[8]=1,Mt[pt(0,2)]=-p(bt(Mt,0),t),Mt[pt(1,2)]=-p(bt(Mt,1),t);let r=p(bt(Mt,0),e)+Mt[pt(0,2)],h=p(bt(Mt,1),e)+Mt[pt(1,2)],o=p(bt(Mt,0),i)+Mt[pt(0,2)],n=p(bt(Mt,1),i)+Mt[pt(1,2)];r=-(r+o)/(h+n),Mt[pt(0,0)]+=Mt[pt(1,0)]*r,Mt[pt(0,1)]+=Mt[pt(1,1)]*r,Mt[pt(0,2)]+=Mt[pt(1,2)]*r,r=1/(p(bt(Mt,0),e)+Mt[pt(0,2)]),h=1/(p(bt(Mt,1),e)+Mt[pt(1,2)]),Mt[pt(0,0)]*=r,Mt[pt(0,1)]*=r,Mt[pt(0,2)]*=r,Mt[pt(1,0)]*=h,Mt[pt(1,1)]*=h,Mt[pt(1,2)]*=h,Mt[pt(2,0)]=Mt[pt(1,0)],Mt[pt(2,1)]=Mt[pt(1,1)],Mt[pt(2,2)]=Mt[pt(1,2)],Mt[pt(1,2)]+=1,r=p(bt(Mt,1),s)+Mt[pt(1,2)],h=p(bt(Mt,2),s)+Mt[pt(2,2)],o=p(bt(Mt,1),e)+Mt[pt(1,2)],n=p(bt(Mt,2),e)+Mt[pt(2,2)],r=-.5*(r/h+o/n),Mt[pt(1,0)]+=Mt[pt(2,0)]*r,Mt[pt(1,1)]+=Mt[pt(2,1)]*r,Mt[pt(1,2)]+=Mt[pt(2,2)]*r,r=p(bt(Mt,1),s)+Mt[pt(1,2)],h=p(bt(Mt,2),s)+Mt[pt(2,2)],o=-h/r,Mt[pt(1,0)]*=o,Mt[pt(1,1)]*=o,Mt[pt(1,2)]*=o,a[0]=Mt[0],a[1]=Mt[1],a[2]=0,a[3]=Mt[2],a[4]=Mt[3],a[5]=Mt[4],a[6]=0,a[7]=Mt[5],a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=Mt[6],a[13]=Mt[7],a[14]=0,a[15]=Mt[8]}function jt(t,s,i,a,r){const h=1/K[0][3],o=1/K[4][3];V(h<o);let n=h+Math.sqrt(h*o);const c=Math.sin(e(t[2]*s[0]+t[6]*s[1]+t[10]*s[2]));n/=c,gt(K,n,c,Y,Z,$,tt,st),Ct(Y,Z,tt,st,r.projectionMatrix),r.projectionMatrix[10]=2/(i-a),r.projectionMatrix[14]=-(i+a)/(i-a)}function Tt(t){let{near:s,far:e}=t;return s<2&&(s=2),e<2&&(e=2),s>=e&&(s=2,e=4),{near:s,far:e}}export{X as ShadowMap,P as SnapshotSlot};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var i;let p=i=class extends r{constructor(o){super(o),this.type=\"snowy\",this.cloudCover=.5,this.precipitation=.5,this.snowCover=\"disabled\"}clone(){return new i({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}};o([t({snowy:\"snowy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),o([e({type:[\"enabled\",\"disabled\"],nonNullable:!0,json:{write:!0}})],p.prototype,\"snowCover\",void 0),p=i=o([s(\"esri.views.3d.environment.SnowyWeather\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{colorGamma as o}from\"../../../../../../colorUtils.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";function e(e){e.fragment.code.add(r`\n    const float GAMMA = ${r.float(o)};\n    const float INV_GAMMA = ${r.float(1/o)};\n\n    vec4 delinearizeGamma(vec4 color) {\n      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.a);\n    }\n\n    vec3 linearizeGamma(vec3 color) {\n      return pow(color, vec3(GAMMA));\n    }\n  `)}export{e as Gamma};\n"],"names":["g","constructor","r","i","arguments","length","undefined","this","geometry","screenToWorldRatio","_transformation","e","_shaderTransformation","_boundingSphere","id","t","layerUid","graphicUid","castShadow","objectShaderTransformation","objectShaderTransformationChanged","transformation","boundingInfo","boundingSphere","n","s","h","center","shaderTransformation","radius","a","o","material","type","attributes","highlight","highlights","foreachHighlightOptions","hasHighlights","occludees","visible","_extent","resolution","renderLocalOrigin","pixelRatio","mapUnitsPerPixel","canvasGeometries","extent","setupGeometryViewsCyclical","setupGeometryView","range","min","extents","numViews","max","hasSomeSizedView","_fbos","_format","_name","valid","_handle","getTexture","dispose","texture","bind","fbo","width","height","release","acquire","bindFramebuffer","generateMipMap","descriptor","hasMipmap","generateMipmap","l","RGBA_MIPMAP","output","content","targets","Color","ColorNoRasterImage","Highlight","RG","Normal","WaterNormal","Occluded","push","ObjectAndLayerIdColor","RGBA","computeValidity","reduce","super","initializePipeline","hasAlpha","blending","colorWrite","prototype","$","C","_overlays","_renderTargets","_overlayParameters","B","_hasWater","_renderers","Map","_sortedDrapeSourceRenderersDirty","_sortedRenderers","_passParameters","S","_materials","_screenToWorldRatio","_localOriginFactory","unloadedMemory","ignoresMemoryFactor","_camera","v","events","longitudeCyclical","produces","F","DRAPED_MATERIAL","x","DRAPED_WATER","_hasTargetWithoutRasterImage","_hasDrapedFeatureSource","_hasDrapedRasterSource","initialize","_view","_stage","renderer","fboCache","waterTextures","textures","renderView","_renderContext","q","_rctx","L","state","viewingMode","addHandles","updating","emit","spatialReference","M","allLayerViews","E","_bindParameters","highlightOrderMap","_updateHighlights","resourceController","scheduler","registerTask","Y","STAGE","A","_techniques","notifyChange","d","near","far","relativeElevation","slot","mainDepth","camera","oitPass","I","NONE","updateLighting","U","_","G","Immediate","destroy","forEach","clear","disposeOverlays","renderingContext","parent","view","techniques","rctx","materials","localOriginFactory","pluginContext","_pluginContext","initializeRenderContext","precompile","z","uninitializeRenderContext","acquireTechniques","render","hasOverlays","getMaterialRenderer","values","layers","_updateSortedDrapeSourceRenderers","map","drapeSource","layer","filter","updateHighlights","createDrapeSourceRenderer","get","rendererContext","set","fullOpacity","removeDrapeSourceRenderer","delete","removeHandles","releaseRenderTargets","overlays","ensureDrapeTargets","drapeTargetType","m","WithoutRasterImage","ensureDrapeSources","drapeSourceType","y","Features","RasterImage","_needsColorWithoutRasterImage","ensureOverlays","overlayStretch","D","T","w","running","runTask","_processDrapeSources","done","destroyed","commitChanges","madeProgress","size","hasHighlightOptions","processSyncDrapeSources","X","updatePolicy","k","SYNC","isEmpty","R","OVERLAY_DRAW_DEBUG_TEXTURE","hasWater","rendersOccludedDraped","renderOccludedMask","se","precompiling","some","_ref","renders","_ref2","mode","O","Disabled","EnabledWithWater","Enabled","updateAnimation","requestRender","j","BACKGROUND","updateDrapeSourceOrder","precompileShaders","alignPixelEnabled","forAll","_ref3","N","drawOverlays","_drawTarget","b","INNER","OUTER","contentPixelRatio","screenToPCSRatio","worldToPCSRatio","c","setViewport","_bindTargetFBO","setClearColor","K","COLOR","V","ie","_setViewParameters","_ensureDebugPatternResources","re","bindTechnique","screen","draw","_resolution","P","_renderAllGeometry","_ref4","_bindTemporaryFBO","opacity","overlayIndex","notifyContentChanged","intersect","allLayers","indexOf","renderGroup","f","MapLayer","ViewLayer","ee","sort","index","viewport","u","projectionMatrix","p","viewMatrix","color","Uint8Array","Math","floor","Z","samplingMode","J","NEAREST","Q","test","constructOnly","readOnly","Boolean","te","W","OccludeAndTransparent","H","occludedFactor","verticalCellCount","horizontalCellCount","highlightLevel","HIGHLIGHTS","consumes","required","_useMultipleHighlights","_downsampleDrawParameters","_singleHighlightBlurDrawParameters","_grid","_updateOptionsTexture","coverage","vao","highlightOptionsTexture","internalFormat","setData","haloColor","fillOpacity","haloOpacity","UPDATE","find","name","bindParameters","decorations","compiled","_gridUpdateResources","_gridComputeCoverage","coverageTexture","bindVAO","drawElementsInstanced","TRIANGLES","UNSIGNED_BYTE","setViewport4fv","fullViewport","_renderMultiple","_renderSingle","highlightTexture","fullWidth","fullHeight","ceil","blurInput","blurSize","unbindTexture","colorTexture","singleHighlightBlurTexture","createIndex","STATIC_DRAW","createVertex","input","viewportWidth","viewportHeight","at","shadowOpacity","shadowDifference","shadowColor","getBoundFramebufferObject","clearFramebuffer","highlightMixTexture","highlightMixOrigin","bindTexture","TEXTURE_UNIT_FOR_UPDATES","gl","copyTexSubImage2D","TEXTURE_2D","DEPTH","Material","ShadowMap","ViewshedShadowMap","shadowMap","OPAQUE_MATERIAL","slicePlane","hasOccludees","enableFillLights","viewshedEnabled","_inverseViewport","_oldLighting","_newLighting","_fadedLighting","_lighting","ssr","terrainDepthTest","cullAboveTerrain","Array","hudRenderStyle","hudOccludedFragmentOpacity","clouds","shadowHighlightsVisible","inverseViewport","lighting","fadeLighting","fadeFactor","lerpLighting","copyFrom","noonFactor","globalFactor","FadeWithWeather","requestFade","reprojectionMatrix","POSITION","FLOAT","UV0","vertex","fragment","uniforms","add","overlay","toMapSpace","constants","overlayOpacity","overlayContent","pbrMode","Water","WaterOnIntegratedMesh","TerrainWithWater","include","varyings","code","identifier","COUNT","REGULAR","HAS_NORTH_POLE","HAS_SOUTH_POLE","HAS_BOTH_POLES","FADING","IMMEDIATE","UNFADED","cloudCover","precipitation","clone","rainy","json","write","isRequired","Number","nonNullable","outputs","main","Object","freeze","defineProperty","__proto__","HighlightDownsampleDrawParameters","build","gridCellPixelSize","outlineSize","Symbol","toStringTag","value","lastFrameCamera","time","Occlude","OccludeAndTransparentStencil","fogStrength","foggy","Bind","parallax","radiusCurvatureCorrection","float","readChannels","data","cubeMap","anchorPoint","parallaxNew","transform","fadeState","CROSS_FADE","_textures","materialChanged","_id2glMaterialRef","_ownMaterial","createGLMaterial","ref","glMaterial","unref","referenced","repository","getLogger","error","_refCnt","Pass","setUniform2iv","SingleHighlightBlurDrawParameters","Idle","Rendering","Ready","Fading","BA","TextureOnlyPassParameters","key","base","typeMap","sunny","cloudy","snowy","keys","includes","ADD","REMOVE","VISIBILITY","GEOMETRY","TRANSFORMATION","HIGHLIGHT","OCCLUDEE","screenSpaceReflections","nearFar","depth","attachment","highStepCount","cloudReflections","mainLight","specularStrength","environmentStrength","lastFrameColor","Depth","usedMemory","isDecoration","modify","numGeometries","hasEmissions","forEachGeometry","queryRenderOccludedState","startTime","_data","_readChannels","_anchorPoint","_fadeState","HIDE","_fadeFactor","FADE_OUT","FADE_IN","SHOW","fade","isFading","_endFade","_evaluateState","_updateParallax","_updateAnchorPoint","_startFade","eye","sqrt","_switchReadChannels","_outer","empty","getInner","OverlayCompositingPassParameters","_projectionMatrix","ExcludeHighlight","lightMat","maxNumCascadesHighQuality","maxNumCascadesLowQuality","textureSizeModHighQuality","textureSizeModLowQuality","splitSchemeLambda","_viewingMode","_enabled","_snapshots","_textureHeight","_numCascades","settings","_projectionView","_projectionViewInverse","_modelViewLight","_cascadeDistances","_usedCascadeDistances","_cascades","_lastOrigin","_maxTextureWidth","has","parameters","maxTextureSize","enabled","disposeOffscreenBuffers","depthTexture","_textureWidth","numCascades","cascadeDistances","_discardSnapshots","maxCascades","ready","cascades","it","start","Tt","_computeCascadeDistances","_computeTextureHeight","_setupMatrices","_constructCascade","finish","detachDepth","getShadowMapMatrices","rt","moveSnapshot","copySnapshot","RGBA4","_bindFbo","getSnapshot","_ensureFbo","window","devicePixelRatio","acquireDepth","DEPTH16_BUFFER","_discardSnapshot","abs","et","sin","ht","ot","nt","ct","lt","dt","mt","ut","_t","ft","gt","tt","st","wt","Mt","pt","bt","Ct","jt","Global","yt","concat","xt","snowCover"],"sourceRoot":""}