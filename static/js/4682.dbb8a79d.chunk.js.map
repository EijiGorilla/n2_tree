{"version":3,"file":"static/js/4682.dbb8a79d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js","../node_modules/@arcgis/core/views/interactive/dragEventPipeline.js","../node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js","../node_modules/@arcgis/core/core/memoize.js","../node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.drawConstraints=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.feature=e.feature,this.visualizer=e.visualizer,this.selfSnappingZ=e.selfSnappingZ,this.drawConstraints=e.drawConstraints}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}export{e as SnappingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{clone as n}from\"../../core/lang.js\";import{clamp as e}from\"../../core/mathUtils.js\";import{createScreenPoint as r}from\"../../core/screenUtils.js\";import{project as a}from\"../../geometry/projection.js\";import{isMeshWithRelativeVertexSpace as o}from\"../../geometry/support/meshVertexSpaceUtils.js\";import{hydratedSpatialReference as l,clonePoint as c}from\"../../layers/graphics/hydratedFeatures.js\";import{getZForElevationMode as s}from\"../../support/elevationInfoUtils.js\";import{EditGeometryOperations as u}from\"./editGeometry/EditGeometryOperations.js\";function i(t,n){let e=null,r=null;return a=>{if(\"cancel\"===a.action)return void(null!=r&&(r.execute({action:\"cancel\"}),e=null,r=null));const o={action:a.action,screenStart:a.start,screenEnd:a.screenPoint};\"start\"===a.action&&null==e&&(e=new w,r=new w,n(t,e,r,a.pointerType,o)),null!=e&&e.execute(o),\"end\"===a.action&&null!=e&&(e=null,r=null)}}function p(t,n){return t.events.on(\"drag\",i(t,n))}function m(t,n){const e=[t.x,t.y,t.z??0],r=n,a=[Math.cos(r),Math.sin(r)],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(0===o)return null;a[0]/=o,a[1]/=o;const l=t=>{const n=(t.x-e[0])*a[0]+(t.y-e[1])*a[1];t.x=e[0]+n*a[0],t.y=e[1]+n*a[1]};return t=>(l(t.mapStart),l(t.mapEnd),{...t,axis:a})}function f(t){let n=null;return e=>{if(\"start\"===e.action&&(n=y(t,e.mapStart.spatialReference)),null==n)return null;const r=e.mapEnd.x-e.mapStart.x,a=e.mapEnd.y-e.mapStart.y,o=(e.mapEnd.z??0)-(e.mapStart.z??0);return n.move(r,a,o,e.action),{...e,translationX:r,translationY:a,translationZ:o}}}function d(t,n){return null==t?null:t.spatialReference.equals(n)?t.clone():a(t,n)}function y(t,n){const e=t.operations;if(!e)return null;const r=e.data.geometry,c=l(n);if(r.spatialReference.equals(c))return x(t,e,(()=>{}));if(\"mesh\"!==r.type){const n=d(r,c);if(null==n)return null;const o=r.spatialReference;return x(t,u.fromGeometry(n,e.viewingMode),(()=>{const t=a(r,o);e.trySetGeometry(t)}))}if(o(r)){const n=d(r.origin,c);if(!n)return null;const o=r.spatialReference,l=u.fromGeometry(n,e.viewingMode);return x(t,e,(()=>{const t=a(l.data.geometry,o),n=t.x-r.origin.x,c=t.y-r.origin.y,s=(t.z??0)-(r.origin.z??0);e.move(n,c,s)}))}return null}function x(t,n,e){let r=0,a=0,o=0;return{move:(l,c,s,u)=>{\"start\"===u&&(r=0,a=0,o=0);const i=l-r,p=c-a,m=s-o;n.move(i,p,m),r+=i,a+=p,o+=m,e(),\"end\"===u&&t.endInteraction?.()}}}function E(t,n=null,e){let r=null;const o=null==n||t.spatialReference?.equals(n)?t=>t:t=>null!=t?a(t,n):t,l={exclude:[],...e};return n=>{if(\"start\"===n.action&&(r=o(t.toMap(n.screenStart,l))),null==r)return null;const e=o(t.toMap(n.screenEnd,l));return null!=e?{...n,mapStart:r,mapEnd:e}:null}}function S(n){const e=n.map((t=>f(t))).filter(t);return t=>{const n=t.mapEnd.x-t.mapStart.x,r=t.mapEnd.y-t.mapStart.y,a=t.mapEnd.z-t.mapStart.z;return e.forEach((n=>n(t))),{...t,translationX:n,translationY:r,translationZ:a}}}function h(t,e){const r=new Map;for(const a of e)r.set(a,n(t[a]));return n=>(r.forEach(((n,e)=>{t[e]=n})),n)}function g(t){const n=t.operations?.createResetState();return t=>(n?.remove(),t)}function z(t){const n=t.map((t=>g(t))).filter((t=>null!=t));return t=>(n.forEach((n=>n(t))),t)}function v(){let t=0,n=0,e=0;return r=>{\"start\"===r.action&&(t=r.mapStart.x,n=r.mapStart.y,e=r.mapStart.z);const a=r.mapEnd.x-t,o=r.mapEnd.y-n,l=r.mapEnd.z-e;return t=r.mapEnd.x,n=r.mapEnd.y,e=r.mapEnd.z,{...r,mapDeltaX:a,mapDeltaY:o,mapDeltaZ:l,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function j(){let t=0,n=0;return e=>{\"start\"===e.action&&(t=e.screenStart.x,n=e.screenStart.y);const r=e.screenEnd.x-t,a=e.screenEnd.y-n;return t=e.screenEnd.x,n=e.screenEnd.y,{...e,screenDeltaX:r,screenDeltaY:a}}}function M(t,n){let a=null,o=0,l=0;return c=>{if(\"start\"===c.action&&(a=t.toScreen?.(n),null!=a&&(a.x<0||a.x>t.width||a.y<0||a.y>t.height?a=null:(o=c.screenStart.x-a.x,l=c.screenStart.y-a.y))),null==a)return null;const s=e(c.screenEnd.x-o,0,t.width),u=e(c.screenEnd.y-l,0,t.height),i=r(s,u);return c.screenStart=a,c.screenEnd=i,c}}const R=()=>{};class w{constructor(){this.execute=R}next(t,n=new w){return null!=t&&(this.execute=e=>{const r=t(e);null!=r&&n.execute(r)}),n}}function D(t,n,e=[]){if(\"2d\"===t.type)return t=>t;let r=null;return a=>{\"start\"===a.action&&(r=t.toMap(a.screenStart,{exclude:e}),null!=r&&(r.z=s(r,t,n)));const o=t.toMap(a.screenEnd,{exclude:e});null!=o&&(o.z=s(o,t,n));const l=null!=r&&null!=o?{sceneStart:r,sceneEnd:o}:null;return{...a,scenePoints:l}}}function G(t,n,e){const r=n.elevationProvider.getElevation(t.x,t.y,t.z??0,t.spatialReference,\"scene\")??0,a=c(t);return a.z=r,a.hasZ=!0,a.z=s(a,n,e),a}function U(t,n){if(\"2d\"===t.type)return t=>t;let e=null;return r=>{\"start\"===r.action&&(e=G(r.mapStart,t,n));const a=G(r.mapEnd,t,n),o=null!=e&&null!=a?{sceneStart:e,sceneEnd:a}:null;return{...r,scenePoints:o}}}export{w as EventPipeline,v as addMapDelta,j as addScreenDelta,m as constrainToMapAxis,i as createDragEventPipelineCallback,p as createManipulatorDragEventPipeline,M as dragAtLocation,f as dragManipulatedObject,S as dragManipulatedObjectMany,g as resetManipulatedObject,z as resetManipulatedObjectMany,h as resetProperties,D as sceneSnappingAtLocation,U as sceneSnappingAtProjectedLocation,E as screenToMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Collection.js\";var a;!function(t){t[t.WhenToolEditable=0]=\"WhenToolEditable\",t[t.WhenToolNotEditable=1]=\"WhenToolNotEditable\",t[t.Always=2]=\"Always\"}(a||(a={}));class i{constructor(){this._isToolEditable=!0,this._manipulators=new t,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,i=a.WhenToolEditable){this.addMany([t],i)}addMany(t,i=a.WhenToolEditable){for(const a of t){const t={manipulator:a,visibilityPredicate:i,attached:!1};this._manipulators.add(t),this._attached&&this._updateManipulatorAttachment(t)}}remove(t){for(let a=0;a<this._manipulators.length;a++)if(this._manipulators.at(a).manipulator===t){const t=this._manipulators.splice(a,1)[0];this._detachManipulator(t);break}}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this.detach(),this._manipulators.forEach((({manipulator:t})=>t.destroy())),this._manipulators.destroy(),this._resourceContexts=null}on(t,a){return this._manipulators.on(t,(t=>{a(t)}))}forEach(t){for(const a of this._manipulators.items)t(a)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((a=>t.push(a.manipulator))),t}intersect(t,a){let i=null,e=Number.MAX_VALUE;return this._manipulators.forEach((({manipulator:o,attached:s})=>{if(!s||!o.interactive)return;const r=o.intersectionDistance(t,a);null!=r&&r<e&&(e=r,i=o)})),i}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return t.visibilityPredicate===a.Always||(this._isToolEditable?t.visibilityPredicate===a.WhenToolEditable:t.visibilityPredicate===a.WhenToolNotEditable)}}export{i as ManipulatorCollection,a as ManipulatorVisibilityPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction t(t){let r,e,i=[],u=!1;function f(...f){return u&&r===this&&n(f,i)||(e=t.apply(this,f),r=this,i=f,u=!0),e}return f}function n(t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==n[r])return!1;return!0}export{t as memoize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{EditableFlag as s}from\"./interfaces.js\";import{ManipulatorCollection as r}from\"./ManipulatorCollection.js\";let n=class extends e{constructor(t){super(t),this.manipulators=new r,this.automaticManipulatorSelection=!0,this.hasGrabbedManipulators=!1,this.hasHoveredManipulators=!1,this.firstGrabbedManipulator=null,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[s.MANAGER,!0],[s.USER,!0]]),this._creationFinishedResolver=i()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._get(\"visible\")!==t&&(this._set(\"visible\",t),this._syncVisible())}get editable(){return this.getEditableFlag(s.USER)}set editable(t){this.setEditableFlag(s.USER,t)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}destroy(){this.manipulators.destroy(),this._set(\"view\",null)}onAdd(){this._syncVisible()}activate(){null!=this.view&&(this.view.focus(),this.onActivate())}deactivate(){this.onDeactivate()}handleInputEvent(t){this.onInputEvent(t)}handleInputEventAfter(t){this.onInputEventAfter(t)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),t===s.USER&&this.notifyChange(\"editable\"),this.onEditableChange(),this.onManipulatorSelectionChanged()}getEditableFlag(t){return this._editableFlags.get(t)??!1}endDrag(){const t=this.view.inputManager.latestPointerLocation;if(!t)return;let e=!1;this.manipulators.forEach((({manipulator:i})=>{i.dragging&&(e=!0,i.events.emit(\"drag\",{action:\"end\",start:t,screenPoint:t}))})),e&&(this.view.toolViewManager.activeTool=null)}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(s.USER)&&this.getEditableFlag(s.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set(\"created\",!0)}_syncVisible(){if(this.initialized)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};t([a({constructOnly:!0})],n.prototype,\"view\",void 0),t([a({readOnly:!0})],n.prototype,\"active\",null),t([a({value:!0})],n.prototype,\"visible\",null),t([a({value:!0})],n.prototype,\"editable\",null),t([a({readOnly:!0})],n.prototype,\"manipulators\",void 0),t([a({readOnly:!0})],n.prototype,\"updating\",null),t([a()],n.prototype,\"cursor\",null),t([a({readOnly:!0})],n.prototype,\"automaticManipulatorSelection\",void 0),t([a()],n.prototype,\"hasFocusedManipulators\",null),t([a()],n.prototype,\"hasGrabbedManipulators\",void 0),t([a()],n.prototype,\"hasHoveredManipulators\",void 0),t([a()],n.prototype,\"firstGrabbedManipulator\",void 0),t([a({readOnly:!0})],n.prototype,\"created\",void 0),t([a({readOnly:!0})],n.prototype,\"removeIncompleteOnCancel\",void 0),n=t([o(\"esri.views.interactive.InteractiveToolBase\")],n);export{n as InteractiveToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{abortMaybe as n,removeMaybe as e}from\"../../../core/maybe.js\";import{ignoreAbortErrors as t,debounce as o}from\"../../../core/promiseUtils.js\";import{watch as r}from\"../../../core/reactiveUtils.js\";import{pointEquals as i}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{clonePoint as l}from\"../../../layers/graphics/hydratedFeatures.js\";import{absoluteHeightElevationInfo as a}from\"../../../support/elevationInfoUtils.js\";import{EventPipeline as s}from\"../dragEventPipeline.js\";import{SnappingContext as u}from\"./SnappingContext.js\";import{TaskPriority as c,ImmediateTask as p}from\"../../support/Scheduler.js\";function f({predicate:o=()=>!0,snappingManager:i,snappingContext:l,updatingHandles:u,useZ:c=!0}){const p=new s;if(null==i)return{snappingStep:[y,p],cancelSnapping:y};let f,Z=null,j=null,z=null;const T=()=>{Z=n(Z),i.doneSnapping(),j?.frameTask.remove(),j=null,f=e(f),z=null},k=d(i,c,p);let w=null,I=null,U=null;return{snappingStep:[n=>{if(!o(n))return n;const{action:e}=n;if(\"start\"===e){const{info:e}=n,t=m(i.view);if(j=g(l,n,t),j.context.selfSnappingZ=null,!c&&null!=e){const n=S(l.coordinateHelper,e.handle.component);null!=n&&(j.context.selfSnappingZ={value:n,elevationInfo:l.elevationInfo??a})}}if(null!=j){const{context:o,originalScenePos:l,originalPos:a}=j,{mapEnd:s,mapStart:p,scenePoints:d}=n,m=x(a,v(s,p)),g=v(p,a),S={...n,action:\"update\"},y=j.context,T=P(l,d),C=i.update({point:m,scenePoint:T,context:o});if(U=C,h(s,C,g,c),w=m,I=T,\"end\"!==e){const{frameTask:n}=j;null==Z&&(Z=new AbortController),z=e=>{u.addPromise(t(k({frameTask:n,event:S,context:y,point:m,scenePoint:T,delta:g,getLastState:()=>({point:w,scenePoint:I,updatePoint:e.forceUpdate?null:U})},Z.signal)))},z({forceUpdate:!1}),null==f&&(f=r((()=>i.options.effectiveEnabled),(()=>z?.({forceUpdate:!0}))))}}return\"end\"===e&&T(),n},p],cancelSnapping:n=>(T(),n)}}function d(n,e,t){return o((async({frameTask:o,point:r,scenePoint:l,context:a,event:s,delta:u,getLastState:c},p)=>{const f=await o.schedule((()=>n.snap({point:r,scenePoint:l,context:a,signal:p})),p);if(f.valid){let l=await o.schedule((()=>f.apply()),p);const d=c();null!=d.point&&r!==d.point&&(l=n.update({point:d.point,scenePoint:d.scenePoint,context:a})),null!=d.updatePoint&&i(l,d.updatePoint)||(h(s.mapEnd,l,u,e),t.execute(s))}}))}function m(n){return\"3d\"===n.type?n.resourceController.scheduler.registerTask(c.SNAPPING):p}function g(n,e,t){return{context:new u({editGeometryOperations:n.editGeometryOperations,elevationInfo:n.elevationInfo,pointer:n.pointer,vertexHandle:null!=e.info?e.info.handle:null,excludeFeature:n.excludeFeature,feature:n.feature,visualizer:n.visualizer}),originalPos:null!=e.snapOrigin?n.coordinateHelper.vectorToDehydratedPoint(e.snapOrigin):e.mapStart,originalScenePos:null!=e.scenePoints?e.scenePoints.sceneStart:null,frameTask:t}}function x(n,[e,t,o]){const r=l(n);return r.x+=e,r.y+=t,r.hasZ&&(r.z+=o),r}function P(n,e){return null==n||null==e?null:x(n,v(e.sceneEnd,e.sceneStart))}function v(n,e){const t=n.hasZ&&e.hasZ?n.z-e.z:0;return[n.x-e.x,n.y-e.y,t]}function h(n,e,[t,o,r],i){n.x=e.x+t,n.y=e.y+o,i&&n.hasZ&&e.hasZ&&(n.z=e.z+r)}function S(n,e){if(!n.hasZ())return null;const t=e.vertices;let o=null;for(const r of t){const e=n.getZ(r.pos);if(null!=o&&null!=e&&Math.abs(e-o)>1e-6)return null;null==o&&(o=e)}return o}function y(n){return n}export{f as createSnapDragEventPipelineStep};\n"],"names":["e","constructor","this","vertexHandle","excludeFeature","visualizer","selfSnappingZ","drawConstraints","editGeometryOperations","elevationInfo","pointer","feature","coordinateHelper","data","spatialReference","p","t","n","events","on","r","a","action","execute","o","screenStart","start","screenEnd","screenPoint","w","pointerType","i","m","x","y","z","Math","cos","sin","sqrt","l","mapStart","mapEnd","axis","f","operations","geometry","c","equals","type","d","u","fromGeometry","viewingMode","trySetGeometry","origin","s","move","translationX","translationY","translationZ","clone","endInteraction","E","arguments","length","undefined","exclude","toMap","S","map","filter","forEach","h","Map","set","g","createResetState","remove","v","mapDeltaX","mapDeltaY","mapDeltaZ","mapDeltaSpatialReference","j","screenDeltaX","screenDeltaY","M","toScreen","width","height","R","next","D","sceneStart","sceneEnd","scenePoints","G","elevationProvider","getElevation","hasZ","U","WhenToolEditable","WhenToolNotEditable","Always","_isToolEditable","_manipulators","_resourceContexts","manipulator3D","_attached","isToolEditable","add","addMany","manipulator","visibilityPredicate","attached","_updateManipulatorAttachment","at","splice","_detachManipulator","removeAll","attach","detach","destroy","_ref","items","some","toArray","push","intersect","Number","MAX_VALUE","_ref2","interactive","intersectionDistance","_isManipulatorItemVisible","_attachManipulator","grabbing","dragging","hovering","selected","_len","Array","_key","apply","super","manipulators","automaticManipulatorSelection","hasGrabbedManipulators","hasHoveredManipulators","firstGrabbedManipulator","created","removeIncompleteOnCancel","_editableFlags","MANAGER","USER","_creationFinishedResolver","active","view","activeTool","visible","_get","_set","_syncVisible","editable","getEditableFlag","setEditableFlag","updating","cursor","hasFocusedManipulators","onAdd","activate","focus","onActivate","deactivate","onDeactivate","handleInputEvent","onInputEvent","handleInputEventAfter","onInputEventAfter","internallyEditable","notifyChange","onEditableChange","onManipulatorSelectionChanged","get","endDrag","inputManager","latestPointerLocation","emit","toolViewManager","whenCreated","promise","onShow","onHide","finishToolCreation","resolve","initialized","_show","_hide","constructOnly","prototype","readOnly","value","predicate","snappingManager","snappingContext","updatingHandles","useZ","snappingStep","cancelSnapping","Z","T","doneSnapping","frameTask","k","async","point","scenePoint","context","event","delta","getLastState","schedule","snap","signal","valid","update","updatePoint","I","info","resourceController","scheduler","registerTask","SNAPPING","handle","originalPos","snapOrigin","vectorToDehydratedPoint","originalScenePos","vertices","getZ","pos","abs","component","P","C","AbortController","addPromise","forceUpdate","options","effectiveEnabled","_ref3","_ref4"],"sourceRoot":""}