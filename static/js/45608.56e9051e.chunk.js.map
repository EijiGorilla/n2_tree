{"version":3,"file":"static/js/45608.56e9051e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/PickRequest.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DView.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DTool.js","../node_modules/@arcgis/core/widgets/AreaMeasurement3D/AreaMeasurement3DViewModel.js","../node_modules/@arcgis/core/views/interactive/ToolIntersector.js","../node_modules/@arcgis/core/analysis/AreaMeasurementAnalysis.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{abortMaybe as o,removeMaybe as n}from\"../../../core/maybe.js\";import{debounce as i}from\"../../../core/promiseUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TaskPriority as a,ImmediateTask as l}from\"../../support/Scheduler.js\";let p=class extends s{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=i((async(t,s,o,n)=>{const i=this._frameTask;if(null==i)return;const r=await i.schedule((()=>s.snap({...t,context:o,signal:n})),n);r.valid&&await i.schedule((()=>{this.stagedPoint=r.apply(),t!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=s.update({...this._snapPoints,context:o}))}),n)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t=\"3d\"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=null!=t?t.registerTask(a.SNAPPING):l}destroy(){this._abortController=o(this._abortController),this._frameTask=n(this._frameTask)}update(t,s,o){this._snapPoints=t;const{point:n,scenePoint:i}=t,r=s.update({point:n,scenePoint:i,context:o});return this.stagedPoint=r,r}async snap(t,s,o){const{point:n,scenePoint:i}=t;return this.stagedPoint=s.update({point:n,scenePoint:i,context:o}),this._snapPoints=t,null==this._abortController&&(this._abortController=new AbortController),this._snap(t,s,o,this._abortController.signal)}async snapAgainNearPreviousMapPoint(t,s){null!=this._snapPoints&&await this.snap(this._snapPoints,t,s)}abort(){this._abortController=o(this._abortController),this._snapPoints=null}};t([r({constructOnly:!0})],p.prototype,\"view\",void 0),t([r()],p.prototype,\"stagedPoint\",null),t([r()],p.prototype,\"constrainResult\",void 0),t([r()],p.prototype,\"_stagedPoint\",void 0),p=t([e(\"esri.views.interactive.snapping.SnappingOperation\")],p);export{p as SnappingOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass s{constructor(s,t=null){this.screenPoint=s,this.result=t}}class t{constructor(s,t){this.scenePoint=s,this.mapPoint=t}}export{s as PickRequest,t as PickResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../Color.js\";import{multiplyOpacityToUnitRGBA as e,colorEquals as i,getContrast as s}from\"../../../../../core/colorUtils.js\";import a from\"../../../../../core/Handles.js\";import\"../../../../../core/has.js\";import{destroyMaybe as r}from\"../../../../../core/maybe.js\";import{watch as o,sync as n}from\"../../../../../core/reactiveUtils.js\";import{screenPointObjectToArray as l}from\"../../../../../core/screenUtils.js\";import{create as h}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import _ from\"../../../../../geometry/Point.js\";import{Manipulator3D as u}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as p}from\"../../manipulatorUtils.js\";import{RenderObject as c}from\"../../RenderObject.js\";import{PickResult as d}from\"../support/PickRequest.js\";import{LaserlineVisualElement as m}from\"../../visualElements/LaserlineVisualElement.js\";import{createSphereGeometry as w}from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ManipulatorCollection as v}from\"../../../../interactive/ManipulatorCollection.js\";import{newToolIntersector as g}from\"../../../../interactive/ToolIntersector.js\";class y{constructor(t){this.vertexManipulators=[],this._destroyed=!1,this._isManipulatorsOwner=!0,this._visible=!0,this._listenerHandles=null,this._tempHandlePosition=h();const{analysisViewData:e,manipulators:i,toolState:s,view:a,visible:r}=t;this._analysisViewData=e,this._toolState=s,null!=i?(this._manipulators=i,this._isManipulatorsOwner=!1):this._manipulators=new v,this._view=a,this._intersector=g(a.state.viewingMode);const o=p(this._handleColor),n=[new c(w(o,1,32,32))],l=new u({view:a,renderObjects:n});l.available=!1,l.radius=D,l.interactive=!1,this._manipulators.add(l),this._cursorManipulator=l,this._cursorManipulatorMaterial=o,this._laserLine=new m({view:a,attached:!0,style:{glowWidth:V,glowFalloff:M,innerWidth:b},isDecoration:!0}),this._updateVisibility(r??!0)}destroy(){this._listenerHandles=r(this._listenerHandles),this._isManipulatorsOwner?this._manipulators=r(this._manipulators):this._manipulators=null,this._laserLine=r(this._laserLine),this._destroyed=!0}get destroyed(){return this._destroyed}get visible(){return this._visible}set visible(t){t?this.show():this.hide()}get testData(){}show(){this._setVisibility(!0)}hide(){this._setVisibility(!1)}_setVisibility(t){this._destroyed||this._visible===t||this._updateVisibility(t)}_updateVisibility(t){this._visible=t,this._laserLine.visible=t,t?(this._initializeListeners(),this._updateAll()):(this._destroyListeners(),this.vertexManipulators.forEach((({manipulator:t})=>this._removeVertexManipulator(t))),this.vertexManipulators=[],this._view.cursor=null)}vertexHandleAt(t,e){const i=this._manipulators.intersect(t,e);return i?.metadata}pick(t){const e=this._view.spatialReference,i=l(t.screenPoint);this._view.sceneIntersectionHelper.intersectToolIntersectorScreen(i,this._intersector);const s=this._intersector.results.min,a=h();if(!s.getIntersectionPoint(a))return null;const r=this._view.renderCoordsHelper.fromRenderCoords(a,new _({spatialReference:e}));return null==r?null:new d(a,r)}_updateAll(){this._visible&&(this._updateVertexManipulators(),this._updateLaserLine())}_createVertexManipulator(){const t=p(this._handleColor),e=[new c(w(t,1,32,32))],i=new u({view:this._view,renderObjects:e});return i.radius=D,this._manipulators.add(i),{manipulator:i,material:t}}_removeVertexManipulator(t){this._manipulators.remove(t)}_updateVertexManipulators(){const{viewData:t}=this._analysisViewData,e=this._analysisViewData.path?this._analysisViewData.path.vertices:[],i=this.vertexManipulators;f(i,e.length,(()=>this._createVertexManipulator()),(({manipulator:t})=>this._removeVertexManipulator(t))),i.forEach((({manipulator:i},s)=>{i.metadata=e[s],i.renderLocation=t.positionsRender[s],i.cursor=0===s&&\"drawing\"===this._toolState.polygonState?\"crosshair\":null})),\"drawing\"===this._toolState.polygonState&&null!=this._analysisViewData.stagedPoint?(this._cursorManipulator.available=!0,this._cursorManipulator.location=this._analysisViewData.stagedPoint):this._cursorManipulator.available=!1}get _handleColor(){return e(this._view.effectiveTheme.accentColor,.5)}_getFocusPoint(){const{lastDraggedVertex:t}=this._analysisViewData;switch(this._toolState.polygonState){case\"drawing\":return null!=this._analysisViewData.stagedPoint?this._analysisViewData.stagedPoint:null!=t?this._analysisViewData.path.getVertexPositionAsPoint(t):this._analysisViewData.path.lastPoint;case\"editing\":return null!=t?this._analysisViewData.path.getVertexPositionAsPoint(t):null;default:return this._analysisViewData.stagedPoint}}_updateLaserLine(){const t=\"measured\"!==this._toolState.polygonState&&this._toolState.active,e=this._getFocusPoint();if(t&&null!=e){const t=this._tempHandlePosition;this._view.renderCoordsHelper.toRenderCoords(e,t),this._laserLine.heightManifoldTarget=t}else this._laserLine.heightManifoldTarget=null}_initializeListeners(){this._listenerHandles=new a,this._listenerHandles.add([o((()=>this._toolState.polygonState),(()=>this._updateLaserLine())),o((()=>this._analysisViewData.viewData),(()=>this._updateAll()),n),o((()=>({lastDraggedVertex:this._analysisViewData.lastDraggedVertex,cursorPoint:this._analysisViewData.stagedPoint})),(()=>this._updateLaserLine())),o((()=>this._toolState.active),(()=>this._updateAll())),o((()=>this._view.effectiveTheme.accentColor),(i=>{const a=e(i,.5);for(const{material:t}of this.vertexManipulators)t.setParameters({color:a});this._cursorManipulatorMaterial.setParameters({color:a});const r=t.toUnitRGB(i),o=t.toUnitRGB(s(i)),n=.75*i.a,l=this._laserLine,h=l.style;l.style={...h,glowColor:r,innerColor:o,globalAlpha:n}}),{initial:!0,equals:i})])}_destroyListeners(){this._listenerHandles=r(this._listenerHandles)}}function f(t,e,i,s){for(;t.length<e;)t.push(i());for(;t.length>e;){s(t.pop())}}const V=8,M=8,b=1,D=5;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{destroyMaybe as e}from\"../../../../../core/maybe.js\";import{memoize as i}from\"../../../../../core/memoize.js\";import{ignoreAbortErrors as a}from\"../../../../../core/promiseUtils.js\";import{syncAndInitial as n,watch as s}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../../../../core/support/UpdatingHandles.js\";import l from\"../../../../../geometry/Point.js\";import{clonePoint as g}from\"../../../../../layers/graphics/hydratedFeatures.js\";import{isPrimaryPointerAction as h}from\"../../../analysis/support/measurementUtils.js\";import{SnappingVisualizer3D as d}from\"../../SnappingVisualizer3D.js\";import{screenToMap3D as m,hideManipulatorWhileDragging as u}from\"../../editingTools/dragEventPipeline3D.js\";import c from\"./AreaMeasurement3DView.js\";import{PickRequest as y}from\"../support/PickRequest.js\";import{AnalysisToolBase as w}from\"../../../../interactive/AnalysisToolBase.js\";import{createCoordinateHelper as _}from\"../../../../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as v}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorCollection as f}from\"../../../../interactive/ManipulatorCollection.js\";import{EditGeometry as P}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as V}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as S}from\"../../../../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as D}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";import{acquire as j}from\"../../../../interactive/snapping/SnappingManagerPool.js\";import{SnappingOperation as M}from\"../../../../interactive/snapping/SnappingOperation.js\";import{setupSnappingToggleHandles as x}from\"../../../../interactive/snapping/snappingUtils.js\";import{createScreenPointFromEvent as k}from\"../../../../support/screenUtils.js\";let b=class extends w{constructor(t){super(t),this._updatingHandles=new p,this.polygonState=\"initial\",this.manipulators=new f,this._getSnappingContext=i((t=>new S({elevationInfo:{mode:\"absolute-height\",offset:0},pointer:t,editGeometryOperations:new V(new P(\"point\",_(!0,!1,this.view.spatialReference)),this.view.state.viewingMode),visualizer:new d})))}initialize(){const{view:t,analysisViewData:e,manipulators:i,visible:o}=this;this.measurementView=new c({view:t,analysisViewData:e,toolState:this,manipulators:i,visible:o});const r=j(t);this._snappingManagerResult=r,this.addHandles(r),this._snappingOperation=new M({view:t}),this._updatingHandles.add((()=>this.stagedPoint),(t=>{this.analysisViewData.stagedPoint=null!=t?g(t,new l):null}),n),x(this,(()=>{const t=this.view.inputManager.latestPointerType??\"mouse\",e=this._getSnappingContext(t);this._updatingHandles.addPromise(a(this._snappingOperation.snapAgainNearPreviousMapPoint(this._snappingManager,e)))})),this._setupManipulators(),this.addHandles([s((()=>this.state),(t=>{\"measured\"===t&&this.finishToolCreation()}),n),this.analysisViewData.path.on(\"change\",(()=>{const t=this.analysisViewData.path;\"initial\"!==this.polygonState||t.isEmptyPolygon||(t.isValidPolygon?this.polygonState=\"measured\":this.polygonState=\"drawing\")}))])}destroy(){this.measurementView.destroy(),this._set(\"measurementView\",null),this._updatingHandles=e(this._updatingHandles)}get _snappingManager(){return this._snappingManagerResult.snappingManager}get state(){return 0===this.analysisViewData.path.numVertices?\"ready\":this.analysisViewData.path.isValidPolygon&&\"editing\"!==this.polygonState?\"measured\":\"measuring\"}get cursor(){return\"ready\"===this.state||\"drawing\"===this.polygonState?\"crosshair\":null}get updating(){return this._updatingHandles.updating||this._snappingManager.updating}get stagedPoint(){return this._snappingOperation.stagedPoint}set stagedPoint(t){this._snappingOperation.stagedPoint=t}get snappingOptions(){return this._snappingManager.options}finishMeasurement(){const{path:t}=this.analysisViewData;t.numVertices<3?(t.clear(),this.polygonState=\"initial\"):(t.close(),this.polygonState=\"measured\"),this._resetSnappingState()}onShow(){this.measurementView.show()}onHide(){this.measurementView.hide()}onDeactivate(){this._resetSnappingState()}onInputEvent(t){switch(t.type){case\"immediate-double-click\":this._handleImmediateDoubleClick(t);break;case\"immediate-click\":this._handleImmediateClick(t);break;case\"pointer-move\":this._handlePointerMove(t);break;case\"drag\":this._handleDrag(t);break;case\"key-down\":this._handleKeyDown(t)}}_setupManipulators(){const t=t=>t.events.on(\"grab-changed\",(()=>{if(this.analysisViewData.path.isValidPolygon){const t=this.manipulators.some((t=>t.manipulator.grabbing));this.polygonState=t?\"editing\":\"measured\"}})),e=e=>{this.addHandles([v(e,((t,e,i,a)=>{const n=u(t),s=t.metadata,o=this._snappingManager,r=this._getSnappingContext(a),p=this._updatingHandles,{snappingStep:l,cancelSnapping:h}=D({snappingManager:o,snappingContext:r,updatingHandles:p});i=i.next(n).next((e=>(this.analysisViewData.lastDraggedVertex=null,this.analysisViewData.path.setVertexPosition(s,d),t.location=d,e))).next(h),e.next(n).next(m(this.view)).next(...l).next((e=>{t.location=e.mapEnd,this.analysisViewData.lastDraggedVertex=\"end\"===e.action?null:s,this.analysisViewData.path.setVertexPosition(s,g(e.mapEnd))}));const d=g(this.analysisViewData.path.getVertexPositionAsPoint(s))})),t(e)],e)};this.manipulators.forEach((({manipulator:t})=>{e(t)})),this.addHandles([this.manipulators.on(\"after-add\",(({item:{manipulator:t}})=>{e(t)})),this.manipulators.on(\"after-remove\",(({item:{manipulator:t}})=>this.removeHandles(t)))])}_handleImmediateDoubleClick(t){h(t)&&(\"drawing\"===this.polygonState&&this.finishMeasurement(),t.stopPropagation())}_handleDrag(t){\"editing\"===this.polygonState&&t.stopPropagation()}_handleImmediateClick(t){if(!h(t))return;const e=k(t),{pointerType:i}=t;if(this.active)switch(this.polygonState){case\"initial\":if(this._addVertexAt(e,i))return this.stagedPoint=null,this.polygonState=\"drawing\",void t.stopPropagation();break;case\"drawing\":{const a=this.measurementView.vertexHandleAt(e,i);if(null==a){if(this._addVertexAt(e,i))return this.stagedPoint=null,void t.stopPropagation()}else 0===a.index&&(this.finishMeasurement(),t.stopPropagation());break}}\"mouse\"===t.pointerType&&this._hoverAt(e)}_handlePointerMove(t){if(\"mouse\"===t.pointerType){const e=k(t);this._hoverAt(e)}}_handleKeyDown(t){const{path:e}=this.analysisViewData;\"Enter\"===t.key&&\"drawing\"===this.polygonState&&e.numVertices>=3&&(this.stagedPoint=null,this.finishMeasurement(),t.stopPropagation())}_hoverAt(t){const{polygonState:e}=this;if(this.active&&(\"initial\"===e||\"drawing\"===e)){const e=this._pick(t);if(null!=e?.mapPoint){const t=this._getSnappingContext(\"mouse\");this._updatingHandles.addPromise(a(this._snappingOperation.snap({point:e.mapPoint},this._snappingManager,t)))}}else this.stagedPoint=null}_addVertexAt(t,e){const i=this._pick(t);if(null!=i?.mapPoint){const{mapPoint:t}=i,a=this._getSnappingContext(e),n=this._snappingOperation.update({point:t},this._snappingManager,a),s=g(n,new l);return this.analysisViewData.path.add(s),!0}return!1}_pick(t){const e=new y(t);return this.measurementView.pick(e)}_resetSnappingState(){this._snappingManager.doneSnapping(),this._snappingOperation.abort(),this._snappingOperation.stagedPoint=null}get test(){}};t([o({readOnly:!0})],b.prototype,\"state\",null),t([o()],b.prototype,\"polygonState\",void 0),t([o({readOnly:!0})],b.prototype,\"cursor\",null),t([o()],b.prototype,\"measurementView\",void 0),t([o({constructOnly:!0})],b.prototype,\"view\",void 0),t([o({constructOnly:!0})],b.prototype,\"analysis\",void 0),t([o({constructOnly:!0})],b.prototype,\"analysisViewData\",void 0),t([o({readOnly:!0})],b.prototype,\"manipulators\",void 0),t([o()],b.prototype,\"updating\",null),t([o()],b.prototype,\"stagedPoint\",null),t([o()],b.prototype,\"snappingOptions\",null),b=t([r(\"esri.views.3d.interactive.measurementTools.areaMeasurement3D.AreaMeasurement3DTool\")],b);const O=b;export{O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../analysis/AreaMeasurementAnalysis.js\";import{watch as i,syncAndInitial as s}from\"../../core/reactiveUtils.js\";import{measurementAreaUnits as n}from\"../../core/unitUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as a}from\"../../properties/defaultUnit.js\";import o from\"../../views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DTool.js\";import{InteractiveAnalysisViewModel as u}from\"../support/InteractiveAnalysisViewModel.js\";let p=class extends u{constructor(t){super(t),this.analysis=null,this.supportedViewType=\"3d\",this.unsupportedErrorMessage=\"AreaMeasurement3DViewModel is only supported in 3D views.\",this._userUnitOptions=null,this._userUnit=null}initialize(){this.addHandles(i((()=>({analysis:this.analysis,unit:this.unit})),(({analysis:t,unit:e})=>{null!=t&&(t.unit=e)}),s))}get state(){return this.disabled||!this.ready?\"disabled\":null==this.tool?\"ready\":this.tool.state}get measurement(){if(null==this.tool||this.disabled||this.tool.destroyed)return null;const{analysisView:t}=this;if(null==t)return null;const e=t.analysisVisualization,i=e.viewData,s=i.validMeasurement,n=\"euclidean\"===i.mode,r=0===i.intersectingSegments.size,l=r?s?\"available\":\"unavailable\":\"invalid\";return{mode:n?\"euclidean\":\"geodesic\",area:{text:r&&s?e.areaLabel:null,state:l},perimeterLength:{text:r&&s?e.perimeterLengthLabel:null,state:l}}}set unitOptions(t){this._userUnitOptions=t,this._set(\"unitOptions\",this._filteredOrAllUnits(this._userUnitOptions))}get unitOptions(){return this._filteredOrAllUnits(this._userUnitOptions)}set unit(t){this._userUnit=t?this._findSelectableUnit(t,this._userUnit):null}get unit(){return null!=this._userUnit?(this._userUnit=this._findSelectableUnit(this._userUnit,this.defaultUnit),this._userUnit):this._findSelectableUnit(this.defaultUnit)}constructAnalysis(){return new e}constructTool(){return new o({view:this.view,analysis:this.analysis,analysisViewData:this.analysisView,visible:this.visible})}_findSelectableUnit(t,e){const{unitOptions:i}=this;return i.includes(t)?t:null!=e?this._findSelectableUnit(e):i[0]}_filteredOrAllUnits(t){if(null==t)return n.slice();const e=t.filter((t=>n.includes(t)));return 0===e.length?n.slice():e}};t([r({type:e})],p.prototype,\"analysis\",void 0),t([r({readOnly:!0})],p.prototype,\"state\",null),t([r({readOnly:!0})],p.prototype,\"measurement\",null),t([r()],p.prototype,\"unitOptions\",null),t([r()],p.prototype,\"unit\",null),t([r(a)],p.prototype,\"defaultUnit\",void 0),t([r()],p.prototype,\"_userUnit\",void 0),p=t([l(\"esri.widgets.AreaMeasurement3D.AreaMeasurement3DViewModel\")],p);const d=p;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{newIntersector as e}from\"../3d/webgl-engine/lib/Intersector.js\";import{StoreResults as o}from\"../3d/webgl-engine/lib/IntersectorInterfaces.js\";function t(t){const n=e(t);return n.options.store=o.MIN,n.options.excludeLabels=!0,n}export{t as newToolIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"./Analysis.js\";import{equals as t}from\"../core/arrayUtils.js\";import o from\"../core/Logger.js\";import{measurementAreaUnits as s}from\"../core/unitUtils.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"../geometry/Polygon.js\";let p=class extends r{constructor(e){super(e),this.type=\"area-measurement\",this.unit=null}set geometry(e){null!=e?(e.rings.length>1&&o.getLogger(this).warn(\"Measuring polygons with multiple rings is not supported.\"),this._set(\"geometry\",e.clone())):this._set(\"geometry\",null)}get requiredPropertiesForEditing(){if(null!=this.geometry&&1===this.geometry.rings.length){const e=this.geometry.rings[0];if(e.length<=2||!t(e[0],e[e.length-1]))return[null]}return[this.geometry]}clear(){this.geometry=null}};e([i({type:[\"area-measurement\"]})],p.prototype,\"type\",void 0),e([i({value:null,type:n})],p.prototype,\"geometry\",null),e([i({type:s,value:null})],p.prototype,\"unit\",void 0),e([i({readOnly:!0})],p.prototype,\"requiredPropertiesForEditing\",null),p=e([l(\"esri.analysis.AreaMeasurementAnalysis\")],p);const m=p;export{m as default};\n"],"names":["p","s","constructor","t","super","this","constrainResult","_snapPoints","_frameTask","_abortController","_stagedPoint","_snap","i","async","o","n","r","schedule","snap","context","signal","valid","stagedPoint","apply","update","initialize","view","type","resourceController","scheduler","registerTask","a","SNAPPING","l","destroy","point","scenePoint","AbortController","snapAgainNearPreviousMapPoint","abort","constructOnly","prototype","e","arguments","length","undefined","screenPoint","result","mapPoint","y","vertexManipulators","_destroyed","_isManipulatorsOwner","_visible","_listenerHandles","_tempHandlePosition","h","analysisViewData","manipulators","toolState","visible","_analysisViewData","_toolState","_manipulators","v","_view","_intersector","g","state","viewingMode","_handleColor","c","w","u","renderObjects","available","radius","D","interactive","add","_cursorManipulator","_cursorManipulatorMaterial","_laserLine","m","attached","style","glowWidth","V","glowFalloff","M","innerWidth","b","isDecoration","_updateVisibility","destroyed","show","hide","testData","_setVisibility","_initializeListeners","_updateAll","_destroyListeners","forEach","_ref","manipulator","_removeVertexManipulator","cursor","vertexHandleAt","intersect","metadata","pick","spatialReference","sceneIntersectionHelper","intersectToolIntersectorScreen","results","min","getIntersectionPoint","renderCoordsHelper","fromRenderCoords","_","d","_updateVertexManipulators","_updateLaserLine","_createVertexManipulator","material","remove","viewData","path","vertices","push","pop","f","_ref2","_ref3","renderLocation","positionsRender","polygonState","location","effectiveTheme","accentColor","_getFocusPoint","lastDraggedVertex","getVertexPositionAsPoint","lastPoint","active","toRenderCoords","heightManifoldTarget","cursorPoint","setParameters","color","toUnitRGB","glowColor","innerColor","globalAlpha","initial","equals","_updatingHandles","_getSnappingContext","S","elevationInfo","mode","offset","pointer","editGeometryOperations","P","visualizer","measurementView","j","_snappingManagerResult","addHandles","_snappingOperation","x","inputManager","latestPointerType","addPromise","_snappingManager","_setupManipulators","finishToolCreation","on","isEmptyPolygon","isValidPolygon","_set","snappingManager","numVertices","updating","snappingOptions","options","finishMeasurement","clear","close","_resetSnappingState","onShow","onHide","onDeactivate","onInputEvent","_handleImmediateDoubleClick","_handleImmediateClick","_handlePointerMove","_handleDrag","_handleKeyDown","events","some","grabbing","snappingStep","cancelSnapping","snappingContext","updatingHandles","next","setVertexPosition","mapEnd","action","item","removeHandles","stopPropagation","k","pointerType","_addVertexAt","index","_hoverAt","key","_pick","doneSnapping","test","readOnly","O","analysis","supportedViewType","unsupportedErrorMessage","_userUnitOptions","_userUnit","unit","disabled","ready","tool","measurement","analysisView","analysisVisualization","validMeasurement","intersectingSegments","size","area","text","areaLabel","perimeterLength","perimeterLengthLabel","unitOptions","_filteredOrAllUnits","_findSelectableUnit","defaultUnit","constructAnalysis","constructTool","includes","slice","filter","store","MIN","excludeLabels","geometry","rings","getLogger","warn","clone","requiredPropertiesForEditing","value"],"sourceRoot":""}