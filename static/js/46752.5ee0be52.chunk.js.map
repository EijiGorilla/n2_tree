{"version":3,"file":"static/js/46752.5ee0be52.chunk.js","mappings":"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","sources":["../node_modules/lit-html/src/directives/repeat.ts","../node_modules/@esri/calcite-components/dist/components/calcite-color-picker-hex-input/customElement.js","../node_modules/@esri/calcite-components/dist/components/calcite-color-picker/customElement.js","../node_modules/lodash-es/throttle.js"],"sourcesContent":["/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport {ChildPart, noChange} from '../lit-html.js';\nimport {directive, Directive, PartInfo, PartType} from '../directive.js';\nimport {\n  insertPart,\n  getCommittedValue,\n  removePart,\n  setCommittedValue,\n  setChildPartValue,\n} from '../directive-helpers.js';\n\nexport type KeyFn<T> = (item: T, index: number) => unknown;\nexport type ItemTemplate<T> = (item: T, index: number) => unknown;\n\n// Helper for generating a map of array item to its index over a subset\n// of an array (used to lazily generate `newKeyToIndexMap` and\n// `oldKeyToIndexMap`)\nconst generateMap = (list: unknown[], start: number, end: number) => {\n  const map = new Map<unknown, number>();\n  for (let i = start; i <= end; i++) {\n    map.set(list[i], i);\n  }\n  return map;\n};\n\nclass RepeatDirective extends Directive {\n  private _itemKeys?: unknown[];\n\n  constructor(partInfo: PartInfo) {\n    super(partInfo);\n    if (partInfo.type !== PartType.CHILD) {\n      throw new Error('repeat() can only be used in text expressions');\n    }\n  }\n\n  private _getValuesAndKeys<T>(\n    items: Iterable<T>,\n    keyFnOrTemplate: KeyFn<T> | ItemTemplate<T>,\n    template?: ItemTemplate<T>\n  ) {\n    let keyFn: KeyFn<T> | undefined;\n    if (template === undefined) {\n      template = keyFnOrTemplate;\n    } else if (keyFnOrTemplate !== undefined) {\n      keyFn = keyFnOrTemplate as KeyFn<T>;\n    }\n    const keys = [];\n    const values = [];\n    let index = 0;\n    for (const item of items) {\n      keys[index] = keyFn ? keyFn(item, index) : index;\n      values[index] = template!(item, index);\n      index++;\n    }\n    return {\n      values,\n      keys,\n    };\n  }\n\n  render<T>(items: Iterable<T>, template: ItemTemplate<T>): Array<unknown>;\n  render<T>(\n    items: Iterable<T>,\n    keyFn: KeyFn<T> | ItemTemplate<T>,\n    template: ItemTemplate<T>\n  ): Array<unknown>;\n  render<T>(\n    items: Iterable<T>,\n    keyFnOrTemplate: KeyFn<T> | ItemTemplate<T>,\n    template?: ItemTemplate<T>\n  ) {\n    return this._getValuesAndKeys(items, keyFnOrTemplate, template).values;\n  }\n\n  override update<T>(\n    containerPart: ChildPart,\n    [items, keyFnOrTemplate, template]: [\n      Iterable<T>,\n      KeyFn<T> | ItemTemplate<T>,\n      ItemTemplate<T>,\n    ]\n  ) {\n    // Old part & key lists are retrieved from the last update (which may\n    // be primed by hydration)\n    const oldParts = getCommittedValue(\n      containerPart\n    ) as Array<ChildPart | null>;\n    const {values: newValues, keys: newKeys} = this._getValuesAndKeys(\n      items,\n      keyFnOrTemplate,\n      template\n    );\n\n    // We check that oldParts, the committed value, is an Array as an\n    // indicator that the previous value came from a repeat() call. If\n    // oldParts is not an Array then this is the first render and we return\n    // an array for lit-html's array handling to render, and remember the\n    // keys.\n    if (!Array.isArray(oldParts)) {\n      this._itemKeys = newKeys;\n      return newValues;\n    }\n\n    // In SSR hydration it's possible for oldParts to be an array but for us\n    // to not have item keys because the update() hasn't run yet. We set the\n    // keys to an empty array. This will cause all oldKey/newKey comparisons\n    // to fail and execution to fall to the last nested brach below which\n    // reuses the oldPart.\n    const oldKeys = (this._itemKeys ??= []);\n\n    // New part list will be built up as we go (either reused from\n    // old parts or created for new keys in this update). This is\n    // saved in the above cache at the end of the update.\n    const newParts: ChildPart[] = [];\n\n    // Maps from key to index for current and previous update; these\n    // are generated lazily only when needed as a performance\n    // optimization, since they are only required for multiple\n    // non-contiguous changes in the list, which are less common.\n    let newKeyToIndexMap!: Map<unknown, number>;\n    let oldKeyToIndexMap!: Map<unknown, number>;\n\n    // Head and tail pointers to old parts and new values\n    let oldHead = 0;\n    let oldTail = oldParts.length - 1;\n    let newHead = 0;\n    let newTail = newValues.length - 1;\n\n    // Overview of O(n) reconciliation algorithm (general approach\n    // based on ideas found in ivi, vue, snabbdom, etc.):\n    //\n    // * We start with the list of old parts and new values (and\n    //   arrays of their respective keys), head/tail pointers into\n    //   each, and we build up the new list of parts by updating\n    //   (and when needed, moving) old parts or creating new ones.\n    //   The initial scenario might look like this (for brevity of\n    //   the diagrams, the numbers in the array reflect keys\n    //   associated with the old parts or new values, although keys\n    //   and parts/values are actually stored in parallel arrays\n    //   indexed using the same head/tail pointers):\n    //\n    //      oldHead v                 v oldTail\n    //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n    //   newParts: [ ,  ,  ,  ,  ,  ,  ]\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6] <- reflects the user's new\n    //                                      item order\n    //      newHead ^                 ^ newTail\n    //\n    // * Iterate old & new lists from both sides, updating,\n    //   swapping, or removing parts at the head/tail locations\n    //   until neither head nor tail can move.\n    //\n    // * Example below: keys at head pointers match, so update old\n    //   part 0 in-place (no need to move it) and record part 0 in\n    //   the `newParts` list. The last thing we do is advance the\n    //   `oldHead` and `newHead` pointers (will be reflected in the\n    //   next diagram).\n    //\n    //      oldHead v                 v oldTail\n    //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n    //   newParts: [0,  ,  ,  ,  ,  ,  ] <- heads matched: update 0\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n    //                                      & newHead\n    //      newHead ^                 ^ newTail\n    //\n    // * Example below: head pointers don't match, but tail\n    //   pointers do, so update part 6 in place (no need to move\n    //   it), and record part 6 in the `newParts` list. Last,\n    //   advance the `oldTail` and `oldHead` pointers.\n    //\n    //         oldHead v              v oldTail\n    //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n    //   newParts: [0,  ,  ,  ,  ,  , 6] <- tails matched: update 6\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldTail\n    //                                      & newTail\n    //         newHead ^              ^ newTail\n    //\n    // * If neither head nor tail match; next check if one of the\n    //   old head/tail items was removed. We first need to generate\n    //   the reverse map of new keys to index (`newKeyToIndexMap`),\n    //   which is done once lazily as a performance optimization,\n    //   since we only hit this case if multiple non-contiguous\n    //   changes were made. Note that for contiguous removal\n    //   anywhere in the list, the head and tails would advance\n    //   from either end and pass each other before we get to this\n    //   case and removals would be handled in the final while loop\n    //   without needing to generate the map.\n    //\n    // * Example below: The key at `oldTail` was removed (no longer\n    //   in the `newKeyToIndexMap`), so remove that part from the\n    //   DOM and advance just the `oldTail` pointer.\n    //\n    //         oldHead v           v oldTail\n    //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n    //   newParts: [0,  ,  ,  ,  ,  , 6] <- 5 not in new map: remove\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    5 and advance oldTail\n    //         newHead ^           ^ newTail\n    //\n    // * Once head and tail cannot move, any mismatches are due to\n    //   either new or moved items; if a new key is in the previous\n    //   \"old key to old index\" map, move the old part to the new\n    //   location, otherwise create and insert a new part. Note\n    //   that when moving an old part we null its position in the\n    //   oldParts array if it lies between the head and tail so we\n    //   know to skip it when the pointers get there.\n    //\n    // * Example below: neither head nor tail match, and neither\n    //   were removed; so find the `newHead` key in the\n    //   `oldKeyToIndexMap`, and move that old part's DOM into the\n    //   next head position (before `oldParts[oldHead]`). Last,\n    //   null the part in the `oldPart` array since it was\n    //   somewhere in the remaining oldParts still to be scanned\n    //   (between the head and tail pointers) so that we know to\n    //   skip that old part on future iterations.\n    //\n    //         oldHead v        v oldTail\n    //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n    //   newParts: [0, 2,  ,  ,  ,  , 6] <- stuck: update & move 2\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    into place and advance\n    //                                      newHead\n    //         newHead ^           ^ newTail\n    //\n    // * Note that for moves/insertions like the one above, a part\n    //   inserted at the head pointer is inserted before the\n    //   current `oldParts[oldHead]`, and a part inserted at the\n    //   tail pointer is inserted before `newParts[newTail+1]`. The\n    //   seeming asymmetry lies in the fact that new parts are\n    //   moved into place outside in, so to the right of the head\n    //   pointer are old parts, and to the right of the tail\n    //   pointer are new parts.\n    //\n    // * We always restart back from the top of the algorithm,\n    //   allowing matching and simple updates in place to\n    //   continue...\n    //\n    // * Example below: the head pointers once again match, so\n    //   simply update part 1 and record it in the `newParts`\n    //   array.  Last, advance both head pointers.\n    //\n    //         oldHead v        v oldTail\n    //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n    //   newParts: [0, 2, 1,  ,  ,  , 6] <- heads matched: update 1\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n    //                                      & newHead\n    //            newHead ^        ^ newTail\n    //\n    // * As mentioned above, items that were moved as a result of\n    //   being stuck (the final else clause in the code below) are\n    //   marked with null, so we always advance old pointers over\n    //   these so we're comparing the next actual old value on\n    //   either end.\n    //\n    // * Example below: `oldHead` is null (already placed in\n    //   newParts), so advance `oldHead`.\n    //\n    //            oldHead v     v oldTail\n    //   oldKeys:  [0, 1, -, 3, 4, 5, 6] <- old head already used:\n    //   newParts: [0, 2, 1,  ,  ,  , 6]    advance oldHead\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n    //               newHead ^     ^ newTail\n    //\n    // * Note it's not critical to mark old parts as null when they\n    //   are moved from head to tail or tail to head, since they\n    //   will be outside the pointer range and never visited again.\n    //\n    // * Example below: Here the old tail key matches the new head\n    //   key, so the part at the `oldTail` position and move its\n    //   DOM to the new head position (before `oldParts[oldHead]`).\n    //   Last, advance `oldTail` and `newHead` pointers.\n    //\n    //               oldHead v  v oldTail\n    //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n    //   newParts: [0, 2, 1, 4,  ,  , 6] <- old tail matches new\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]   head: update & move 4,\n    //                                     advance oldTail & newHead\n    //               newHead ^     ^ newTail\n    //\n    // * Example below: Old and new head keys match, so update the\n    //   old head part in place, and advance the `oldHead` and\n    //   `newHead` pointers.\n    //\n    //               oldHead v oldTail\n    //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n    //   newParts: [0, 2, 1, 4, 3,   ,6] <- heads match: update 3\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance oldHead &\n    //                                      newHead\n    //                  newHead ^  ^ newTail\n    //\n    // * Once the new or old pointers move past each other then all\n    //   we have left is additions (if old list exhausted) or\n    //   removals (if new list exhausted). Those are handled in the\n    //   final while loops at the end.\n    //\n    // * Example below: `oldHead` exceeded `oldTail`, so we're done\n    //   with the main loop.  Create the remaining part and insert\n    //   it at the new head position, and the update is complete.\n    //\n    //                   (oldHead > oldTail)\n    //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n    //   newParts: [0, 2, 1, 4, 3, 7 ,6] <- create and insert 7\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n    //                     newHead ^ newTail\n    //\n    // * Note that the order of the if/else clauses is not\n    //   important to the algorithm, as long as the null checks\n    //   come first (to ensure we're always working on valid old\n    //   parts) and that the final else clause comes last (since\n    //   that's where the expensive moves occur). The order of\n    //   remaining clauses is just a simple guess at which cases\n    //   will be most common.\n    //\n    // * Note, we could calculate the longest\n    //   increasing subsequence (LIS) of old items in new position,\n    //   and only move those not in the LIS set. However that costs\n    //   O(nlogn) time and adds a bit more code, and only helps\n    //   make rare types of mutations require fewer moves. The\n    //   above handles removes, adds, reversal, swaps, and single\n    //   moves of contiguous items in linear time, in the minimum\n    //   number of moves. As the number of multiple moves where LIS\n    //   might help approaches a random shuffle, the LIS\n    //   optimization becomes less helpful, so it seems not worth\n    //   the code at this point. Could reconsider if a compelling\n    //   case arises.\n\n    while (oldHead <= oldTail && newHead <= newTail) {\n      if (oldParts[oldHead] === null) {\n        // `null` means old part at head has already been used\n        // below; skip\n        oldHead++;\n      } else if (oldParts[oldTail] === null) {\n        // `null` means old part at tail has already been used\n        // below; skip\n        oldTail--;\n      } else if (oldKeys[oldHead] === newKeys[newHead]) {\n        // Old head matches new head; update in place\n        newParts[newHead] = setChildPartValue(\n          oldParts[oldHead]!,\n          newValues[newHead]\n        );\n        oldHead++;\n        newHead++;\n      } else if (oldKeys[oldTail] === newKeys[newTail]) {\n        // Old tail matches new tail; update in place\n        newParts[newTail] = setChildPartValue(\n          oldParts[oldTail]!,\n          newValues[newTail]\n        );\n        oldTail--;\n        newTail--;\n      } else if (oldKeys[oldHead] === newKeys[newTail]) {\n        // Old head matches new tail; update and move to new tail\n        newParts[newTail] = setChildPartValue(\n          oldParts[oldHead]!,\n          newValues[newTail]\n        );\n        insertPart(containerPart, newParts[newTail + 1], oldParts[oldHead]!);\n        oldHead++;\n        newTail--;\n      } else if (oldKeys[oldTail] === newKeys[newHead]) {\n        // Old tail matches new head; update and move to new head\n        newParts[newHead] = setChildPartValue(\n          oldParts[oldTail]!,\n          newValues[newHead]\n        );\n        insertPart(containerPart, oldParts[oldHead]!, oldParts[oldTail]!);\n        oldTail--;\n        newHead++;\n      } else {\n        if (newKeyToIndexMap === undefined) {\n          // Lazily generate key-to-index maps, used for removals &\n          // moves below\n          newKeyToIndexMap = generateMap(newKeys, newHead, newTail);\n          oldKeyToIndexMap = generateMap(oldKeys, oldHead, oldTail);\n        }\n        if (!newKeyToIndexMap.has(oldKeys[oldHead])) {\n          // Old head is no longer in new list; remove\n          removePart(oldParts[oldHead]!);\n          oldHead++;\n        } else if (!newKeyToIndexMap.has(oldKeys[oldTail])) {\n          // Old tail is no longer in new list; remove\n          removePart(oldParts[oldTail]!);\n          oldTail--;\n        } else {\n          // Any mismatches at this point are due to additions or\n          // moves; see if we have an old part we can reuse and move\n          // into place\n          const oldIndex = oldKeyToIndexMap.get(newKeys[newHead]);\n          const oldPart = oldIndex !== undefined ? oldParts[oldIndex] : null;\n          if (oldPart === null) {\n            // No old part for this value; create a new one and\n            // insert it\n            const newPart = insertPart(containerPart, oldParts[oldHead]!);\n            setChildPartValue(newPart, newValues[newHead]);\n            newParts[newHead] = newPart;\n          } else {\n            // Reuse old part\n            newParts[newHead] = setChildPartValue(oldPart, newValues[newHead]);\n            insertPart(containerPart, oldParts[oldHead]!, oldPart);\n            // This marks the old part as having been used, so that\n            // it will be skipped in the first two checks above\n            oldParts[oldIndex as number] = null;\n          }\n          newHead++;\n        }\n      }\n    }\n    // Add parts for any remaining new values\n    while (newHead <= newTail) {\n      // For all remaining additions, we insert before last new\n      // tail, since old pointers are no longer valid\n      const newPart = insertPart(containerPart, newParts[newTail + 1]);\n      setChildPartValue(newPart, newValues[newHead]);\n      newParts[newHead++] = newPart;\n    }\n    // Remove any remaining unused old parts\n    while (oldHead <= oldTail) {\n      const oldPart = oldParts[oldHead++];\n      if (oldPart !== null) {\n        removePart(oldPart);\n      }\n    }\n\n    // Save order of new parts for next round\n    this._itemKeys = newKeys;\n    // Directly set part value, bypassing it's dirty-checking\n    setCommittedValue(containerPart, newParts);\n    return noChange;\n  }\n}\n\nexport interface RepeatDirectiveFn {\n  <T>(\n    items: Iterable<T>,\n    keyFnOrTemplate: KeyFn<T> | ItemTemplate<T>,\n    template?: ItemTemplate<T>\n  ): unknown;\n  <T>(items: Iterable<T>, template: ItemTemplate<T>): unknown;\n  <T>(\n    items: Iterable<T>,\n    keyFn: KeyFn<T> | ItemTemplate<T>,\n    template: ItemTemplate<T>\n  ): unknown;\n}\n\n/**\n * A directive that repeats a series of values (usually `TemplateResults`)\n * generated from an iterable, and updates those items efficiently when the\n * iterable changes based on user-provided `keys` associated with each item.\n *\n * Note that if a `keyFn` is provided, strict key-to-DOM mapping is maintained,\n * meaning previous DOM for a given key is moved into the new position if\n * needed, and DOM will never be reused with values for different keys (new DOM\n * will always be created for new keys). This is generally the most efficient\n * way to use `repeat` since it performs minimum unnecessary work for insertions\n * and removals.\n *\n * The `keyFn` takes two parameters, the item and its index, and returns a unique key value.\n *\n * ```js\n * html`\n *   <ol>\n *     ${repeat(this.items, (item) => item.id, (item, index) => {\n *       return html`<li>${index}: ${item.name}</li>`;\n *     })}\n *   </ol>\n * `\n * ```\n *\n * **Important**: If providing a `keyFn`, keys *must* be unique for all items in a\n * given call to `repeat`. The behavior when two or more items have the same key\n * is undefined.\n *\n * If no `keyFn` is provided, this directive will perform similar to mapping\n * items to values, and DOM will be reused against potentially different items.\n */\nexport const repeat = directive(RepeatDirective) as RepeatDirectiveFn;\n\n/**\n * The type of the class that powers this directive. Necessary for naming the\n * directive's return type.\n */\nexport type {RepeatDirective};\n","import { c as T } from \"../../chunks/runtime.js\";\nimport { ref as g } from \"lit-html/directives/ref.js\";\nimport { keyed as k } from \"lit-html/directives/keyed.js\";\nimport C from \"color\";\nimport { html as b } from \"lit\";\nimport { LitElement as D, createEvent as L, safeClassMap as I } from \"@arcgis/lumina\";\nimport { n as u, h as c, i as p, a as x, b as d, r as B, o as $, c as H, O as V, d as A } from \"../../chunks/utils4.js\";\nimport { b as P } from \"../../chunks/dom.js\";\nimport { c as R } from \"../../chunks/component.js\";\nimport { css as K } from \"@lit/reactive-element/css-tag.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.1.0 */\nconst m = {\n  container: \"container\",\n  hexInput: \"hex-input\",\n  opacityInput: \"opacity-input\"\n}, z = K`:host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:100px;margin-inline-start:-1px}:host([hidden]){display:none}[hidden]{display:none}`, f = C();\nclass U extends D {\n  constructor() {\n    super(...arguments), this.internalColor = f, this.alphaChannel = !1, this.allowEmpty = !1, this.hexLabel = \"Hex\", this.scale = \"m\", this.value = u(c(f, this.alphaChannel), this.alphaChannel, !0), this.calciteColorPickerHexInputChange = L({ cancelable: !1 });\n  }\n  static {\n    this.properties = { internalColor: 16, alphaChannel: 5, allowEmpty: 5, hexLabel: 1, messages: 0, numberingSystem: 1, scale: 3, value: 3 };\n  }\n  static {\n    this.styles = z;\n  }\n  // #endregion\n  // #region Public Methods\n  /** Sets focus on the component. */\n  async setFocus() {\n    return await R(this), P(this.hexInputNode);\n  }\n  // #endregion\n  // #region Lifecycle\n  connectedCallback() {\n    super.connectedCallback(), this.previousNonNullValue = this.value;\n    const { allowEmpty: t, alphaChannel: e, value: a } = this;\n    if (a) {\n      const n = u(a, e);\n      p(n, e) && this.internalSetValue(n, n, !1);\n      return;\n    }\n    t && this.internalSetValue(void 0, void 0, !1);\n  }\n  willUpdate(t) {\n    t.has(\"value\") && (this.hasUpdated || this.value !== u(c(f, this.alphaChannel), this.alphaChannel, !0)) && this.internalSetValue(this.value, t.get(\"value\"), !1);\n  }\n  // #endregion\n  // #region Private Methods\n  onHexInputBlur() {\n    const t = this.hexInputNode, e = t.value, a = `#${e}`, { allowEmpty: n, internalColor: l } = this, s = n && !e, i = x(a);\n    (d(a, !0) || d(a, !1)) && this.onHexInputChange(), !(s || p(a) && i) && (t.value = n && !l ? \"\" : this.formatHexForInternalInput(B(\n      // always display hex input in RRGGBB format\n      l.object()\n    )));\n  }\n  onOpacityInputBlur() {\n    const t = this.opacityInputNode, e = t.value, { allowEmpty: a, internalColor: n } = this;\n    a && !e || (t.value = a && !n ? \"\" : this.formatOpacityForInternalInput(n));\n  }\n  onOpacityInputInput() {\n    this.onOpacityInputChange();\n  }\n  onHexInputChange() {\n    let e = this.hexInputNode.value;\n    if (e) {\n      const a = u(e, !1);\n      if (p(a) && this.alphaChannel && this.internalColor) {\n        const l = u(this.internalColor.hexa(), !0).slice(-2);\n        e = `${a + l}`;\n      }\n    }\n    this.internalSetValue(e, this.value);\n  }\n  onOpacityInputChange() {\n    const t = this.opacityInputNode;\n    let e;\n    if (!t.value)\n      e = t.value;\n    else {\n      const a = $(Number(t.value));\n      e = this.internalColor?.alpha(a).hexa();\n    }\n    this.internalSetValue(e, this.value);\n  }\n  onInputFocus(t) {\n    t.type === \"calciteInternalInputTextFocus\" ? this.hexInputNode.selectText() : this.opacityInputNode.selectText();\n  }\n  onHexInputInput() {\n    const t = `#${this.hexInputNode.value}`, e = this.value;\n    p(t, this.alphaChannel) && x(t, this.alphaChannel) && this.internalSetValue(t, e);\n  }\n  onInputKeyDown(t) {\n    const { altKey: e, ctrlKey: a, metaKey: n, shiftKey: l } = t, { alphaChannel: s, hexInputNode: i, internalColor: o, value: h } = this, { key: r } = t, y = t.composedPath();\n    if (r === \"Tab\" && d(h, this.alphaChannel) || r === \"Enter\") {\n      y.includes(i) ? this.onHexInputChange() : this.onOpacityInputChange(), r === \"Enter\" && t.preventDefault();\n      return;\n    }\n    const w = r === \"ArrowDown\" || r === \"ArrowUp\", v = this.value;\n    if (w) {\n      if (!h) {\n        this.internalSetValue(this.previousNonNullValue, v), t.preventDefault();\n        return;\n      }\n      const E = r === \"ArrowUp\" ? 1 : -1, F = l ? 10 : 1;\n      this.internalSetValue(c(this.nudgeRGBChannels(o, F * E, y.includes(i) ? \"rgb\" : \"a\"), s), v), t.preventDefault();\n      return;\n    }\n    const N = e || a || n, S = r.length === 1, O = A.test(r);\n    S && !N && !O && t.preventDefault();\n  }\n  onHexInputPaste(t) {\n    const e = t.clipboardData.getData(\"text\");\n    p(e, this.alphaChannel) && x(e, this.alphaChannel) && (t.preventDefault(), this.hexInputNode.value = e.slice(1), this.internalSetValue(e, this.value));\n  }\n  internalSetValue(t, e, a = !0) {\n    if (t) {\n      const { alphaChannel: n } = this, l = u(t, n, n);\n      if (p(l, n)) {\n        const { internalColor: s } = this, i = C(l), o = u(c(i, n), n), h = !s || o !== u(c(s, n), n);\n        this.internalColor = i, this.previousNonNullValue = o, this.value = o, h && a && this.calciteColorPickerHexInputChange.emit();\n        return;\n      }\n    } else if (this.allowEmpty) {\n      this.internalColor = void 0, this.value = void 0, a && this.calciteColorPickerHexInputChange.emit();\n      return;\n    }\n    this.value = e;\n  }\n  storeHexInputRef(t) {\n    this.hexInputNode = t;\n  }\n  storeOpacityInputRef(t) {\n    this.opacityInputNode = t;\n  }\n  formatHexForInternalInput(t) {\n    return t ? t.replace(\"#\", \"\").slice(0, 6) : \"\";\n  }\n  formatOpacityForInternalInput(t) {\n    return t ? `${H(t.alpha())}` : \"\";\n  }\n  nudgeRGBChannels(t, e, a) {\n    let n;\n    const l = t.array(), s = l.slice(0, 3);\n    if (a === \"rgb\")\n      n = [\n        ...s.map((o) => o + e),\n        this.alphaChannel ? l[3] : void 0\n      ];\n    else {\n      const i = $(H(t.alpha()) + e);\n      n = [...s, i];\n    }\n    return C(n);\n  }\n  // #endregion\n  // #region Rendering\n  render() {\n    const { alphaChannel: t, hexLabel: e, internalColor: a, messages: n, scale: l, value: s } = this, i = this.formatHexForInternalInput(s), o = this.formatOpacityForInternalInput(a), h = l === \"l\" ? \"m\" : \"s\";\n    return b`<div class=${I(m.container)}><calcite-input-text class=${I(m.hexInput)} .label=${n?.hex || e} .maxLength=${this.alphaChannel ? 8 : 6} @keydown=${this.onInputKeyDown} @paste=${this.onHexInputPaste} @calciteInputTextChange=${this.onHexInputChange} @calciteInputTextInput=${this.onHexInputInput} @calciteInternalInputTextBlur=${this.onHexInputBlur} @calciteInternalInputTextFocus=${this.onInputFocus} prefix-text=# .scale=${h} .value=${i} ${g(this.storeHexInputRef)}></calcite-input-text>${t ? k(\"opacity-input\", b`<calcite-input-number class=${I(m.opacityInput)} .label=${n?.opacity} .max=${V.max} max-length=3 .min=${V.min} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.onInputKeyDown} @calciteInputNumberInput=${this.onOpacityInputInput} @calciteInternalInputNumberBlur=${this.onOpacityInputBlur} @calciteInternalInputNumberFocus=${this.onInputFocus} .scale=${h} suffix-text=% .value=${o} ${g(this.storeOpacityInputRef)}></calcite-input-number>`) : null}</div>`;\n  }\n}\nT(\"calcite-color-picker-hex-input\", U);\nexport {\n  U as ColorPickerHexInput\n};\n","import { c as se } from \"../../chunks/runtime.js\";\nimport { ref as v } from \"lit-html/directives/ref.js\";\nimport { repeat as le } from \"lit-html/directives/repeat.js\";\nimport { keyed as I } from \"lit-html/directives/keyed.js\";\nimport S from \"color\";\nimport { throttle as E } from \"lodash-es\";\nimport { html as u, nothing as $ } from \"lit\";\nimport { LitElement as ne, createEvent as K, safeClassMap as c, safeStyleMap as x } from \"@arcgis/lumina\";\nimport { i as H, h as re, g as ce } from \"../../chunks/dom.js\";\nimport { u as he, I as de } from \"../../chunks/interactive.js\";\nimport { i as pe } from \"../../chunks/key.js\";\nimport { c as ue } from \"../../chunks/component.js\";\nimport { c as Ce, r as U, a as fe } from \"../../chunks/math.js\";\nimport { u as me } from \"../../chunks/useT9n.js\";\nimport { c as ge } from \"../../chunks/observers.js\";\nimport { D as g, C as j, S as A, g as ve, e as Se, n as O, h as b, p as W, f as P, j as D, k as be, l as N, O as y, R as k, H as p, m as n, o as _, t as ye, q as B, s as V, u as we, c as R, v as X } from \"../../chunks/utils4.js\";\nimport { css as $e } from \"@lit/reactive-element/css-tag.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.1.0 */\nconst xe = $e`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);inline-size:var(--calcite-internal-color-picker-min-width);min-inline-size:var(--calcite-internal-color-picker-min-width)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-internal-color-picker-min-width: 200px;--calcite-color-picker-spacing: 8px}:host([scale=s]) .saved-colors{gap:.25rem;grid-template-columns:repeat(auto-fill,20px)}:host([scale=m]){--calcite-internal-color-picker-min-width: 240px;--calcite-color-picker-spacing: 12px}:host([scale=l]){--calcite-internal-color-picker-min-width: 304px;--calcite-color-picker-spacing: 16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill,32px)}:host([scale=l]) .control-section{display:flex;flex-direction:column;flex-wrap:wrap;align-items:baseline}:host([scale=l]) .color-hex-options{inline-size:100%;display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-color-foreground-1);display:flex;flex-direction:column;block-size:min-content;border:1px solid var(--calcite-color-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.color-field,.control-and-scope{-webkit-user-select:none;user-select:none}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))));outline-offset:6px}.hex-and-channels-group{display:flex;inline-size:100%;flex-direction:column;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing);gap:var(--calcite-spacing-xxs)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-color-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex}.channel{flex-grow:1}.channel[data-channel-index=\"3\"]{margin-inline-start:-1px;min-inline-size:81px}:host([scale=s]) .channel[data-channel-index=\"3\"]{min-inline-size:68px}:host([scale=l]) .channel[data-channel-index=\"3\"]{min-inline-size:88px}.saved-colors{display:grid;gap:.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill,24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-color-border-2);outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}`, q = 16;\nclass Ae extends ne {\n  // #endregion\n  // #region Lifecycle\n  constructor() {\n    super(), this._color = g, this.internalColorUpdateContext = null, this.isActiveChannelInputEmpty = !1, this.mode = j.HEX, this.resizeObserver = ge(\"resize\", (e) => this.resizeCanvas(e)), this.shiftKeyChannelAdjustment = 0, this.upOrDownArrowKeyTracker = null, this._valueWasSet = !1, this.channelMode = \"rgb\", this.channels = this.toChannels(g), this.staticDimensions = A.m, this.savedColors = [], this.allowEmpty = !1, this.alphaChannel = !1, this.channelsDisabled = !1, this.clearable = !1, this.disabled = !1, this.format = \"auto\", this.hexDisabled = !1, this.messages = me({ blocking: !0 }), this.savedDisabled = !1, this.scale = \"m\", this.calciteColorPickerChange = K({ cancelable: !1 }), this.calciteColorPickerInput = K({ cancelable: !1 }), this.captureColorFieldColor = (e, t, i = !0) => {\n      const { width: o, height: a } = this.dynamicDimensions.colorField, s = Math.round(p.s / o * e), l = Math.round(p.v / a * (a - t));\n      this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(s).value(l), i);\n    }, this.drawColorControls = E((e = \"all\") => {\n      (e === \"all\" || e === \"color-field\") && this.colorFieldRenderingContext && this.drawColorField(), (e === \"all\" || e === \"hue-slider\") && this.hueSliderRenderingContext && this.drawHueSlider(), this.alphaChannel && (e === \"all\" || e === \"opacity-slider\") && this.opacitySliderRenderingContext && this.drawOpacitySlider();\n    }, q), this.globalPointerMoveHandler = (e) => {\n      const { activeCanvasInfo: t, el: i } = this;\n      if (!i.isConnected || !t)\n        return;\n      const { context: o, bounds: a } = t;\n      let s, l;\n      const { clientX: r, clientY: h } = e;\n      o.canvas.matches(\":hover\") ? (s = r - a.x, l = h - a.y) : (r < a.x + a.width && r > a.x ? s = r - a.x : r < a.x ? s = 0 : s = a.width, h < a.y + a.height && h > a.y ? l = h - a.y : h < a.y ? l = 0 : l = a.height), o === this.colorFieldRenderingContext ? this.captureColorFieldColor(s, l, !1) : o === this.hueSliderRenderingContext ? this.captureHueSliderColor(s) : o === this.opacitySliderRenderingContext && this.captureOpacitySliderValue(s);\n    }, this.globalPointerUpHandler = (e) => {\n      if (!H(e))\n        return;\n      const t = this.activeCanvasInfo;\n      this.activeCanvasInfo = null, this.drawColorControls(), t && this.calciteColorPickerChange.emit();\n    }, this.resizeCanvas = E((e) => {\n      if (!this.hasUpdated)\n        return;\n      const [t] = e, i = Math.floor(t.contentBoxSize[0].inlineSize);\n      this.dynamicDimensions.colorField.width !== i && (this.updateDynamicDimensions(i), this.updateCanvasSize(), this.drawColorControls());\n    }, q), this.updateDynamicDimensions = (e) => {\n      const t = {\n        width: ve(e, this.staticDimensions, this.alphaChannel),\n        height: this.staticDimensions.slider.height\n      };\n      this.dynamicDimensions = {\n        colorField: Se(e),\n        slider: t\n      };\n    }, this.listen(\"keydown\", this.handleChannelKeyUpOrDown, { capture: !0 }), this.listen(\"keyup\", this.handleChannelKeyUpOrDown, { capture: !0 });\n  }\n  static {\n    this.properties = { channelMode: 16, channels: 16, colorFieldScopeLeft: 16, colorFieldScopeTop: 16, staticDimensions: 16, hueScopeLeft: 16, opacityScopeLeft: 16, savedColors: 16, scopeOrientation: 16, allowEmpty: 7, alphaChannel: 5, channelsDisabled: 5, clearable: 7, color: 0, disabled: 7, format: 3, hexDisabled: 5, messageOverrides: 0, numberingSystem: 3, savedDisabled: 7, scale: 3, storageId: 3, value: 1 };\n  }\n  static {\n    this.styles = xe;\n  }\n  get baseColorFieldColor() {\n    return this.color || this.previousColor || g;\n  }\n  get effectiveSliderWidth() {\n    return this.dynamicDimensions.slider.width;\n  }\n  /**\n   * Internal prop for advanced use-cases.\n   *\n   * @private\n   */\n  get color() {\n    return this._color;\n  }\n  set color(e) {\n    const t = this._color;\n    this._color = e, this.handleColorChange(e, t);\n  }\n  /**\n   * The component's value, where the value can be a CSS color string, or a RGB, HSL or HSV object.\n   *\n   * The type will be preserved as the color is updated.\n   *\n   * @default\n   *\n   * @see [CSS Color](https://developer.mozilla.org/en-US/docs/Web/CSS/color),\n   * @see [ColorValue](https://github.com/Esri/calcite-design-system/blob/dev/packages/calcite-components/src/components/color-picker/interfaces.ts#L10).\n   */\n  get value() {\n    return this._value;\n  }\n  set value(e) {\n    const t = this._value;\n    this._value = e, this.handleValueChange(e, t), this._valueWasSet = !0;\n  }\n  // #endregion\n  // #region Public Methods\n  /** Sets focus on the component's first focusable element. */\n  async setFocus() {\n    await ue(this), re(this.el);\n  }\n  connectedCallback() {\n    super.connectedCallback(), this.observeResize();\n  }\n  async load() {\n    this._valueWasSet || (this._value ??= O(b(g, this.alphaChannel))), this.handleAllowEmptyOrClearableChange();\n    const { isClearable: e, color: t, format: i, value: o } = this, a = e && !o, s = W(o), l = a || i === \"auto\" && s || i === s, r = a ? null : l ? S(o) : t;\n    l || this.showIncompatibleColorWarning(o, i), this.setMode(i, !1), this.internalColorSet(r, !1, \"initial\"), this.updateStaticDimensions(this.scale), this.updateDynamicDimensions(A[this.scale].minWidth);\n    const h = `${P}${this.storageId}`;\n    this.storageId && localStorage.getItem(h) && (this.savedColors = JSON.parse(localStorage.getItem(h)));\n  }\n  willUpdate(e) {\n    (e.has(\"allowEmpty\") && (this.hasUpdated || this.allowEmpty !== !1) || e.has(\"clearable\") && (this.hasUpdated || this.clearable !== !1)) && this.handleAllowEmptyOrClearableChange(), e.has(\"alphaChannel\") && (this.hasUpdated || this.alphaChannel !== !1) && this.handleAlphaChannelChange(this.alphaChannel), this.hasUpdated && (e.has(\"alphaChannel\") && this.alphaChannel !== !1 || e.has(\"staticDimensions\") && this.staticDimensions !== A.m) && this.handleAlphaChannelDimensionsChange(), (e.has(\"alphaChannel\") && (this.hasUpdated || this.alphaChannel !== !1) || e.has(\"format\") && (this.hasUpdated || this.format !== \"auto\")) && this.handleFormatOrAlphaChannelChange(), e.has(\"scale\") && (this.hasUpdated || this.scale !== \"m\") && this.handleScaleChange(this.scale);\n  }\n  updated() {\n    he(this);\n  }\n  loaded() {\n    this.handleAlphaChannelDimensionsChange();\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback(), window.removeEventListener(\"pointermove\", this.globalPointerMoveHandler), window.removeEventListener(\"pointerup\", this.globalPointerUpHandler), this.resizeObserver?.disconnect();\n  }\n  // #endregion\n  // #region Private Methods\n  observeResize() {\n    this.resizeObserver?.observe(this.el);\n  }\n  handleAllowEmptyOrClearableChange() {\n    this.isClearable = this.clearable || this.allowEmpty;\n  }\n  handleAlphaChannelChange(e) {\n    const { format: t } = this;\n    e && t !== \"auto\" && !D(t) && (console.warn(`ignoring alphaChannel as the current format (${t}) does not support alpha`), this.alphaChannel = !1);\n  }\n  handleAlphaChannelDimensionsChange() {\n    this.drawColorControls();\n  }\n  handleColorChange(e, t) {\n    this.drawColorControls(), this.updateChannelsFromColor(e), this.previousColor = t;\n  }\n  handleFormatOrAlphaChannelChange() {\n    this.setMode(this.format), this.internalColorSet(this.color, !1, \"internal\");\n  }\n  handleScaleChange(e = \"m\") {\n    this.updateStaticDimensions(e), this.updateCanvasSize(), this.drawColorControls();\n  }\n  handleValueChange(e, t) {\n    const { isClearable: i, format: o } = this, a = !i || e;\n    let s = !1;\n    if (a) {\n      const d = W(e);\n      if (!d || o !== \"auto\" && d !== o) {\n        this.showIncompatibleColorWarning(e, o), this._value = t;\n        return;\n      }\n      s = this.mode !== d, this.setMode(d, this.internalColorUpdateContext === null);\n    }\n    const l = this.activeCanvasInfo;\n    if (this.internalColorUpdateContext === \"initial\")\n      return;\n    if (this.internalColorUpdateContext === \"user-interaction\") {\n      this.calciteColorPickerInput.emit(), l || this.calciteColorPickerChange.emit();\n      return;\n    }\n    const r = i && !e ? null : S(e != null && typeof e == \"object\" && D(this.mode) ? be(e) : e), h = !N(r, this.color);\n    (s || h) && this.internalColorSet(r, this.alphaChannel && !(this.mode.endsWith(\"a\") || this.mode.endsWith(\"a-css\")) || this.internalColorUpdateContext === \"internal\", \"internal\");\n  }\n  handleTabActivate(e) {\n    this.channelMode = e.currentTarget.getAttribute(\"data-color-mode\"), this.updateChannelsFromColor(this.color);\n  }\n  handleColorFieldScopeKeyDown(e) {\n    const { key: t } = e, i = {\n      ArrowUp: { x: 0, y: -10 },\n      ArrowRight: { x: 10, y: 0 },\n      ArrowDown: { x: 0, y: 10 },\n      ArrowLeft: { x: -10, y: 0 }\n    };\n    i[t] && (e.preventDefault(), this.scopeOrientation = t === \"ArrowDown\" || t === \"ArrowUp\" ? \"vertical\" : \"horizontal\", this.captureColorFieldColor(this.colorFieldScopeLeft + i[t].x || 0, this.colorFieldScopeTop + i[t].y || 0, !1));\n  }\n  handleHueScopeKeyDown(e) {\n    const t = e.shiftKey ? 10 : 1, { key: i } = e, o = {\n      ArrowUp: 1,\n      ArrowRight: 1,\n      ArrowDown: -1,\n      ArrowLeft: -1\n    };\n    if (o[i]) {\n      e.preventDefault();\n      const a = o[i] * t, s = this.baseColorFieldColor.hue(), l = this.baseColorFieldColor.hue(s + a);\n      this.internalColorSet(l, !1);\n    }\n  }\n  handleHexInputChange(e) {\n    e.stopPropagation();\n    const { isClearable: t, color: i } = this, a = e.target.value;\n    if (t && !a) {\n      this.internalColorSet(null);\n      return;\n    }\n    const s = i && O(b(i, D(this.mode)));\n    a !== s && this.internalColorSet(S(a));\n  }\n  handleSavedColorSelect(e) {\n    const t = e.currentTarget;\n    this.internalColorSet(S(t.color));\n  }\n  handleChannelInput(e) {\n    const t = e.currentTarget, i = Number(t.getAttribute(\"data-channel-index\")), a = i === 3 ? y.max : this.channelMode === \"rgb\" ? k[Object.keys(k)[i]] : p[Object.keys(p)[i]];\n    let s;\n    if (!t.value)\n      s = \"\", this.isActiveChannelInputEmpty = !0, this.upOrDownArrowKeyTracker = null;\n    else {\n      const r = Number(t.value) + this.shiftKeyChannelAdjustment;\n      s = Ce(r, 0, a).toString();\n    }\n    t.value = s, s !== \"\" && this.shiftKeyChannelAdjustment !== 0 ? this.handleChannelChange(e) : s !== \"\" && this.handleChannelChange(e);\n  }\n  handleChannelBlur(e) {\n    const t = e.currentTarget, i = Number(t.getAttribute(\"data-channel-index\")), o = [...this.channels];\n    !t.value && !this.isClearable && (t.value = o[i]?.toString());\n  }\n  handleChannelFocus(e) {\n    e.currentTarget.selectText();\n  }\n  // using @Listen as a workaround for VDOM listener not firing\n  handleChannelKeyUpOrDown(e) {\n    this.shiftKeyChannelAdjustment = 0;\n    const { key: t } = e;\n    if (t !== \"ArrowUp\" && t !== \"ArrowDown\" || !e.composedPath().some((a) => a.classList?.contains(n.channel)))\n      return;\n    const { shiftKey: i } = e;\n    if (e.preventDefault(), !this.color) {\n      this.internalColorSet(this.previousColor), e.stopPropagation();\n      return;\n    }\n    const o = 9;\n    this.shiftKeyChannelAdjustment = t === \"ArrowUp\" && i ? o : t === \"ArrowDown\" && i ? -9 : 0, t === \"ArrowUp\" && (this.upOrDownArrowKeyTracker = \"up\"), t === \"ArrowDown\" && (this.upOrDownArrowKeyTracker = \"down\");\n  }\n  getChannelInputLimit(e) {\n    return this.channelMode === \"rgb\" ? k[Object.keys(k)[e]] : p[Object.keys(p)[e]];\n  }\n  handleChannelChange(e) {\n    const t = e.currentTarget, i = Number(t.getAttribute(\"data-channel-index\")), o = [...this.channels];\n    if (this.isClearable && !t.value) {\n      this.channels = [null, null, null, null], this.internalColorSet(null);\n      return;\n    }\n    const s = i === 3;\n    this.isActiveChannelInputEmpty && this.upOrDownArrowKeyTracker && (t.value = this.upOrDownArrowKeyTracker === \"up\" ? (o[i] + 1 <= this.getChannelInputLimit(i) ? o[i] + 1 : this.getChannelInputLimit(i)).toString() : (o[i] - 1 >= 0 ? o[i] - 1 : 0).toString(), this.isActiveChannelInputEmpty = !1, this.upOrDownArrowKeyTracker = null);\n    const l = t.value ? Number(t.value) : o[i];\n    o[i] = s ? _(l) : l, this.updateColorFromChannels(o);\n  }\n  handleSavedColorKeyDown(e) {\n    pe(e.key) && (e.preventDefault(), this.handleSavedColorSelect(e));\n  }\n  handleColorFieldPointerDown(e) {\n    this.handleCanvasControlPointerDown(e, this.colorFieldRenderingContext, this.captureColorFieldColor, this.colorFieldScopeNode);\n  }\n  focusScope(e) {\n    requestAnimationFrame(() => {\n      e.focus();\n    });\n  }\n  handleHueSliderPointerDown(e) {\n    this.handleCanvasControlPointerDown(e, this.hueSliderRenderingContext, this.captureHueSliderColor, this.hueScopeNode);\n  }\n  handleOpacitySliderPointerDown(e) {\n    this.handleCanvasControlPointerDown(e, this.opacitySliderRenderingContext, this.captureOpacitySliderValue, this.opacityScopeNode);\n  }\n  handleCanvasControlPointerDown(e, t, i, o) {\n    H(e) && (window.addEventListener(\"pointermove\", this.globalPointerMoveHandler), window.addEventListener(\"pointerup\", this.globalPointerUpHandler, {\n      once: !0\n    }), this.activeCanvasInfo = {\n      context: t,\n      bounds: t.canvas.getBoundingClientRect()\n    }, i.call(this, e.offsetX, e.offsetY), this.focusScope(o));\n  }\n  storeColorFieldScope(e) {\n    this.colorFieldScopeNode = e;\n  }\n  storeHueScope(e) {\n    this.hueScopeNode = e;\n  }\n  handleKeyDown(e) {\n    e.key === \"Enter\" && e.preventDefault();\n  }\n  showIncompatibleColorWarning(e, t) {\n    console.warn(`ignoring color value (${e}) as it is not compatible with the current format (${t})`);\n  }\n  setMode(e, t = !0) {\n    const i = e === \"auto\" ? this.mode : e;\n    this.mode = this.ensureCompatibleMode(i, t);\n  }\n  ensureCompatibleMode(e, t) {\n    const { alphaChannel: i } = this, o = D(e);\n    if (i && !o) {\n      const a = ye(e);\n      return t && console.warn(`setting format to (${a}) as the provided one (${e}) does not support alpha`), a;\n    }\n    if (!i && o) {\n      const a = B(e);\n      return t && console.warn(`setting format to (${a}) as the provided one (${e}) does not support alpha`), a;\n    }\n    return e;\n  }\n  captureHueSliderColor(e) {\n    const t = V / this.effectiveSliderWidth * e;\n    this.internalColorSet(this.baseColorFieldColor.hue(t), !1);\n  }\n  captureOpacitySliderValue(e) {\n    const t = _(y.max / this.effectiveSliderWidth * e);\n    this.internalColorSet(this.baseColorFieldColor.alpha(t), !1);\n  }\n  internalColorSet(e, t = !0, i = \"user-interaction\") {\n    t && N(e, this.color) || (this.internalColorUpdateContext = i, this.color = e, this.value = this.toValue(e), this.internalColorUpdateContext = null);\n  }\n  toValue(e, t = this.mode) {\n    if (!e)\n      return null;\n    if (t.includes(\"hex\")) {\n      const a = t === j.HEXA;\n      return O(b(e.round(), a), a);\n    }\n    if (t.includes(\"-css\")) {\n      const a = e[t.replace(\"-css\", \"\").replace(\"a\", \"\")]().round().string();\n      if ((t.endsWith(\"a\") || t.endsWith(\"a-css\")) && e.alpha() === 1) {\n        const l = a.slice(0, 3), r = a.slice(4, -1);\n        return `${l}a(${r}, ${e.alpha()})`;\n      }\n      return a;\n    }\n    const o = (\n      /* Color() does not support hsva, hsla nor rgba, so we use the non-alpha mode */\n      e[B(t)]().round().object()\n    );\n    return t.endsWith(\"a\") ? we(o) : o;\n  }\n  getSliderCapSpacing() {\n    const { staticDimensions: { slider: { height: e }, thumb: { radius: t } } } = this;\n    return t * 2 - e;\n  }\n  updateStaticDimensions(e = \"m\") {\n    this.staticDimensions = A[e];\n  }\n  deleteColor() {\n    const e = b(this.color, this.alphaChannel);\n    if (!(this.savedColors.indexOf(e) > -1))\n      return;\n    const i = this.savedColors.filter((a) => a !== e);\n    this.savedColors = i;\n    const o = `${P}${this.storageId}`;\n    this.storageId && localStorage.setItem(o, JSON.stringify(i));\n  }\n  saveColor() {\n    const e = b(this.color, this.alphaChannel);\n    if (this.savedColors.indexOf(e) > -1)\n      return;\n    const i = [...this.savedColors, e];\n    this.savedColors = i;\n    const o = `${P}${this.storageId}`;\n    this.storageId && localStorage.setItem(o, JSON.stringify(i));\n  }\n  drawColorField() {\n    const e = this.colorFieldRenderingContext, { width: t, height: i } = this.dynamicDimensions.colorField;\n    e.fillStyle = this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string(), e.fillRect(0, 0, t, i);\n    const o = e.createLinearGradient(0, 0, t, 0);\n    o.addColorStop(0, \"rgba(255,255,255,1)\"), o.addColorStop(1, \"rgba(255,255,255,0)\"), e.fillStyle = o, e.fillRect(0, 0, t, i);\n    const a = e.createLinearGradient(0, 0, 0, i);\n    a.addColorStop(0, \"rgba(0,0,0,0)\"), a.addColorStop(1, \"rgba(0,0,0,1)\"), e.fillStyle = a, e.fillRect(0, 0, t, i), this.drawActiveColorFieldColor();\n  }\n  setCanvasContextSize(e, { height: t, width: i }) {\n    if (!e)\n      return;\n    const o = window.devicePixelRatio || 1;\n    e.width = i * o, e.height = t * o, e.style.height = `${t}px`, e.style.width = `${i}px`, e.getContext(\"2d\").scale(o, o);\n  }\n  initColorField(e) {\n    e && (this.colorFieldRenderingContext = e.getContext(\"2d\"), this.updateCanvasSize(\"color-field\"), this.drawColorControls());\n  }\n  initHueSlider(e) {\n    e && (this.hueSliderRenderingContext = e.getContext(\"2d\"), this.updateCanvasSize(\"hue-slider\"), this.drawHueSlider());\n  }\n  initOpacitySlider(e) {\n    e && (this.opacitySliderRenderingContext = e.getContext(\"2d\"), this.updateCanvasSize(\"opacity-slider\"), this.drawOpacitySlider());\n  }\n  updateCanvasSize(e = \"all\") {\n    const { dynamicDimensions: t, staticDimensions: i } = this;\n    (e === \"all\" || e === \"color-field\") && this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas, t.colorField);\n    const o = {\n      width: this.effectiveSliderWidth,\n      height: i.slider.height + (i.thumb.radius - t.slider.height / 2) * 2\n    };\n    (e === \"all\" || e === \"hue-slider\") && this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas, o), (e === \"all\" || e === \"opacity-slider\") && this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas, o);\n  }\n  drawActiveColorFieldColor() {\n    const { color: e } = this;\n    if (!e)\n      return;\n    const t = e.hsv(), { staticDimensions: { thumb: { radius: i } } } = this, { width: o, height: a } = this.dynamicDimensions.colorField, s = t.saturationv() / (p.s / o), l = a - t.value() / (p.v / a);\n    requestAnimationFrame(() => {\n      this.colorFieldScopeLeft = s, this.colorFieldScopeTop = l;\n    }), this.drawThumb(this.colorFieldRenderingContext, i, s, l, t, !1);\n  }\n  drawThumb(e, t, i, o, a, s) {\n    const r = 2 * Math.PI, h = 1;\n    if (e.beginPath(), e.arc(i, o, t, 0, r), e.fillStyle = \"#fff\", e.fill(), e.strokeStyle = \"rgba(0,0,0,0.3)\", e.lineWidth = h, e.stroke(), s && a.alpha() < 1) {\n      const C = e.createPattern(this.getCheckeredBackgroundPattern(), \"repeat\");\n      e.beginPath(), e.arc(i, o, t - 3, 0, r), e.fillStyle = C, e.fill();\n    }\n    e.globalCompositeOperation = \"source-atop\", e.beginPath(), e.arc(i, o, t - 3, 0, r);\n    const d = s ? a.alpha() : 1;\n    e.fillStyle = a.rgb().alpha(d).string(), e.fill(), e.globalCompositeOperation = \"source-over\";\n  }\n  drawActiveHueSliderColor() {\n    const { color: e } = this;\n    if (!e)\n      return;\n    const t = e.hsv().saturationv(100).value(100), { staticDimensions: { thumb: { radius: i } } } = this, o = this.effectiveSliderWidth, a = t.hue() / (V / o), s = i, l = this.getSliderBoundX(a, o, i);\n    requestAnimationFrame(() => {\n      this.hueScopeLeft = l;\n    }), this.drawThumb(this.hueSliderRenderingContext, i, l, s, t, !1);\n  }\n  drawHueSlider() {\n    const e = this.hueSliderRenderingContext, { staticDimensions: { slider: { height: t }, thumb: { radius: i } } } = this, o = 0, a = i - t / 2, s = this.effectiveSliderWidth, l = e.createLinearGradient(0, 0, s, 0), r = [\n      \"red\",\n      \"yellow\",\n      \"lime\",\n      \"cyan\",\n      \"blue\",\n      \"magenta\",\n      \"#ff0004\"\n    ], h = 1 / (r.length - 1);\n    let d = 0;\n    r.forEach((C) => {\n      l.addColorStop(d, S(C).string()), d += h;\n    }), e.clearRect(0, 0, s, t + this.getSliderCapSpacing() * 2), this.drawSliderPath(e, t, s, o, a), e.fillStyle = l, e.fill(), e.strokeStyle = \"rgba(0,0,0,0.3)\", e.lineWidth = 1, e.stroke(), this.drawActiveHueSliderColor();\n  }\n  drawOpacitySlider() {\n    const e = this.opacitySliderRenderingContext, { baseColorFieldColor: t, staticDimensions: { slider: { height: i }, thumb: { radius: o } } } = this, a = 0, s = o - i / 2, l = this.effectiveSliderWidth;\n    e.clearRect(0, 0, l, i + this.getSliderCapSpacing() * 2);\n    const r = e.createLinearGradient(0, s, l, 0), h = t.rgb().alpha(0), d = t.rgb().alpha(0.5), C = t.rgb().alpha(1);\n    r.addColorStop(0, h.string()), r.addColorStop(0.5, d.string()), r.addColorStop(1, C.string()), this.drawSliderPath(e, i, l, a, s);\n    const f = e.createPattern(this.getCheckeredBackgroundPattern(), \"repeat\");\n    e.fillStyle = f, e.fill(), e.fillStyle = r, e.fill(), e.strokeStyle = \"rgba(0,0,0,0.3)\", e.lineWidth = 1, e.stroke(), this.drawActiveOpacitySliderColor();\n  }\n  drawSliderPath(e, t, i, o, a) {\n    const s = t / 2 + 1;\n    e.beginPath(), e.moveTo(o + s, a), e.lineTo(o + i - s, a), e.quadraticCurveTo(o + i, a, o + i, a + s), e.lineTo(o + i, a + t - s), e.quadraticCurveTo(o + i, a + t, o + i - s, a + t), e.lineTo(o + s, a + t), e.quadraticCurveTo(o, a + t, o, a + t - s), e.lineTo(o, a + s), e.quadraticCurveTo(o, a, o + s, a), e.closePath();\n  }\n  getCheckeredBackgroundPattern() {\n    if (this.checkerPattern)\n      return this.checkerPattern;\n    const e = document.createElement(\"canvas\");\n    e.width = 10, e.height = 10;\n    const t = e.getContext(\"2d\");\n    return t.fillStyle = \"#ccc\", t.fillRect(0, 0, 10, 10), t.fillStyle = \"#fff\", t.fillRect(0, 0, 5, 5), t.fillRect(5, 5, 5, 5), this.checkerPattern = e, e;\n  }\n  drawActiveOpacitySliderColor() {\n    const { color: e } = this;\n    if (!e)\n      return;\n    const t = e, { staticDimensions: { thumb: { radius: i } } } = this, o = this.effectiveSliderWidth, a = R(t.alpha()) / (y.max / o), s = i, l = this.getSliderBoundX(a, o, i);\n    requestAnimationFrame(() => {\n      this.opacityScopeLeft = l;\n    }), this.drawThumb(this.opacitySliderRenderingContext, i, l, s, t, !0);\n  }\n  getSliderBoundX(e, t, i) {\n    const o = fe(e, t, i);\n    return o === 0 ? e : o === -1 ? U(e, 0, t, i, i * 2) : U(e, 0, t, t - i * 2, t - i);\n  }\n  storeOpacityScope(e) {\n    this.opacityScopeNode = e;\n  }\n  handleOpacityScopeKeyDown(e) {\n    const t = e.shiftKey ? 10 : 1, { key: i } = e, o = {\n      ArrowUp: 0.01,\n      ArrowRight: 0.01,\n      ArrowDown: -0.01,\n      ArrowLeft: -0.01\n    };\n    if (o[i]) {\n      e.preventDefault();\n      const a = o[i] * t, s = this.baseColorFieldColor.alpha(), l = this.baseColorFieldColor.alpha(s + a);\n      this.internalColorSet(l, !1);\n    }\n  }\n  updateColorFromChannels(e) {\n    this.internalColorSet(S(e, this.channelMode));\n  }\n  updateChannelsFromColor(e) {\n    this.channels = e ? this.toChannels(e) : [null, null, null, null];\n  }\n  toChannels(e) {\n    const { channelMode: t } = this, i = e[t]().array().map((o, a) => a === 3 ? o : Math.floor(o));\n    return i.length === 3 && i.push(1), i;\n  }\n  getAdjustedScopePosition(e, t) {\n    return [e - X / 2, t - X / 2];\n  }\n  // #endregion\n  // #region Rendering\n  render() {\n    const { channelsDisabled: e, color: t, colorFieldScopeLeft: i, colorFieldScopeTop: o, staticDimensions: { thumb: { radius: a } }, hexDisabled: s, hueScopeLeft: l, messages: r, alphaChannel: h, opacityScopeLeft: d, savedColors: C, savedDisabled: f, scale: m, scopeOrientation: w } = this, M = this.effectiveSliderWidth, z = t ? b(t, h) : null, G = a, Y = l ?? M * g.hue() / p.h, J = a, Z = d ?? M * R(g.alpha()) / y.max, L = t === void 0, F = w === \"vertical\", [Q, ee] = this.getAdjustedScopePosition(i, o), [te, ie] = this.getAdjustedScopePosition(Y, G), [oe, ae] = this.getAdjustedScopePosition(Z, J);\n    return de({ disabled: this.disabled, children: u`<div class=${c(n.container)}><div class=${c(n.controlAndScope)}><canvas class=${c(n.colorField)} @pointerdown=${this.handleColorFieldPointerDown} ${v(this.initColorField)}></canvas><div .ariaLabel=${F ? r.value : r.saturation} .ariaValueMax=${F ? p.v : p.s} aria-valuemin=0 .ariaValueNow=${(F ? t?.saturationv() : t?.value()) || \"0\"} class=${c({ [n.scope]: !0, [n.colorFieldScope]: !0 })} @keydown=${this.handleColorFieldScopeKeyDown} role=slider style=${x({\n      top: `${ee || 0}px`,\n      left: `${Q || 0}px`\n    })} tabindex=0 ${v(this.storeColorFieldScope)}></div></div><div class=${c(n.previewAndSliders)}><calcite-color-picker-swatch class=${c(n.preview)} .color=${z} .scale=${this.alphaChannel ? \"l\" : this.scale}></calcite-color-picker-swatch><div class=${c(n.sliders)}><div class=${c(n.controlAndScope)}><canvas class=${c({ [n.slider]: !0, [n.hueSlider]: !0 })} @pointerdown=${this.handleHueSliderPointerDown} ${v(this.initHueSlider)}></canvas><div .ariaLabel=${r.hue} .ariaValueMax=${p.h} aria-valuemin=0 .ariaValueNow=${t?.round().hue() || g.round().hue()} class=${c({ [n.scope]: !0, [n.hueScope]: !0 })} @keydown=${this.handleHueScopeKeyDown} role=slider style=${x({\n      top: `${ie}px`,\n      left: `${te}px`\n    })} tabindex=0 ${v(this.storeHueScope)}></div></div>${h ? u`<div class=${c(n.controlAndScope)}><canvas class=${c({ [n.slider]: !0, [n.opacitySlider]: !0 })} @pointerdown=${this.handleOpacitySliderPointerDown} ${v(this.initOpacitySlider)}></canvas><div .ariaLabel=${r.opacity} .ariaValueMax=${y.max} .ariaValueMin=${y.min} .ariaValueNow=${(t || g).round().alpha()} class=${c({ [n.scope]: !0, [n.opacityScope]: !0 })} @keydown=${this.handleOpacityScopeKeyDown} role=slider style=${x({\n      top: `${ae}px`,\n      left: `${oe}px`\n    })} tabindex=0 ${v(this.storeOpacityScope)}></div></div>` : null}</div></div>${s && e ? null : u`<div class=${c({\n      [n.controlSection]: !0,\n      [n.section]: !0\n    })}><div class=${c(n.hexAndChannelsGroup)}>${s ? null : u`<div class=${c(n.hexOptions)}><calcite-color-picker-hex-input .allowEmpty=${this.isClearable} .alphaChannel=${h} class=${c(n.control)} .messages=${r} .numberingSystem=${this.numberingSystem} @calciteColorPickerHexInputChange=${this.handleHexInputChange} .scale=${m} .value=${z}></calcite-color-picker-hex-input></div>`}${e ? null : u`<calcite-tabs class=${c({\n      [n.colorModeContainer]: !0,\n      [n.splitSection]: !0\n    })} .scale=${m === \"l\" ? \"m\" : \"s\"}><calcite-tab-nav slot=title-group>${this.renderChannelsTabTitle(\"rgb\")}${this.renderChannelsTabTitle(\"hsv\")}</calcite-tab-nav>${this.renderChannelsTab(\"rgb\")}${this.renderChannelsTab(\"hsv\")}</calcite-tabs>`}</div></div>`}${f ? null : u`<div class=${c({ [n.savedColorsSection]: !0, [n.section]: !0 })}><div class=${c(n.header)}><label>${r.saved}</label><div class=${c(n.savedColorsButtons)}><calcite-button appearance=transparent class=${c(n.deleteColor)} .disabled=${L} icon-start=minus kind=neutral .label=${r.deleteColor} @click=${this.deleteColor} .scale=${m} type=button></calcite-button><calcite-button appearance=transparent class=${c(n.saveColor)} .disabled=${L} icon-start=plus kind=neutral .label=${r.saveColor} @click=${this.saveColor} .scale=${m} type=button></calcite-button></div></div>${C.length > 0 ? u`<div class=${c(n.savedColors)}>${le(C, (T) => T, (T) => u`<calcite-color-picker-swatch class=${c(n.savedColor)} .color=${T} @click=${this.handleSavedColorSelect} @keydown=${this.handleSavedColorKeyDown} .scale=${m} tabindex=0></calcite-color-picker-swatch>`)}</div>` : null}</div>`}</div>` });\n  }\n  renderChannelsTabTitle(e) {\n    const { channelMode: t, messages: i } = this, o = e === t, a = e === \"rgb\" ? i.rgb : i.hsv;\n    return I(e, u`<calcite-tab-title class=${c(n.colorMode)} data-color-mode=${e ?? $} @calciteTabsActivate=${this.handleTabActivate} .selected=${o}>${a}</calcite-tab-title>`);\n  }\n  renderChannelsTab(e) {\n    const { isClearable: t, channelMode: i, channels: o, messages: a, alphaChannel: s } = this, l = e === i, h = e === \"rgb\" ? [a.red, a.green, a.blue] : [a.hue, a.saturation, a.value], d = ce(this.el), C = s ? o : o.slice(0, 3);\n    return I(e, u`<calcite-tab class=${c(n.control)} .selected=${l}><div class=${c(n.channels)} dir=ltr>${C.map((f, m) => {\n      const w = m === 3;\n      return w && (f = t && !f ? f : R(f)), this.renderChannel(f, m, h[m], d, w ? \"%\" : \"\");\n    })}</div></calcite-tab>`);\n  }\n  renderChannel(e, t, i, o, a) {\n    return I(t, u`<calcite-input-number class=${c(n.channel)} data-channel-index=${t ?? $} dir=${o ?? $} .label=${i} lang=${this.messages._lang ?? $} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.handleKeyDown} @calciteInputNumberChange=${this.handleChannelChange} @calciteInputNumberInput=${this.handleChannelInput} @calciteInternalInputNumberBlur=${this.handleChannelBlur} @calciteInternalInputNumberFocus=${this.handleChannelFocus} .scale=${this.scale === \"l\" ? \"m\" : \"s\"} style=${x({\n      marginLeft: t > 0 && !(this.scale === \"s\" && this.alphaChannel && t === 3) ? \"-1px\" : \"\"\n    })} .suffixText=${a} .value=${e?.toString()}></calcite-input-number>`);\n  }\n}\nse(\"calcite-color-picker\", Ae);\nexport {\n  Ae as ColorPicker\n};\n","import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n"],"names":["u","generateMap","e","s","t","r","Map","l","set","c","constructor","super","type","CHILD","Error","dt","o","i","values","keys","render","this","update","_ref","d","p","a","Array","isArray","ut","h","v","m","y","x","j","length","k","w","has","get","n","f","z","K","C","U","D","arguments","internalColor","alphaChannel","allowEmpty","hexLabel","scale","value","calciteColorPickerHexInputChange","L","cancelable","properties","messages","numberingSystem","styles","setFocus","R","P","hexInputNode","connectedCallback","previousNonNullValue","internalSetValue","willUpdate","hasUpdated","onHexInputBlur","onHexInputChange","formatHexForInternalInput","B","object","onOpacityInputBlur","opacityInputNode","formatOpacityForInternalInput","onOpacityInputInput","onOpacityInputChange","hexa","slice","$","Number","alpha","onInputFocus","selectText","onHexInputInput","onInputKeyDown","altKey","ctrlKey","metaKey","shiftKey","key","composedPath","includes","preventDefault","E","F","nudgeRGBChannels","N","S","O","A","test","onHexInputPaste","clipboardData","getData","undefined","emit","storeHexInputRef","storeOpacityInputRef","replace","H","array","map","b","I","hex","g","opacity","V","max","min","T","xe","$e","Ae","ne","_this","_color","internalColorUpdateContext","isActiveChannelInputEmpty","mode","HEX","resizeObserver","ge","resizeCanvas","shiftKeyChannelAdjustment","upOrDownArrowKeyTracker","_valueWasSet","channelMode","channels","toChannels","staticDimensions","savedColors","channelsDisabled","clearable","disabled","format","hexDisabled","me","blocking","savedDisabled","calciteColorPickerChange","calciteColorPickerInput","captureColorFieldColor","width","height","dynamicDimensions","colorField","Math","round","internalColorSet","baseColorFieldColor","hsv","saturationv","drawColorControls","colorFieldRenderingContext","drawColorField","hueSliderRenderingContext","drawHueSlider","opacitySliderRenderingContext","drawOpacitySlider","globalPointerMoveHandler","activeCanvasInfo","el","isConnected","context","bounds","clientX","clientY","canvas","matches","captureHueSliderColor","captureOpacitySliderValue","globalPointerUpHandler","floor","contentBoxSize","inlineSize","updateDynamicDimensions","updateCanvasSize","ve","slider","Se","listen","handleChannelKeyUpOrDown","capture","colorFieldScopeLeft","colorFieldScopeTop","hueScopeLeft","opacityScopeLeft","scopeOrientation","color","messageOverrides","storageId","previousColor","effectiveSliderWidth","handleColorChange","_value","handleValueChange","ue","re","observeResize","load","handleAllowEmptyOrClearableChange","isClearable","W","showIncompatibleColorWarning","setMode","updateStaticDimensions","minWidth","localStorage","getItem","JSON","parse","handleAlphaChannelChange","handleAlphaChannelDimensionsChange","handleFormatOrAlphaChannelChange","handleScaleChange","updated","he","loaded","disconnectedCallback","window","removeEventListener","disconnect","observe","console","warn","updateChannelsFromColor","be","endsWith","handleTabActivate","currentTarget","getAttribute","handleColorFieldScopeKeyDown","ArrowUp","ArrowRight","ArrowDown","ArrowLeft","handleHueScopeKeyDown","hue","handleHexInputChange","stopPropagation","target","handleSavedColorSelect","handleChannelInput","Object","Ce","toString","handleChannelChange","handleChannelBlur","handleChannelFocus","some","classList","contains","channel","getChannelInputLimit","_","updateColorFromChannels","handleSavedColorKeyDown","pe","handleColorFieldPointerDown","handleCanvasControlPointerDown","colorFieldScopeNode","focusScope","requestAnimationFrame","focus","handleHueSliderPointerDown","hueScopeNode","handleOpacitySliderPointerDown","opacityScopeNode","addEventListener","once","getBoundingClientRect","call","offsetX","offsetY","storeColorFieldScope","storeHueScope","handleKeyDown","ensureCompatibleMode","ye","toValue","HEXA","string","we","getSliderCapSpacing","thumb","radius","deleteColor","indexOf","filter","setItem","stringify","saveColor","fillStyle","fillRect","createLinearGradient","addColorStop","drawActiveColorFieldColor","setCanvasContextSize","devicePixelRatio","style","getContext","initColorField","initHueSlider","initOpacitySlider","drawThumb","PI","beginPath","arc","fill","strokeStyle","lineWidth","stroke","createPattern","getCheckeredBackgroundPattern","globalCompositeOperation","rgb","drawActiveHueSliderColor","getSliderBoundX","forEach","clearRect","drawSliderPath","drawActiveOpacitySliderColor","moveTo","lineTo","quadraticCurveTo","closePath","checkerPattern","document","createElement","fe","storeOpacityScope","handleOpacityScopeKeyDown","push","getAdjustedScopePosition","X","M","G","Y","J","Z","Q","ee","te","ie","oe","ae","de","children","container","controlAndScope","saturation","scope","colorFieldScope","top","left","previewAndSliders","preview","sliders","hueSlider","hueScope","opacitySlider","opacityScope","controlSection","section","hexAndChannelsGroup","hexOptions","control","colorModeContainer","splitSection","renderChannelsTabTitle","renderChannelsTab","savedColorsSection","header","saved","savedColorsButtons","le","savedColor","colorMode","red","green","blue","ce","renderChannel","_lang","marginLeft","se","func","wait","options","leading","trailing","TypeError","isObject","debounce"],"sourceRoot":""}