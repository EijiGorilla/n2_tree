{"version":3,"file":"static/js/65322.0af8fcc1.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/smartMapping/raster/support/adapters/RasterLayerAdapter.js","../node_modules/@arcgis/core/smartMapping/raster/support/adapters/ImageryLayerAdapter.js","../node_modules/@arcgis/core/smartMapping/raster/support/adapters/ImageryTileLayerAdapter.js","../node_modules/@arcgis/core/smartMapping/raster/support/utils.js","../node_modules/@arcgis/core/smartMapping/raster/renderers/vectorField.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import s from\"../../../../core/Loadable.js\";import{LRUCache as r}from\"../../../../core/LRUCache.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";let a=class extends s{constructor(){super(...arguments),this.type=\"raster-layer-adapter\",this._statsCache=new r(20)}get serviceRasterInfo(){return this.rasterInfo}async updateRasterInfo(t){this.rasterInfo=await this.generateRasterInfo(t),this.rasterFunction=t?.rasterFunction}async updateRasterInfoWithEstimatedStats(t,s){const r=await this.estimateStatisticsHistograms(s);r?.statistics&&(t.statistics=r.statistics),r?.histograms&&(t.histograms=r.histograms)}};t([o()],a.prototype,\"layer\",void 0),t([o()],a.prototype,\"serviceRasterInfo\",null),t([o()],a.prototype,\"rasterInfo\",void 0),t([o()],a.prototype,\"rasterFunction\",void 0),t([o({readOnly:!0})],a.prototype,\"type\",void 0),t([o()],a.prototype,\"version\",void 0),a=t([e(\"esri.smartMapping.raster.support.adapters.RasterLayerAdapter\")],a);const i=a;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import r from\"../../../../geometry/Point.js\";import{estimateStatisticsFromHistograms as a}from\"../../../../layers/support/rasterFunctions/stretchUtils.js\";import o from\"../../../../rest/support/ImageHistogramParameters.js\";import i from\"./RasterLayerAdapter.js\";let n=class extends i{generateRasterInfo(t){const e=t?.rasterFunction;try{return this.layer.generateRasterInfo(e,{signal:t?.signal})}catch{return Promise.resolve(this.layer.serviceRasterInfo)}}async estimateStatisticsHistograms(t){const{layer:e}=this,s=e.mosaicRule?.multidimensionalDefinition?.[0]?.variableName??\"\",i=`${t?.rasterFunction?.functionName??\"default\"}${s}`,n=this._statsCache.get(i);if(n)return n;let{width:c,height:m,pixelSize:l}=e.rasterInfo,p=1;for(;c>2e3||m>2e3;)c/=2,m/=2,p*=2;const u=t?.rasterFunction??e.rasterFunction,{fullExtent:h,mosaicRule:g}=e;l=new r(l.x*p,l.y*p,h.spatialReference);const f=new o({geometry:h,pixelSize:l,renderingRule:u,mosaicRule:g});let d;if(e.capabilities.operations.supportsComputeStatisticsHistograms)d=await e.computeStatisticsHistograms(f,t);else{const{histograms:s}=await e.computeHistograms(f,t);d={statistics:a(s),histograms:s}}return d&&this._statsCache.put(i,d),d}supportsMultidirectionalHillshade(){return this.layer.version>=10.81}load(t){return this.addResolvingPromise(this.layer.load(t).then((()=>{this.generateRasterInfo({rasterFunction:this.rasterFunction,signal:t?.signal}).then((t=>this.rasterInfo=t))}))),Promise.resolve(this)}};t([e()],n.prototype,\"layer\",void 0),n=t([s(\"esri.smartMapping.raster.support.adapters.ImageryLayerAdapter\")],n);const c=n;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Error.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../../geometry/Extent.js\";import{estimateStatisticsHistograms as o}from\"../../../../layers/support/rasterFunctions/stretchUtils.js\";import i from\"./RasterLayerAdapter.js\";let n=class extends i{async generateRasterInfo(t){const{layer:r}=this,e=t?.rasterFunction;if(\"imagery-tile\"===r.type&&e)try{return await r.generateRasterInfo(e,{signal:t?.signal})}catch{return r.serviceRasterInfo}return this.rasterInfo}async estimateStatisticsHistograms(t){const{layer:e}=this,a=e.multidimensionalDefinition?.[0]?.variableName??\"\",s=`${e.rasterFunction?.functionName??\"default\"}${a}`,i=this._statsCache.get(s);if(i)return i;const{raster:n}=e,{extent:l,width:h,height:c}=m(n.rasterInfo),{pixelBlock:p}=await e.fetchPixels(l,h,c,t);if(null==p)throw new r(\"raster-layer-adapter\",\"Unable to estimate histograms\");const f=o(p);return f&&this._statsCache.put(s,f),f}supportsMultidirectionalHillshade(){return!0}load(t){return this.addResolvingPromise(this.layer.load(t).then((()=>this.rasterInfo=this.layer.raster.rasterInfo))),Promise.resolve(this)}};function m(t,r=1e3){const{pyramidScalingFactor:e,maximumPyramidLevel:a}=t.storageInfo;let{extent:o,width:i,height:n,pixelSize:m}=t,l=Math.max(0,Math.ceil(Math.log(Math.max(i,n)/r)/Math.log(e))-1),h=0,c=0;if(l<=a){const t=e**l;i=Math.floor(i/t),n=Math.floor(n/t)}else l=0,i=Math.min(i,r),n=Math.min(n,r),h=Math.max(Math.floor(i/2-500),0),c=Math.max(Math.floor(n/2-500),0),o=new s({xmin:o.xmin+h*m.x,xmax:Math.min(o.xmax,o.xmin+h*m.x*r),ymin:o.ymin+c*m.y,ymax:Math.min(o.ymax,o.ymin+c*m.y*r)});return{extent:o,width:i,height:n,origin:{x:h,y:c}}}t([e()],n.prototype,\"layer\",void 0),n=t([a(\"esri.smartMapping.raster.support.adapters.ImageryTileLayerAdapter\")],n);const l=n;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{getSupportedRendererTypes as r,getFunctionColorRamp as a,matchPresetRenderer as t,createDefaultRenderer as s,getDefaultBandCombination as n}from\"../../../renderers/support/rasterRendererHelper.js\";import i from\"./adapters/ImageryLayerAdapter.js\";import o from\"./adapters/ImageryTileLayerAdapter.js\";const l={imagery:{adapter:i,label:\"ImageryLayer\"},\"imagery-tile\":{adapter:o,label:\"ImageryTileLayer\"},wcs:{adapter:o,label:\"WCSLayer\"}},c={\"raster-stretch\":\"raster-stretch\",\"unique-value\":\"raster-unique-value\",\"raster-rgb\":\"raster-rgb\",\"class-breaks\":\"raster-class-breaks\",\"raster-colormap\":\"raster-colormap\",\"raster-shaded-relief\":\"raster-shaded-relief\",\"vector-field\":\"raster-vector-field\",flow:\"raster-flow\"},d=Object.keys(l).map((e=>l[e].label));function p(e){if(\"raster-layer-adapter\"===e.type)return e;const r=l[e.type]?.adapter;return null==r?null:new r({layer:e})}async function u(e){const n=p((e=await y(e)).layer),i=await n.generateRasterInfo(e),o=r(i,!0).map((e=>c[e])),l=n.layer,d=\"imagery-tile\"===l.type?a(l.raster):void 0,u=\"wcs\"!==l.type?l.presetRenderers:void 0,m=t({variableName:e.variableName,rasterFunctionName:e.rasterFunction?.functionName,presetRenderers:u}),f=m?.renderer??s(i,{rasterFunctionColorRamp:d,variableName:e.variableName}),{bandCount:b}=i;return b>1&&o.push(\"raster-rgb\"),!o.includes(\"raster-class-breaks\")&&1===b&&+n.layer?.version>=10.3&&o.push(\"raster-class-breaks\"),{supportedTypes:o,defaultRenderer:f}}async function m(e){const r=p((e=await y(e)).layer),a=await r.generateRasterInfo(e),{layer:s}=r;if(\"wcs\"!==s.type&&s.presetRenderers?.length){const r=t({variableName:e.variableName,rasterFunctionName:e.rasterFunction?.functionName,presetRenderers:s.presetRenderers});if(r?.bandIds?.length)return r.bandIds}return n(a)}async function y(r){const{layer:a}=r;if(!a)throw new e(\"raster-renderer-creator:missing-parameters\",\"'layer' parameter is required\");const t=p(a);if(null==t)throw new e(\"raster-renderer-creator:invalid-parameters\",\"'layer' must be one of these types: \"+d.join(\", \"));await t.load();const s=r.rasterFunction??r.renderingRule??a.rasterFunction;return await t.updateRasterInfo({rasterFunction:s,signal:r.signal}),{...r,layer:t,rasterFunction:s}}export{p as createRasterLayerAdapter,m as getDefaultBandCombination,u as getSupportedRendererInfo,y as processRasterRendererParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport r from\"../../../core/Error.js\";import{createVectorFieldRenderer as e}from\"../../../renderers/support/rasterRendererHelper.js\";import{processRasterRendererParameters as t}from\"../support/utils.js\";async function o(r){return r=await t(r)}async function n(t){t=await o(t);const n=e(t.layer.serviceRasterInfo);if(null==n)throw new r(\"vector-field-renderer:not-supported\",\"Only vector data is supported\");return t.flowRepresentation&&(n.flowRepresentation=t.flowRepresentation),t.rotationType&&(n.rotationType=t.rotationType),t.style&&(n.style=t.style),{renderer:n}}export{n as createRenderer};\n"],"names":["a","s","constructor","super","arguments","this","type","_statsCache","r","serviceRasterInfo","rasterInfo","updateRasterInfo","t","generateRasterInfo","rasterFunction","updateRasterInfoWithEstimatedStats","estimateStatisticsHistograms","statistics","histograms","o","prototype","readOnly","e","i","n","layer","signal","Promise","resolve","mosaicRule","multidimensionalDefinition","variableName","functionName","get","width","c","height","m","pixelSize","l","p","u","fullExtent","h","g","x","y","spatialReference","f","geometry","renderingRule","d","capabilities","operations","supportsComputeStatisticsHistograms","computeStatisticsHistograms","computeHistograms","put","supportsMultidirectionalHillshade","version","load","addResolvingPromise","then","raster","extent","length","undefined","pyramidScalingFactor","maximumPyramidLevel","storageInfo","Math","max","ceil","log","floor","min","xmin","xmax","ymin","ymax","origin","pixelBlock","fetchPixels","imagery","adapter","label","wcs","flow","Object","keys","map","async","presetRenderers","rasterFunctionName","renderer","rasterFunctionColorRamp","bandCount","b","push","includes","supportedTypes","defaultRenderer","bandIds","join","flowRepresentation","rotationType","style"],"sourceRoot":""}